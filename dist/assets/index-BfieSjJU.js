function BC(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in r)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var Ai=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function HC(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function VV(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var s=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return r[i]}})}),t}var qC={exports:{}},m0={},WC={exports:{}},Ip={exports:{}};Ip.exports;(function(r,e){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t="18.3.1",i=Symbol.for("react.element"),s=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),_=Symbol.iterator,O="@@iterator";function A(D){if(D===null||typeof D!="object")return null;var M=_&&D[_]||D[O];return typeof M=="function"?M:null}var F={current:null},P={transition:null},K={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},le={current:null},L={},ne=null;function re(D){ne=D}L.setExtraStackFrame=function(D){ne=D},L.getCurrentStack=null,L.getStackAddendum=function(){var D="";ne&&(D+=ne);var M=L.getCurrentStack;return M&&(D+=M()||""),D};var ve=!1,Le=!1,ze=!1,Re=!1,be=!1,ye={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:P,ReactCurrentOwner:le};ye.ReactDebugCurrentFrame=L,ye.ReactCurrentActQueue=K;function $e(D){{for(var M=arguments.length,G=new Array(M>1?M-1:0),Y=1;Y<M;Y++)G[Y-1]=arguments[Y];Ie("warn",D,G)}}function Ee(D){{for(var M=arguments.length,G=new Array(M>1?M-1:0),Y=1;Y<M;Y++)G[Y-1]=arguments[Y];Ie("error",D,G)}}function Ie(D,M,G){{var Y=ye.ReactDebugCurrentFrame,ge=Y.getStackAddendum();ge!==""&&(M+="%s",G=G.concat([ge]));var qe=G.map(function(Me){return String(Me)});qe.unshift("Warning: "+M),Function.prototype.apply.call(console[D],console,qe)}}var jt={};function Lt(D,M){{var G=D.constructor,Y=G&&(G.displayName||G.name)||"ReactClass",ge=Y+"."+M;if(jt[ge])return;Ee("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",M,Y),jt[ge]=!0}}var Dt={isMounted:function(D){return!1},enqueueForceUpdate:function(D,M,G){Lt(D,"forceUpdate")},enqueueReplaceState:function(D,M,G,Y){Lt(D,"replaceState")},enqueueSetState:function(D,M,G,Y){Lt(D,"setState")}},gt=Object.assign,rn={};Object.freeze(rn);function Ut(D,M,G){this.props=D,this.context=M,this.refs=rn,this.updater=G||Dt}Ut.prototype.isReactComponent={},Ut.prototype.setState=function(D,M){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,M,"setState")},Ut.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};{var Nt={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},ln=function(D,M){Object.defineProperty(Ut.prototype,D,{get:function(){$e("%s(...) is deprecated in plain JavaScript React classes. %s",M[0],M[1])}})};for(var zt in Nt)Nt.hasOwnProperty(zt)&&ln(zt,Nt[zt])}function pn(){}pn.prototype=Ut.prototype;function xn(D,M,G){this.props=D,this.context=M,this.refs=rn,this.updater=G||Dt}var mn=xn.prototype=new pn;mn.constructor=xn,gt(mn,Ut.prototype),mn.isPureReactComponent=!0;function an(){var D={current:null};return Object.seal(D),D}var Ot=Array.isArray;function Gt(D){return Ot(D)}function Nn(D){{var M=typeof Symbol=="function"&&Symbol.toStringTag,G=M&&D[Symbol.toStringTag]||D.constructor.name||"Object";return G}}function fn(D){try{return Ht(D),!1}catch{return!0}}function Ht(D){return""+D}function yr(D){if(fn(D))return Ee("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Nn(D)),Ht(D)}function ei(D,M,G){var Y=D.displayName;if(Y)return Y;var ge=M.displayName||M.name||"";return ge!==""?G+"("+ge+")":G}function Fn(D){return D.displayName||"Context"}function $n(D){if(D==null)return null;if(typeof D.tag=="number"&&Ee("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof D=="function")return D.displayName||D.name||null;if(typeof D=="string")return D;switch(D){case o:return"Fragment";case s:return"Portal";case d:return"Profiler";case l:return"StrictMode";case v:return"Suspense";case b:return"SuspenseList"}if(typeof D=="object")switch(D.$$typeof){case p:var M=D;return Fn(M)+".Consumer";case f:var G=D;return Fn(G._context)+".Provider";case m:return ei(D,D.render,"ForwardRef");case x:var Y=D.displayName||null;return Y!==null?Y:$n(D.type)||"Memo";case w:{var ge=D,qe=ge._payload,Me=ge._init;try{return $n(Me(qe))}catch{return null}}}return null}var En=Object.prototype.hasOwnProperty,wn={key:!0,ref:!0,__self:!0,__source:!0},On,Dn,Jt;Jt={};function ue(D){if(En.call(D,"ref")){var M=Object.getOwnPropertyDescriptor(D,"ref").get;if(M&&M.isReactWarning)return!1}return D.ref!==void 0}function me(D){if(En.call(D,"key")){var M=Object.getOwnPropertyDescriptor(D,"key").get;if(M&&M.isReactWarning)return!1}return D.key!==void 0}function Ue(D,M){var G=function(){On||(On=!0,Ee("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",M))};G.isReactWarning=!0,Object.defineProperty(D,"key",{get:G,configurable:!0})}function Ve(D,M){var G=function(){Dn||(Dn=!0,Ee("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",M))};G.isReactWarning=!0,Object.defineProperty(D,"ref",{get:G,configurable:!0})}function ae(D){if(typeof D.ref=="string"&&le.current&&D.__self&&le.current.stateNode!==D.__self){var M=$n(le.current.type);Jt[M]||(Ee('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',M,D.ref),Jt[M]=!0)}}var we=function(D,M,G,Y,ge,qe,Me){var tt={$$typeof:i,type:D,key:M,ref:G,props:Me,_owner:qe};return tt._store={},Object.defineProperty(tt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(tt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Y}),Object.defineProperty(tt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:ge}),Object.freeze&&(Object.freeze(tt.props),Object.freeze(tt)),tt};function Pe(D,M,G){var Y,ge={},qe=null,Me=null,tt=null,bt=null;if(M!=null){ue(M)&&(Me=M.ref,ae(M)),me(M)&&(yr(M.key),qe=""+M.key),tt=M.__self===void 0?null:M.__self,bt=M.__source===void 0?null:M.__source;for(Y in M)En.call(M,Y)&&!wn.hasOwnProperty(Y)&&(ge[Y]=M[Y])}var Pt=arguments.length-2;if(Pt===1)ge.children=G;else if(Pt>1){for(var Zt=Array(Pt),en=0;en<Pt;en++)Zt[en]=arguments[en+2];Object.freeze&&Object.freeze(Zt),ge.children=Zt}if(D&&D.defaultProps){var ft=D.defaultProps;for(Y in ft)ge[Y]===void 0&&(ge[Y]=ft[Y])}if(qe||Me){var cn=typeof D=="function"?D.displayName||D.name||"Unknown":D;qe&&Ue(ge,cn),Me&&Ve(ge,cn)}return we(D,qe,Me,tt,bt,le.current,ge)}function Ge(D,M){var G=we(D.type,M,D.ref,D._self,D._source,D._owner,D.props);return G}function ut(D,M,G){if(D==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Y,ge=gt({},D.props),qe=D.key,Me=D.ref,tt=D._self,bt=D._source,Pt=D._owner;if(M!=null){ue(M)&&(Me=M.ref,Pt=le.current),me(M)&&(yr(M.key),qe=""+M.key);var Zt;D.type&&D.type.defaultProps&&(Zt=D.type.defaultProps);for(Y in M)En.call(M,Y)&&!wn.hasOwnProperty(Y)&&(M[Y]===void 0&&Zt!==void 0?ge[Y]=Zt[Y]:ge[Y]=M[Y])}var en=arguments.length-2;if(en===1)ge.children=G;else if(en>1){for(var ft=Array(en),cn=0;cn<en;cn++)ft[cn]=arguments[cn+2];ge.children=ft}return we(D.type,qe,Me,tt,bt,Pt,ge)}function Ye(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}var ot=".",Kt=":";function Vt(D){var M=/[=:]/g,G={"=":"=0",":":"=2"},Y=D.replace(M,function(ge){return G[ge]});return"$"+Y}var vt=!1,qt=/\/+/g;function Bn(D){return D.replace(qt,"$&/")}function ir(D,M){return typeof D=="object"&&D!==null&&D.key!=null?(yr(D.key),Vt(""+D.key)):M.toString(36)}function Fr(D,M,G,Y,ge){var qe=typeof D;(qe==="undefined"||qe==="boolean")&&(D=null);var Me=!1;if(D===null)Me=!0;else switch(qe){case"string":case"number":Me=!0;break;case"object":switch(D.$$typeof){case i:case s:Me=!0}}if(Me){var tt=D,bt=ge(tt),Pt=Y===""?ot+ir(tt,0):Y;if(Gt(bt)){var Zt="";Pt!=null&&(Zt=Bn(Pt)+"/"),Fr(bt,M,Zt,"",function(Lm){return Lm})}else bt!=null&&(Ye(bt)&&(bt.key&&(!tt||tt.key!==bt.key)&&yr(bt.key),bt=Ge(bt,G+(bt.key&&(!tt||tt.key!==bt.key)?Bn(""+bt.key)+"/":"")+Pt)),M.push(bt));return 1}var en,ft,cn=0,Cn=Y===""?ot:Y+Kt;if(Gt(D))for(var po=0;po<D.length;po++)en=D[po],ft=Cn+ir(en,po),cn+=Fr(en,M,G,ft,ge);else{var ec=A(D);if(typeof ec=="function"){var Aa=D;ec===Aa.entries&&(vt||$e("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),vt=!0);for(var tc=ec.call(Aa),nc,jm=0;!(nc=tc.next()).done;)en=nc.value,ft=Cn+ir(en,jm++),cn+=Fr(en,M,G,ft,ge)}else if(qe==="object"){var bf=String(D);throw new Error("Objects are not valid as a React child (found: "+(bf==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":bf)+"). If you meant to render a collection of children, use an array instead.")}}return cn}function vi(D,M,G){if(D==null)return D;var Y=[],ge=0;return Fr(D,Y,"","",function(qe){return M.call(G,qe,ge++)}),Y}function so(D){var M=0;return vi(D,function(){M++}),M}function sa(D,M,G){vi(D,function(){M.apply(this,arguments)},G)}function Ui(D){return vi(D,function(M){return M})||[]}function ji(D){if(!Ye(D))throw new Error("React.Children.only expected to receive a single React element child.");return D}function ka(D){var M={$$typeof:p,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};M.Provider={$$typeof:f,_context:M};var G=!1,Y=!1,ge=!1;{var qe={$$typeof:p,_context:M};Object.defineProperties(qe,{Provider:{get:function(){return Y||(Y=!0,Ee("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),M.Provider},set:function(Me){M.Provider=Me}},_currentValue:{get:function(){return M._currentValue},set:function(Me){M._currentValue=Me}},_currentValue2:{get:function(){return M._currentValue2},set:function(Me){M._currentValue2=Me}},_threadCount:{get:function(){return M._threadCount},set:function(Me){M._threadCount=Me}},Consumer:{get:function(){return G||(G=!0,Ee("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),M.Consumer}},displayName:{get:function(){return M.displayName},set:function(Me){ge||($e("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",Me),ge=!0)}}}),M.Consumer=qe}return M._currentRenderer=null,M._currentRenderer2=null,M}var ti=-1,j=0,I=1,W=2;function se(D){if(D._status===ti){var M=D._result,G=M();if(G.then(function(qe){if(D._status===j||D._status===ti){var Me=D;Me._status=I,Me._result=qe}},function(qe){if(D._status===j||D._status===ti){var Me=D;Me._status=W,Me._result=qe}}),D._status===ti){var Y=D;Y._status=j,Y._result=G}}if(D._status===I){var ge=D._result;return ge===void 0&&Ee(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,ge),"default"in ge||Ee(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,ge),ge.default}else throw D._result}function k(D){var M={_status:ti,_result:D},G={$$typeof:w,_payload:M,_init:se};{var Y,ge;Object.defineProperties(G,{defaultProps:{configurable:!0,get:function(){return Y},set:function(qe){Ee("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Y=qe,Object.defineProperty(G,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return ge},set:function(qe){Ee("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),ge=qe,Object.defineProperty(G,"propTypes",{enumerable:!0})}}})}return G}function H(D){D!=null&&D.$$typeof===x?Ee("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof D!="function"?Ee("forwardRef requires a render function but was given %s.",D===null?"null":typeof D):D.length!==0&&D.length!==2&&Ee("forwardRef render functions accept exactly two parameters: props and ref. %s",D.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),D!=null&&(D.defaultProps!=null||D.propTypes!=null)&&Ee("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var M={$$typeof:m,render:D};{var G;Object.defineProperty(M,"displayName",{enumerable:!1,configurable:!0,get:function(){return G},set:function(Y){G=Y,!D.name&&!D.displayName&&(D.displayName=Y)}})}return M}var Z;Z=Symbol.for("react.module.reference");function ee(D){return!!(typeof D=="string"||typeof D=="function"||D===o||D===d||be||D===l||D===v||D===b||Re||D===C||ve||Le||ze||typeof D=="object"&&D!==null&&(D.$$typeof===w||D.$$typeof===x||D.$$typeof===f||D.$$typeof===p||D.$$typeof===m||D.$$typeof===Z||D.getModuleId!==void 0))}function fe(D,M){ee(D)||Ee("memo: The first argument must be a component. Instead received: %s",D===null?"null":typeof D);var G={$$typeof:x,type:D,compare:M===void 0?null:M};{var Y;Object.defineProperty(G,"displayName",{enumerable:!1,configurable:!0,get:function(){return Y},set:function(ge){Y=ge,!D.name&&!D.displayName&&(D.displayName=ge)}})}return G}function ie(){var D=F.current;return D===null&&Ee(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),D}function ce(D){var M=ie();if(D._context!==void 0){var G=D._context;G.Consumer===D?Ee("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):G.Provider===D&&Ee("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return M.useContext(D)}function pe(D){var M=ie();return M.useState(D)}function Be(D,M,G){var Y=ie();return Y.useReducer(D,M,G)}function st(D){var M=ie();return M.useRef(D)}function Je(D,M){var G=ie();return G.useEffect(D,M)}function Xe(D,M){var G=ie();return G.useInsertionEffect(D,M)}function Tt(D,M){var G=ie();return G.useLayoutEffect(D,M)}function Hn(D,M){var G=ie();return G.useCallback(D,M)}function sn(D,M){var G=ie();return G.useMemo(D,M)}function ar(D,M,G){var Y=ie();return Y.useImperativeHandle(D,M,G)}function gn(D,M){{var G=ie();return G.useDebugValue(D,M)}}function at(){var D=ie();return D.useTransition()}function ni(D){var M=ie();return M.useDeferredValue(D)}function yi(){var D=ie();return D.useId()}function Ra(D,M,G){var Y=ie();return Y.useSyncExternalStore(D,M,G)}var ri=0,yt,Wt,bi,Li,Xt,zi,oo;function as(){}as.__reactDisabledLog=!0;function qu(){{if(ri===0){yt=console.log,Wt=console.info,bi=console.warn,Li=console.error,Xt=console.group,zi=console.groupCollapsed,oo=console.groupEnd;var D={configurable:!0,enumerable:!0,value:as,writable:!0};Object.defineProperties(console,{info:D,log:D,warn:D,error:D,group:D,groupCollapsed:D,groupEnd:D})}ri++}}function oa(){{if(ri--,ri===0){var D={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:gt({},D,{value:yt}),info:gt({},D,{value:Wt}),warn:gt({},D,{value:bi}),error:gt({},D,{value:Li}),group:gt({},D,{value:Xt}),groupCollapsed:gt({},D,{value:zi}),groupEnd:gt({},D,{value:oo})})}ri<0&&Ee("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var lo=ye.ReactCurrentDispatcher,ss;function gl(D,M,G){{if(ss===void 0)try{throw Error()}catch(ge){var Y=ge.stack.trim().match(/\n( *(at )?)/);ss=Y&&Y[1]||""}return`
`+ss+D}}var uo=!1,vl;{var Wu=typeof WeakMap=="function"?WeakMap:Map;vl=new Wu}function ff(D,M){if(!D||uo)return"";{var G=vl.get(D);if(G!==void 0)return G}var Y;uo=!0;var ge=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var qe;qe=lo.current,lo.current=null,qu();try{if(M){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(Cn){Y=Cn}Reflect.construct(D,[],Me)}else{try{Me.call()}catch(Cn){Y=Cn}D.call(Me.prototype)}}else{try{throw Error()}catch(Cn){Y=Cn}D()}}catch(Cn){if(Cn&&Y&&typeof Cn.stack=="string"){for(var tt=Cn.stack.split(`
`),bt=Y.stack.split(`
`),Pt=tt.length-1,Zt=bt.length-1;Pt>=1&&Zt>=0&&tt[Pt]!==bt[Zt];)Zt--;for(;Pt>=1&&Zt>=0;Pt--,Zt--)if(tt[Pt]!==bt[Zt]){if(Pt!==1||Zt!==1)do if(Pt--,Zt--,Zt<0||tt[Pt]!==bt[Zt]){var en=`
`+tt[Pt].replace(" at new "," at ");return D.displayName&&en.includes("<anonymous>")&&(en=en.replace("<anonymous>",D.displayName)),typeof D=="function"&&vl.set(D,en),en}while(Pt>=1&&Zt>=0);break}}}finally{uo=!1,lo.current=qe,oa(),Error.prepareStackTrace=ge}var ft=D?D.displayName||D.name:"",cn=ft?gl(ft):"";return typeof D=="function"&&vl.set(D,cn),cn}function Gu(D,M,G){return ff(D,!1)}function Rm(D){var M=D.prototype;return!!(M&&M.isReactComponent)}function co(D,M,G){if(D==null)return"";if(typeof D=="function")return ff(D,Rm(D));if(typeof D=="string")return gl(D);switch(D){case v:return gl("Suspense");case b:return gl("SuspenseList")}if(typeof D=="object")switch(D.$$typeof){case m:return Gu(D.render);case x:return co(D.type,M,G);case w:{var Y=D,ge=Y._payload,qe=Y._init;try{return co(qe(ge),M,G)}catch{}}}return""}var hf={},Ju=ye.ReactDebugCurrentFrame;function kt(D){if(D){var M=D._owner,G=co(D.type,D._source,M?M.type:null);Ju.setExtraStackFrame(G)}else Ju.setExtraStackFrame(null)}function Om(D,M,G,Y,ge){{var qe=Function.call.bind(En);for(var Me in D)if(qe(D,Me)){var tt=void 0;try{if(typeof D[Me]!="function"){var bt=Error((Y||"React class")+": "+G+" type `"+Me+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof D[Me]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw bt.name="Invariant Violation",bt}tt=D[Me](M,Me,Y,G,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Pt){tt=Pt}tt&&!(tt instanceof Error)&&(kt(ge),Ee("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Y||"React class",G,Me,typeof tt),kt(null)),tt instanceof Error&&!(tt.message in hf)&&(hf[tt.message]=!0,kt(ge),Ee("Failed %s type: %s",G,tt.message),kt(null))}}}function Oa(D){if(D){var M=D._owner,G=co(D.type,D._source,M?M.type:null);re(G)}else re(null)}var rt;rt=!1;function Ku(){if(le.current){var D=$n(le.current.type);if(D)return`

Check the render method of \``+D+"`."}return""}function Tr(D){if(D!==void 0){var M=D.fileName.replace(/^.*[\\\/]/,""),G=D.lineNumber;return`

Check your code at `+M+":"+G+"."}return""}function fo(D){return D!=null?Tr(D.__source):""}var ls={};function Mm(D){var M=Ku();if(!M){var G=typeof D=="string"?D:D.displayName||D.name;G&&(M=`

Check the top-level render call using <`+G+">.")}return M}function qn(D,M){if(!(!D._store||D._store.validated||D.key!=null)){D._store.validated=!0;var G=Mm(M);if(!ls[G]){ls[G]=!0;var Y="";D&&D._owner&&D._owner!==le.current&&(Y=" It was passed a child from "+$n(D._owner.type)+"."),Oa(D),Ee('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',G,Y),Oa(null)}}}function un(D,M){if(typeof D=="object"){if(Gt(D))for(var G=0;G<D.length;G++){var Y=D[G];Ye(Y)&&qn(Y,M)}else if(Ye(D))D._store&&(D._store.validated=!0);else if(D){var ge=A(D);if(typeof ge=="function"&&ge!==D.entries)for(var qe=ge.call(D),Me;!(Me=qe.next()).done;)Ye(Me.value)&&qn(Me.value,M)}}}function pf(D){{var M=D.type;if(M==null||typeof M=="string")return;var G;if(typeof M=="function")G=M.propTypes;else if(typeof M=="object"&&(M.$$typeof===m||M.$$typeof===x))G=M.propTypes;else return;if(G){var Y=$n(M);Om(G,D.props,"prop",Y,D)}else if(M.PropTypes!==void 0&&!rt){rt=!0;var ge=$n(M);Ee("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",ge||"Unknown")}typeof M.getDefaultProps=="function"&&!M.getDefaultProps.isReactClassApproved&&Ee("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function xi(D){{for(var M=Object.keys(D.props),G=0;G<M.length;G++){var Y=M[G];if(Y!=="children"&&Y!=="key"){Oa(D),Ee("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Y),Oa(null);break}}D.ref!==null&&(Oa(D),Ee("Invalid attribute `ref` supplied to `React.Fragment`."),Oa(null))}}function kr(D,M,G){var Y=ee(D);if(!Y){var ge="";(D===void 0||typeof D=="object"&&D!==null&&Object.keys(D).length===0)&&(ge+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var qe=fo(M);qe?ge+=qe:ge+=Ku();var Me;D===null?Me="null":Gt(D)?Me="array":D!==void 0&&D.$$typeof===i?(Me="<"+($n(D.type)||"Unknown")+" />",ge=" Did you accidentally export a JSX literal instead of a component?"):Me=typeof D,Ee("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Me,ge)}var tt=Pe.apply(this,arguments);if(tt==null)return tt;if(Y)for(var bt=2;bt<arguments.length;bt++)un(arguments[bt],D);return D===o?xi(tt):pf(tt),tt}var Vi=!1;function Am(D){var M=kr.bind(null,D);return M.type=D,Vi||(Vi=!0,$e("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(M,"type",{enumerable:!1,get:function(){return $e("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:D}),D}}),M}function Yu(D,M,G){for(var Y=ut.apply(this,arguments),ge=2;ge<arguments.length;ge++)un(arguments[ge],Y.type);return pf(Y),Y}function mf(D,M){var G=P.transition;P.transition={};var Y=P.transition;P.transition._updatedFibers=new Set;try{D()}finally{if(P.transition=G,G===null&&Y._updatedFibers){var ge=Y._updatedFibers.size;ge>10&&$e("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),Y._updatedFibers.clear()}}}var Qu=!1,yl=null;function Um(D){if(yl===null)try{var M=("require"+Math.random()).slice(0,7),G=r&&r[M];yl=G.call(r,"timers").setImmediate}catch{yl=function(ge){Qu===!1&&(Qu=!0,typeof MessageChannel>"u"&&Ee("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var qe=new MessageChannel;qe.port1.onmessage=ge,qe.port2.postMessage(void 0)}}return yl(D)}var us=0,ho=!1;function Xu(D){{var M=us;us++,K.current===null&&(K.current=[]);var G=K.isBatchingLegacy,Y;try{if(K.isBatchingLegacy=!0,Y=D(),!G&&K.didScheduleLegacyUpdate){var ge=K.current;ge!==null&&(K.didScheduleLegacyUpdate=!1,wl(ge))}}catch(ft){throw Ma(M),ft}finally{K.isBatchingLegacy=G}if(Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var qe=Y,Me=!1,tt={then:function(ft,cn){Me=!0,qe.then(function(Cn){Ma(M),us===0?bl(Cn,ft,cn):ft(Cn)},function(Cn){Ma(M),cn(Cn)})}};return!ho&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){Me||(ho=!0,Ee("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),tt}else{var bt=Y;if(Ma(M),us===0){var Pt=K.current;Pt!==null&&(wl(Pt),K.current=null);var Zt={then:function(ft,cn){K.current===null?(K.current=[],bl(bt,ft,cn)):ft(bt)}};return Zt}else{var en={then:function(ft,cn){ft(bt)}};return en}}}}function Ma(D){D!==us-1&&Ee("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),us=D}function bl(D,M,G){{var Y=K.current;if(Y!==null)try{wl(Y),Um(function(){Y.length===0?(K.current=null,M(D)):bl(D,M,G)})}catch(ge){G(ge)}else M(D)}}var xl=!1;function wl(D){if(!xl){xl=!0;var M=0;try{for(;M<D.length;M++){var G=D[M];do G=G(!0);while(G!==null)}D.length=0}catch(Y){throw D=D.slice(M+1),Y}finally{xl=!1}}}var gf=kr,vf=Yu,Zu=Am,yf={map:vi,forEach:sa,count:so,toArray:Ui,only:ji};e.Children=yf,e.Component=Ut,e.Fragment=o,e.Profiler=d,e.PureComponent=xn,e.StrictMode=l,e.Suspense=v,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,e.act=Xu,e.cloneElement=vf,e.createContext=ka,e.createElement=gf,e.createFactory=Zu,e.createRef=an,e.forwardRef=H,e.isValidElement=Ye,e.lazy=k,e.memo=fe,e.startTransition=mf,e.unstable_act=Xu,e.useCallback=Hn,e.useContext=ce,e.useDebugValue=gn,e.useDeferredValue=ni,e.useEffect=Je,e.useId=yi,e.useImperativeHandle=ar,e.useInsertionEffect=Xe,e.useLayoutEffect=Tt,e.useMemo=sn,e.useReducer=Be,e.useRef=st,e.useState=pe,e.useSyncExternalStore=Ra,e.useTransition=at,e.version=t,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(Ip,Ip.exports);var PV=Ip.exports;WC.exports=PV;var U=WC.exports;const Xn=HC(U),IV=BC({__proto__:null,default:Xn},[U]);/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var r=U,e=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),w=Symbol.iterator,C="@@iterator";function _(k){if(k===null||typeof k!="object")return null;var H=w&&k[w]||k[C];return typeof H=="function"?H:null}var O=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function A(k){{for(var H=arguments.length,Z=new Array(H>1?H-1:0),ee=1;ee<H;ee++)Z[ee-1]=arguments[ee];F("error",k,Z)}}function F(k,H,Z){{var ee=O.ReactDebugCurrentFrame,fe=ee.getStackAddendum();fe!==""&&(H+="%s",Z=Z.concat([fe]));var ie=Z.map(function(ce){return String(ce)});ie.unshift("Warning: "+H),Function.prototype.apply.call(console[k],console,ie)}}var P=!1,K=!1,le=!1,L=!1,ne=!1,re;re=Symbol.for("react.module.reference");function ve(k){return!!(typeof k=="string"||typeof k=="function"||k===i||k===o||ne||k===s||k===p||k===m||L||k===x||P||K||le||typeof k=="object"&&k!==null&&(k.$$typeof===b||k.$$typeof===v||k.$$typeof===l||k.$$typeof===d||k.$$typeof===f||k.$$typeof===re||k.getModuleId!==void 0))}function Le(k,H,Z){var ee=k.displayName;if(ee)return ee;var fe=H.displayName||H.name||"";return fe!==""?Z+"("+fe+")":Z}function ze(k){return k.displayName||"Context"}function Re(k){if(k==null)return null;if(typeof k.tag=="number"&&A("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof k=="function")return k.displayName||k.name||null;if(typeof k=="string")return k;switch(k){case i:return"Fragment";case t:return"Portal";case o:return"Profiler";case s:return"StrictMode";case p:return"Suspense";case m:return"SuspenseList"}if(typeof k=="object")switch(k.$$typeof){case d:var H=k;return ze(H)+".Consumer";case l:var Z=k;return ze(Z._context)+".Provider";case f:return Le(k,k.render,"ForwardRef");case v:var ee=k.displayName||null;return ee!==null?ee:Re(k.type)||"Memo";case b:{var fe=k,ie=fe._payload,ce=fe._init;try{return Re(ce(ie))}catch{return null}}}return null}var be=Object.assign,ye=0,$e,Ee,Ie,jt,Lt,Dt,gt;function rn(){}rn.__reactDisabledLog=!0;function Ut(){{if(ye===0){$e=console.log,Ee=console.info,Ie=console.warn,jt=console.error,Lt=console.group,Dt=console.groupCollapsed,gt=console.groupEnd;var k={configurable:!0,enumerable:!0,value:rn,writable:!0};Object.defineProperties(console,{info:k,log:k,warn:k,error:k,group:k,groupCollapsed:k,groupEnd:k})}ye++}}function Nt(){{if(ye--,ye===0){var k={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:be({},k,{value:$e}),info:be({},k,{value:Ee}),warn:be({},k,{value:Ie}),error:be({},k,{value:jt}),group:be({},k,{value:Lt}),groupCollapsed:be({},k,{value:Dt}),groupEnd:be({},k,{value:gt})})}ye<0&&A("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ln=O.ReactCurrentDispatcher,zt;function pn(k,H,Z){{if(zt===void 0)try{throw Error()}catch(fe){var ee=fe.stack.trim().match(/\n( *(at )?)/);zt=ee&&ee[1]||""}return`
`+zt+k}}var xn=!1,mn;{var an=typeof WeakMap=="function"?WeakMap:Map;mn=new an}function Ot(k,H){if(!k||xn)return"";{var Z=mn.get(k);if(Z!==void 0)return Z}var ee;xn=!0;var fe=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var ie;ie=ln.current,ln.current=null,Ut();try{if(H){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(sn){ee=sn}Reflect.construct(k,[],ce)}else{try{ce.call()}catch(sn){ee=sn}k.call(ce.prototype)}}else{try{throw Error()}catch(sn){ee=sn}k()}}catch(sn){if(sn&&ee&&typeof sn.stack=="string"){for(var pe=sn.stack.split(`
`),Be=ee.stack.split(`
`),st=pe.length-1,Je=Be.length-1;st>=1&&Je>=0&&pe[st]!==Be[Je];)Je--;for(;st>=1&&Je>=0;st--,Je--)if(pe[st]!==Be[Je]){if(st!==1||Je!==1)do if(st--,Je--,Je<0||pe[st]!==Be[Je]){var Xe=`
`+pe[st].replace(" at new "," at ");return k.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",k.displayName)),typeof k=="function"&&mn.set(k,Xe),Xe}while(st>=1&&Je>=0);break}}}finally{xn=!1,ln.current=ie,Nt(),Error.prepareStackTrace=fe}var Tt=k?k.displayName||k.name:"",Hn=Tt?pn(Tt):"";return typeof k=="function"&&mn.set(k,Hn),Hn}function Gt(k,H,Z){return Ot(k,!1)}function Nn(k){var H=k.prototype;return!!(H&&H.isReactComponent)}function fn(k,H,Z){if(k==null)return"";if(typeof k=="function")return Ot(k,Nn(k));if(typeof k=="string")return pn(k);switch(k){case p:return pn("Suspense");case m:return pn("SuspenseList")}if(typeof k=="object")switch(k.$$typeof){case f:return Gt(k.render);case v:return fn(k.type,H,Z);case b:{var ee=k,fe=ee._payload,ie=ee._init;try{return fn(ie(fe),H,Z)}catch{}}}return""}var Ht=Object.prototype.hasOwnProperty,yr={},ei=O.ReactDebugCurrentFrame;function Fn(k){if(k){var H=k._owner,Z=fn(k.type,k._source,H?H.type:null);ei.setExtraStackFrame(Z)}else ei.setExtraStackFrame(null)}function $n(k,H,Z,ee,fe){{var ie=Function.call.bind(Ht);for(var ce in k)if(ie(k,ce)){var pe=void 0;try{if(typeof k[ce]!="function"){var Be=Error((ee||"React class")+": "+Z+" type `"+ce+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof k[ce]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Be.name="Invariant Violation",Be}pe=k[ce](H,ce,ee,Z,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(st){pe=st}pe&&!(pe instanceof Error)&&(Fn(fe),A("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ee||"React class",Z,ce,typeof pe),Fn(null)),pe instanceof Error&&!(pe.message in yr)&&(yr[pe.message]=!0,Fn(fe),A("Failed %s type: %s",Z,pe.message),Fn(null))}}}var En=Array.isArray;function wn(k){return En(k)}function On(k){{var H=typeof Symbol=="function"&&Symbol.toStringTag,Z=H&&k[Symbol.toStringTag]||k.constructor.name||"Object";return Z}}function Dn(k){try{return Jt(k),!1}catch{return!0}}function Jt(k){return""+k}function ue(k){if(Dn(k))return A("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",On(k)),Jt(k)}var me=O.ReactCurrentOwner,Ue={key:!0,ref:!0,__self:!0,__source:!0},Ve,ae,we;we={};function Pe(k){if(Ht.call(k,"ref")){var H=Object.getOwnPropertyDescriptor(k,"ref").get;if(H&&H.isReactWarning)return!1}return k.ref!==void 0}function Ge(k){if(Ht.call(k,"key")){var H=Object.getOwnPropertyDescriptor(k,"key").get;if(H&&H.isReactWarning)return!1}return k.key!==void 0}function ut(k,H){if(typeof k.ref=="string"&&me.current&&H&&me.current.stateNode!==H){var Z=Re(me.current.type);we[Z]||(A('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',Re(me.current.type),k.ref),we[Z]=!0)}}function Ye(k,H){{var Z=function(){Ve||(Ve=!0,A("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",H))};Z.isReactWarning=!0,Object.defineProperty(k,"key",{get:Z,configurable:!0})}}function ot(k,H){{var Z=function(){ae||(ae=!0,A("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",H))};Z.isReactWarning=!0,Object.defineProperty(k,"ref",{get:Z,configurable:!0})}}var Kt=function(k,H,Z,ee,fe,ie,ce){var pe={$$typeof:e,type:k,key:H,ref:Z,props:ce,_owner:ie};return pe._store={},Object.defineProperty(pe._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(pe,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ee}),Object.defineProperty(pe,"_source",{configurable:!1,enumerable:!1,writable:!1,value:fe}),Object.freeze&&(Object.freeze(pe.props),Object.freeze(pe)),pe};function Vt(k,H,Z,ee,fe){{var ie,ce={},pe=null,Be=null;Z!==void 0&&(ue(Z),pe=""+Z),Ge(H)&&(ue(H.key),pe=""+H.key),Pe(H)&&(Be=H.ref,ut(H,fe));for(ie in H)Ht.call(H,ie)&&!Ue.hasOwnProperty(ie)&&(ce[ie]=H[ie]);if(k&&k.defaultProps){var st=k.defaultProps;for(ie in st)ce[ie]===void 0&&(ce[ie]=st[ie])}if(pe||Be){var Je=typeof k=="function"?k.displayName||k.name||"Unknown":k;pe&&Ye(ce,Je),Be&&ot(ce,Je)}return Kt(k,pe,Be,fe,ee,me.current,ce)}}var vt=O.ReactCurrentOwner,qt=O.ReactDebugCurrentFrame;function Bn(k){if(k){var H=k._owner,Z=fn(k.type,k._source,H?H.type:null);qt.setExtraStackFrame(Z)}else qt.setExtraStackFrame(null)}var ir;ir=!1;function Fr(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function vi(){{if(vt.current){var k=Re(vt.current.type);if(k)return`

Check the render method of \``+k+"`."}return""}}function so(k){{if(k!==void 0){var H=k.fileName.replace(/^.*[\\\/]/,""),Z=k.lineNumber;return`

Check your code at `+H+":"+Z+"."}return""}}var sa={};function Ui(k){{var H=vi();if(!H){var Z=typeof k=="string"?k:k.displayName||k.name;Z&&(H=`

Check the top-level render call using <`+Z+">.")}return H}}function ji(k,H){{if(!k._store||k._store.validated||k.key!=null)return;k._store.validated=!0;var Z=Ui(H);if(sa[Z])return;sa[Z]=!0;var ee="";k&&k._owner&&k._owner!==vt.current&&(ee=" It was passed a child from "+Re(k._owner.type)+"."),Bn(k),A('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Z,ee),Bn(null)}}function ka(k,H){{if(typeof k!="object")return;if(wn(k))for(var Z=0;Z<k.length;Z++){var ee=k[Z];Fr(ee)&&ji(ee,H)}else if(Fr(k))k._store&&(k._store.validated=!0);else if(k){var fe=_(k);if(typeof fe=="function"&&fe!==k.entries)for(var ie=fe.call(k),ce;!(ce=ie.next()).done;)Fr(ce.value)&&ji(ce.value,H)}}}function ti(k){{var H=k.type;if(H==null||typeof H=="string")return;var Z;if(typeof H=="function")Z=H.propTypes;else if(typeof H=="object"&&(H.$$typeof===f||H.$$typeof===v))Z=H.propTypes;else return;if(Z){var ee=Re(H);$n(Z,k.props,"prop",ee,k)}else if(H.PropTypes!==void 0&&!ir){ir=!0;var fe=Re(H);A("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",fe||"Unknown")}typeof H.getDefaultProps=="function"&&!H.getDefaultProps.isReactClassApproved&&A("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function j(k){{for(var H=Object.keys(k.props),Z=0;Z<H.length;Z++){var ee=H[Z];if(ee!=="children"&&ee!=="key"){Bn(k),A("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ee),Bn(null);break}}k.ref!==null&&(Bn(k),A("Invalid attribute `ref` supplied to `React.Fragment`."),Bn(null))}}var I={};function W(k,H,Z,ee,fe,ie){{var ce=ve(k);if(!ce){var pe="";(k===void 0||typeof k=="object"&&k!==null&&Object.keys(k).length===0)&&(pe+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Be=so(fe);Be?pe+=Be:pe+=vi();var st;k===null?st="null":wn(k)?st="array":k!==void 0&&k.$$typeof===e?(st="<"+(Re(k.type)||"Unknown")+" />",pe=" Did you accidentally export a JSX literal instead of a component?"):st=typeof k,A("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",st,pe)}var Je=Vt(k,H,Z,fe,ie);if(Je==null)return Je;if(ce){var Xe=H.children;if(Xe!==void 0)if(ee)if(wn(Xe)){for(var Tt=0;Tt<Xe.length;Tt++)ka(Xe[Tt],k);Object.freeze&&Object.freeze(Xe)}else A("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ka(Xe,k)}if(Ht.call(H,"key")){var Hn=Re(k),sn=Object.keys(H).filter(function(at){return at!=="key"}),ar=sn.length>0?"{key: someKey, "+sn.join(": ..., ")+": ...}":"{key: someKey}";if(!I[Hn+ar]){var gn=sn.length>0?"{"+sn.join(": ..., ")+": ...}":"{}";A(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,ar,Hn,gn,Hn),I[Hn+ar]=!0}}return k===i?j(Je):ti(Je),Je}}var se=W;m0.Fragment=i,m0.jsxDEV=se})();qC.exports=m0;var N=qC.exports,GC={exports:{}},di={},JC={exports:{}},KC={};(function(r){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=!1,t=5;function i(ae,we){var Pe=ae.length;ae.push(we),l(ae,we,Pe)}function s(ae){return ae.length===0?null:ae[0]}function o(ae){if(ae.length===0)return null;var we=ae[0],Pe=ae.pop();return Pe!==we&&(ae[0]=Pe,d(ae,Pe,0)),we}function l(ae,we,Pe){for(var Ge=Pe;Ge>0;){var ut=Ge-1>>>1,Ye=ae[ut];if(f(Ye,we)>0)ae[ut]=we,ae[Ge]=Ye,Ge=ut;else return}}function d(ae,we,Pe){for(var Ge=Pe,ut=ae.length,Ye=ut>>>1;Ge<Ye;){var ot=(Ge+1)*2-1,Kt=ae[ot],Vt=ot+1,vt=ae[Vt];if(f(Kt,we)<0)Vt<ut&&f(vt,Kt)<0?(ae[Ge]=vt,ae[Vt]=we,Ge=Vt):(ae[Ge]=Kt,ae[ot]=we,Ge=ot);else if(Vt<ut&&f(vt,we)<0)ae[Ge]=vt,ae[Vt]=we,Ge=Vt;else return}}function f(ae,we){var Pe=ae.sortIndex-we.sortIndex;return Pe!==0?Pe:ae.id-we.id}var p=1,m=2,v=3,b=4,x=5;function w(ae,we){}var C=typeof performance=="object"&&typeof performance.now=="function";if(C){var _=performance;r.unstable_now=function(){return _.now()}}else{var O=Date,A=O.now();r.unstable_now=function(){return O.now()-A}}var F=1073741823,P=-1,K=250,le=5e3,L=1e4,ne=F,re=[],ve=[],Le=1,ze=null,Re=v,be=!1,ye=!1,$e=!1,Ee=typeof setTimeout=="function"?setTimeout:null,Ie=typeof clearTimeout=="function"?clearTimeout:null,jt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Lt(ae){for(var we=s(ve);we!==null;){if(we.callback===null)o(ve);else if(we.startTime<=ae)o(ve),we.sortIndex=we.expirationTime,i(re,we);else return;we=s(ve)}}function Dt(ae){if($e=!1,Lt(ae),!ye)if(s(re)!==null)ye=!0,Jt(gt);else{var we=s(ve);we!==null&&ue(Dt,we.startTime-ae)}}function gt(ae,we){ye=!1,$e&&($e=!1,me()),be=!0;var Pe=Re;try{var Ge;if(!e)return rn(ae,we)}finally{ze=null,Re=Pe,be=!1}}function rn(ae,we){var Pe=we;for(Lt(Pe),ze=s(re);ze!==null&&!(ze.expirationTime>Pe&&(!ae||ei()));){var Ge=ze.callback;if(typeof Ge=="function"){ze.callback=null,Re=ze.priorityLevel;var ut=ze.expirationTime<=Pe,Ye=Ge(ut);Pe=r.unstable_now(),typeof Ye=="function"?ze.callback=Ye:ze===s(re)&&o(re),Lt(Pe)}else o(re);ze=s(re)}if(ze!==null)return!0;var ot=s(ve);return ot!==null&&ue(Dt,ot.startTime-Pe),!1}function Ut(ae,we){switch(ae){case p:case m:case v:case b:case x:break;default:ae=v}var Pe=Re;Re=ae;try{return we()}finally{Re=Pe}}function Nt(ae){var we;switch(Re){case p:case m:case v:we=v;break;default:we=Re;break}var Pe=Re;Re=we;try{return ae()}finally{Re=Pe}}function ln(ae){var we=Re;return function(){var Pe=Re;Re=we;try{return ae.apply(this,arguments)}finally{Re=Pe}}}function zt(ae,we,Pe){var Ge=r.unstable_now(),ut;if(typeof Pe=="object"&&Pe!==null){var Ye=Pe.delay;typeof Ye=="number"&&Ye>0?ut=Ge+Ye:ut=Ge}else ut=Ge;var ot;switch(ae){case p:ot=P;break;case m:ot=K;break;case x:ot=ne;break;case b:ot=L;break;case v:default:ot=le;break}var Kt=ut+ot,Vt={id:Le++,callback:we,priorityLevel:ae,startTime:ut,expirationTime:Kt,sortIndex:-1};return ut>Ge?(Vt.sortIndex=ut,i(ve,Vt),s(re)===null&&Vt===s(ve)&&($e?me():$e=!0,ue(Dt,ut-Ge))):(Vt.sortIndex=Kt,i(re,Vt),!ye&&!be&&(ye=!0,Jt(gt))),Vt}function pn(){}function xn(){!ye&&!be&&(ye=!0,Jt(gt))}function mn(){return s(re)}function an(ae){ae.callback=null}function Ot(){return Re}var Gt=!1,Nn=null,fn=-1,Ht=t,yr=-1;function ei(){var ae=r.unstable_now()-yr;return!(ae<Ht)}function Fn(){}function $n(ae){if(ae<0||ae>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}ae>0?Ht=Math.floor(1e3/ae):Ht=t}var En=function(){if(Nn!==null){var ae=r.unstable_now();yr=ae;var we=!0,Pe=!0;try{Pe=Nn(we,ae)}finally{Pe?wn():(Gt=!1,Nn=null)}}else Gt=!1},wn;if(typeof jt=="function")wn=function(){jt(En)};else if(typeof MessageChannel<"u"){var On=new MessageChannel,Dn=On.port2;On.port1.onmessage=En,wn=function(){Dn.postMessage(null)}}else wn=function(){Ee(En,0)};function Jt(ae){Nn=ae,Gt||(Gt=!0,wn())}function ue(ae,we){fn=Ee(function(){ae(r.unstable_now())},we)}function me(){Ie(fn),fn=-1}var Ue=Fn,Ve=null;r.unstable_IdlePriority=x,r.unstable_ImmediatePriority=p,r.unstable_LowPriority=b,r.unstable_NormalPriority=v,r.unstable_Profiling=Ve,r.unstable_UserBlockingPriority=m,r.unstable_cancelCallback=an,r.unstable_continueExecution=xn,r.unstable_forceFrameRate=$n,r.unstable_getCurrentPriorityLevel=Ot,r.unstable_getFirstCallbackNode=mn,r.unstable_next=Nt,r.unstable_pauseExecution=pn,r.unstable_requestPaint=Ue,r.unstable_runWithPriority=Ut,r.unstable_scheduleCallback=zt,r.unstable_shouldYield=ei,r.unstable_wrapCallback=ln,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(KC);JC.exports=KC;var FV=JC.exports;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var r=U,e=FV,t=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i=!1;function s(n){i=n}function o(n){if(!i){for(var a=arguments.length,u=new Array(a>1?a-1:0),c=1;c<a;c++)u[c-1]=arguments[c];d("warn",n,u)}}function l(n){if(!i){for(var a=arguments.length,u=new Array(a>1?a-1:0),c=1;c<a;c++)u[c-1]=arguments[c];d("error",n,u)}}function d(n,a,u){{var c=t.ReactDebugCurrentFrame,h=c.getStackAddendum();h!==""&&(a+="%s",u=u.concat([h]));var g=u.map(function(y){return String(y)});g.unshift("Warning: "+a),Function.prototype.apply.call(console[n],console,g)}}var f=0,p=1,m=2,v=3,b=4,x=5,w=6,C=7,_=8,O=9,A=10,F=11,P=12,K=13,le=14,L=15,ne=16,re=17,ve=18,Le=19,ze=21,Re=22,be=23,ye=24,$e=25,Ee=!0,Ie=!1,jt=!1,Lt=!1,Dt=!1,gt=!0,rn=!0,Ut=!0,Nt=!0,ln=new Set,zt={},pn={};function xn(n,a){mn(n,a),mn(n+"Capture",a)}function mn(n,a){zt[n]&&l("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",n),zt[n]=a;{var u=n.toLowerCase();pn[u]=n,n==="onDoubleClick"&&(pn.ondblclick=n)}for(var c=0;c<a.length;c++)ln.add(a[c])}var an=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ot=Object.prototype.hasOwnProperty;function Gt(n){{var a=typeof Symbol=="function"&&Symbol.toStringTag,u=a&&n[Symbol.toStringTag]||n.constructor.name||"Object";return u}}function Nn(n){try{return fn(n),!1}catch{return!0}}function fn(n){return""+n}function Ht(n,a){if(Nn(n))return l("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",a,Gt(n)),fn(n)}function yr(n){if(Nn(n))return l("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Gt(n)),fn(n)}function ei(n,a){if(Nn(n))return l("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",a,Gt(n)),fn(n)}function Fn(n,a){if(Nn(n))return l("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",a,Gt(n)),fn(n)}function $n(n){if(Nn(n))return l("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",Gt(n)),fn(n)}function En(n){if(Nn(n))return l("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",Gt(n)),fn(n)}var wn=0,On=1,Dn=2,Jt=3,ue=4,me=5,Ue=6,Ve=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",ae=Ve+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",we=new RegExp("^["+Ve+"]["+ae+"]*$"),Pe={},Ge={};function ut(n){return Ot.call(Ge,n)?!0:Ot.call(Pe,n)?!1:we.test(n)?(Ge[n]=!0,!0):(Pe[n]=!0,l("Invalid attribute name: `%s`",n),!1)}function Ye(n,a,u){return a!==null?a.type===wn:u?!1:n.length>2&&(n[0]==="o"||n[0]==="O")&&(n[1]==="n"||n[1]==="N")}function ot(n,a,u,c){if(u!==null&&u.type===wn)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":{if(c)return!1;if(u!==null)return!u.acceptsBooleans;var h=n.toLowerCase().slice(0,5);return h!=="data-"&&h!=="aria-"}default:return!1}}function Kt(n,a,u,c){if(a===null||typeof a>"u"||ot(n,a,u,c))return!0;if(c)return!1;if(u!==null)switch(u.type){case Jt:return!a;case ue:return a===!1;case me:return isNaN(a);case Ue:return isNaN(a)||a<1}return!1}function Vt(n){return qt.hasOwnProperty(n)?qt[n]:null}function vt(n,a,u,c,h,g,y){this.acceptsBooleans=a===Dn||a===Jt||a===ue,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=u,this.propertyName=n,this.type=a,this.sanitizeURL=g,this.removeEmptyString=y}var qt={},Bn=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];Bn.forEach(function(n){qt[n]=new vt(n,wn,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var a=n[0],u=n[1];qt[a]=new vt(a,On,!1,u,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){qt[n]=new vt(n,Dn,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){qt[n]=new vt(n,Dn,!1,n,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(n){qt[n]=new vt(n,Jt,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){qt[n]=new vt(n,Jt,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){qt[n]=new vt(n,ue,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){qt[n]=new vt(n,Ue,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){qt[n]=new vt(n,me,!1,n.toLowerCase(),null,!1,!1)});var ir=/[\-\:]([a-z])/g,Fr=function(n){return n[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(n){var a=n.replace(ir,Fr);qt[a]=new vt(a,On,!1,n,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(n){var a=n.replace(ir,Fr);qt[a]=new vt(a,On,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var a=n.replace(ir,Fr);qt[a]=new vt(a,On,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){qt[n]=new vt(n,On,!1,n.toLowerCase(),null,!1,!1)});var vi="xlinkHref";qt[vi]=new vt("xlinkHref",On,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){qt[n]=new vt(n,On,!1,n.toLowerCase(),null,!0,!0)});var so=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,sa=!1;function Ui(n){!sa&&so.test(n)&&(sa=!0,l("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(n)))}function ji(n,a,u,c){if(c.mustUseProperty){var h=c.propertyName;return n[h]}else{Ht(u,a),c.sanitizeURL&&Ui(""+u);var g=c.attributeName,y=null;if(c.type===ue){if(n.hasAttribute(g)){var S=n.getAttribute(g);return S===""?!0:Kt(a,u,c,!1)?S:S===""+u?u:S}}else if(n.hasAttribute(g)){if(Kt(a,u,c,!1))return n.getAttribute(g);if(c.type===Jt)return u;y=n.getAttribute(g)}return Kt(a,u,c,!1)?y===null?u:y:y===""+u?u:y}}function ka(n,a,u,c){{if(!ut(a))return;if(!n.hasAttribute(a))return u===void 0?void 0:null;var h=n.getAttribute(a);return Ht(u,a),h===""+u?u:h}}function ti(n,a,u,c){var h=Vt(a);if(!Ye(a,h,c)){if(Kt(a,u,h,c)&&(u=null),c||h===null){if(ut(a)){var g=a;u===null?n.removeAttribute(g):(Ht(u,a),n.setAttribute(g,""+u))}return}var y=h.mustUseProperty;if(y){var S=h.propertyName;if(u===null){var E=h.type;n[S]=E===Jt?!1:""}else n[S]=u;return}var T=h.attributeName,R=h.attributeNamespace;if(u===null)n.removeAttribute(T);else{var V=h.type,z;V===Jt||V===ue&&u===!0?z="":(Ht(u,T),z=""+u,h.sanitizeURL&&Ui(z.toString())),R?n.setAttributeNS(R,T,z):n.setAttribute(T,z)}}}var j=Symbol.for("react.element"),I=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Z=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),Be=Symbol.for("react.scope"),st=Symbol.for("react.debug_trace_mode"),Je=Symbol.for("react.offscreen"),Xe=Symbol.for("react.legacy_hidden"),Tt=Symbol.for("react.cache"),Hn=Symbol.for("react.tracing_marker"),sn=Symbol.iterator,ar="@@iterator";function gn(n){if(n===null||typeof n!="object")return null;var a=sn&&n[sn]||n[ar];return typeof a=="function"?a:null}var at=Object.assign,ni=0,yi,Ra,ri,yt,Wt,bi,Li;function Xt(){}Xt.__reactDisabledLog=!0;function zi(){{if(ni===0){yi=console.log,Ra=console.info,ri=console.warn,yt=console.error,Wt=console.group,bi=console.groupCollapsed,Li=console.groupEnd;var n={configurable:!0,enumerable:!0,value:Xt,writable:!0};Object.defineProperties(console,{info:n,log:n,warn:n,error:n,group:n,groupCollapsed:n,groupEnd:n})}ni++}}function oo(){{if(ni--,ni===0){var n={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:at({},n,{value:yi}),info:at({},n,{value:Ra}),warn:at({},n,{value:ri}),error:at({},n,{value:yt}),group:at({},n,{value:Wt}),groupCollapsed:at({},n,{value:bi}),groupEnd:at({},n,{value:Li})})}ni<0&&l("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var as=t.ReactCurrentDispatcher,qu;function oa(n,a,u){{if(qu===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);qu=c&&c[1]||""}return`
`+qu+n}}var lo=!1,ss;{var gl=typeof WeakMap=="function"?WeakMap:Map;ss=new gl}function uo(n,a){if(!n||lo)return"";{var u=ss.get(n);if(u!==void 0)return u}var c;lo=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var g;g=as.current,as.current=null,zi();try{if(a){var y=function(){throw Error()};if(Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(J){c=J}Reflect.construct(n,[],y)}else{try{y.call()}catch(J){c=J}n.call(y.prototype)}}else{try{throw Error()}catch(J){c=J}n()}}catch(J){if(J&&c&&typeof J.stack=="string"){for(var S=J.stack.split(`
`),E=c.stack.split(`
`),T=S.length-1,R=E.length-1;T>=1&&R>=0&&S[T]!==E[R];)R--;for(;T>=1&&R>=0;T--,R--)if(S[T]!==E[R]){if(T!==1||R!==1)do if(T--,R--,R<0||S[T]!==E[R]){var V=`
`+S[T].replace(" at new "," at ");return n.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",n.displayName)),typeof n=="function"&&ss.set(n,V),V}while(T>=1&&R>=0);break}}}finally{lo=!1,as.current=g,oo(),Error.prepareStackTrace=h}var z=n?n.displayName||n.name:"",q=z?oa(z):"";return typeof n=="function"&&ss.set(n,q),q}function vl(n,a,u){return uo(n,!0)}function Wu(n,a,u){return uo(n,!1)}function ff(n){var a=n.prototype;return!!(a&&a.isReactComponent)}function Gu(n,a,u){if(n==null)return"";if(typeof n=="function")return uo(n,ff(n));if(typeof n=="string")return oa(n);switch(n){case fe:return oa("Suspense");case ie:return oa("SuspenseList")}if(typeof n=="object")switch(n.$$typeof){case ee:return Wu(n.render);case ce:return Gu(n.type,a,u);case pe:{var c=n,h=c._payload,g=c._init;try{return Gu(g(h),a,u)}catch{}}}return""}function Rm(n){switch(n._debugOwner&&n._debugOwner.type,n._debugSource,n.tag){case x:return oa(n.type);case ne:return oa("Lazy");case K:return oa("Suspense");case Le:return oa("SuspenseList");case f:case m:case L:return Wu(n.type);case F:return Wu(n.type.render);case p:return vl(n.type);default:return""}}function co(n){try{var a="",u=n;do a+=Rm(u),u=u.return;while(u);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function hf(n,a,u){var c=n.displayName;if(c)return c;var h=a.displayName||a.name||"";return h!==""?u+"("+h+")":u}function Ju(n){return n.displayName||"Context"}function kt(n){if(n==null)return null;if(typeof n.tag=="number"&&l("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case W:return"Fragment";case I:return"Portal";case k:return"Profiler";case se:return"StrictMode";case fe:return"Suspense";case ie:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Z:var a=n;return Ju(a)+".Consumer";case H:var u=n;return Ju(u._context)+".Provider";case ee:return hf(n,n.render,"ForwardRef");case ce:var c=n.displayName||null;return c!==null?c:kt(n.type)||"Memo";case pe:{var h=n,g=h._payload,y=h._init;try{return kt(y(g))}catch{return null}}}return null}function Om(n,a,u){var c=a.displayName||a.name||"";return n.displayName||(c!==""?u+"("+c+")":u)}function Oa(n){return n.displayName||"Context"}function rt(n){var a=n.tag,u=n.type;switch(a){case ye:return"Cache";case O:var c=u;return Oa(c)+".Consumer";case A:var h=u;return Oa(h._context)+".Provider";case ve:return"DehydratedFragment";case F:return Om(u,u.render,"ForwardRef");case C:return"Fragment";case x:return u;case b:return"Portal";case v:return"Root";case w:return"Text";case ne:return kt(u);case _:return u===se?"StrictMode":"Mode";case Re:return"Offscreen";case P:return"Profiler";case ze:return"Scope";case K:return"Suspense";case Le:return"SuspenseList";case $e:return"TracingMarker";case p:case f:case re:case m:case le:case L:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;break}return null}var Ku=t.ReactDebugCurrentFrame,Tr=null,fo=!1;function ls(){{if(Tr===null)return null;var n=Tr._debugOwner;if(n!==null&&typeof n<"u")return rt(n)}return null}function Mm(){return Tr===null?"":co(Tr)}function qn(){Ku.getCurrentStack=null,Tr=null,fo=!1}function un(n){Ku.getCurrentStack=n===null?null:Mm,Tr=n,fo=!1}function pf(){return Tr}function xi(n){fo=n}function kr(n){return""+n}function Vi(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return En(n),n;default:return""}}var Am={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Yu(n,a){Am[a.type]||a.onChange||a.onInput||a.readOnly||a.disabled||a.value==null||l("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),a.onChange||a.readOnly||a.disabled||a.checked==null||l("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function mf(n){var a=n.type,u=n.nodeName;return u&&u.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Qu(n){return n._valueTracker}function yl(n){n._valueTracker=null}function Um(n){var a="";return n&&(mf(n)?a=n.checked?"true":"false":a=n.value),a}function us(n){var a=mf(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);En(n[a]);var c=""+n[a];if(!(n.hasOwnProperty(a)||typeof u>"u"||typeof u.get!="function"||typeof u.set!="function")){var h=u.get,g=u.set;Object.defineProperty(n,a,{configurable:!0,get:function(){return h.call(this)},set:function(S){En(S),c=""+S,g.call(this,S)}}),Object.defineProperty(n,a,{enumerable:u.enumerable});var y={getValue:function(){return c},setValue:function(S){En(S),c=""+S},stopTracking:function(){yl(n),delete n[a]}};return y}}function ho(n){Qu(n)||(n._valueTracker=us(n))}function Xu(n){if(!n)return!1;var a=Qu(n);if(!a)return!0;var u=a.getValue(),c=Um(n);return c!==u?(a.setValue(c),!0):!1}function Ma(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var bl=!1,xl=!1,wl=!1,gf=!1;function vf(n){var a=n.type==="checkbox"||n.type==="radio";return a?n.checked!=null:n.value!=null}function Zu(n,a){var u=n,c=a.checked,h=at({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??u._wrapperState.initialChecked});return h}function yf(n,a){Yu("input",a),a.checked!==void 0&&a.defaultChecked!==void 0&&!xl&&(l("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",ls()||"A component",a.type),xl=!0),a.value!==void 0&&a.defaultValue!==void 0&&!bl&&(l("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",ls()||"A component",a.type),bl=!0);var u=n,c=a.defaultValue==null?"":a.defaultValue;u._wrapperState={initialChecked:a.checked!=null?a.checked:a.defaultChecked,initialValue:Vi(a.value!=null?a.value:c),controlled:vf(a)}}function D(n,a){var u=n,c=a.checked;c!=null&&ti(u,"checked",c,!1)}function M(n,a){var u=n;{var c=vf(a);!u._wrapperState.controlled&&c&&!gf&&(l("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),gf=!0),u._wrapperState.controlled&&!c&&!wl&&(l("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),wl=!0)}D(n,a);var h=Vi(a.value),g=a.type;if(h!=null)g==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=kr(h)):u.value!==kr(h)&&(u.value=kr(h));else if(g==="submit"||g==="reset"){u.removeAttribute("value");return}a.hasOwnProperty("value")?qe(u,a.type,h):a.hasOwnProperty("defaultValue")&&qe(u,a.type,Vi(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(u.defaultChecked=!!a.defaultChecked)}function G(n,a,u){var c=n;if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type,g=h==="submit"||h==="reset";if(g&&(a.value===void 0||a.value===null))return;var y=kr(c._wrapperState.initialValue);u||y!==c.value&&(c.value=y),c.defaultValue=y}var S=c.name;S!==""&&(c.name=""),c.defaultChecked=!c.defaultChecked,c.defaultChecked=!!c._wrapperState.initialChecked,S!==""&&(c.name=S)}function Y(n,a){var u=n;M(u,a),ge(u,a)}function ge(n,a){var u=a.name;if(a.type==="radio"&&u!=null){for(var c=n;c.parentNode;)c=c.parentNode;Ht(u,"name");for(var h=c.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),g=0;g<h.length;g++){var y=h[g];if(!(y===n||y.form!==n.form)){var S=ah(y);if(!S)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");Xu(y),M(y,S)}}}}function qe(n,a,u){(a!=="number"||Ma(n.ownerDocument)!==n)&&(u==null?n.defaultValue=kr(n._wrapperState.initialValue):n.defaultValue!==kr(u)&&(n.defaultValue=kr(u)))}var Me=!1,tt=!1,bt=!1;function Pt(n,a){a.value==null&&(typeof a.children=="object"&&a.children!==null?r.Children.forEach(a.children,function(u){u!=null&&(typeof u=="string"||typeof u=="number"||tt||(tt=!0,l("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):a.dangerouslySetInnerHTML!=null&&(bt||(bt=!0,l("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),a.selected!=null&&!Me&&(l("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),Me=!0)}function Zt(n,a){a.value!=null&&n.setAttribute("value",kr(Vi(a.value)))}var en=Array.isArray;function ft(n){return en(n)}var cn;cn=!1;function Cn(){var n=ls();return n?`

Check the render method of \``+n+"`.":""}var po=["value","defaultValue"];function ec(n){{Yu("select",n);for(var a=0;a<po.length;a++){var u=po[a];if(n[u]!=null){var c=ft(n[u]);n.multiple&&!c?l("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",u,Cn()):!n.multiple&&c&&l("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",u,Cn())}}}}function Aa(n,a,u,c){var h=n.options;if(a){for(var g=u,y={},S=0;S<g.length;S++)y["$"+g[S]]=!0;for(var E=0;E<h.length;E++){var T=y.hasOwnProperty("$"+h[E].value);h[E].selected!==T&&(h[E].selected=T),T&&c&&(h[E].defaultSelected=!0)}}else{for(var R=kr(Vi(u)),V=null,z=0;z<h.length;z++){if(h[z].value===R){h[z].selected=!0,c&&(h[z].defaultSelected=!0);return}V===null&&!h[z].disabled&&(V=h[z])}V!==null&&(V.selected=!0)}}function tc(n,a){return at({},a,{value:void 0})}function nc(n,a){var u=n;ec(a),u._wrapperState={wasMultiple:!!a.multiple},a.value!==void 0&&a.defaultValue!==void 0&&!cn&&(l("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),cn=!0)}function jm(n,a){var u=n;u.multiple=!!a.multiple;var c=a.value;c!=null?Aa(u,!!a.multiple,c,!1):a.defaultValue!=null&&Aa(u,!!a.multiple,a.defaultValue,!0)}function bf(n,a){var u=n,c=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Aa(u,!!a.multiple,h,!1):c!==!!a.multiple&&(a.defaultValue!=null?Aa(u,!!a.multiple,a.defaultValue,!0):Aa(u,!!a.multiple,a.multiple?[]:"",!1))}function Lm(n,a){var u=n,c=a.value;c!=null&&Aa(u,!!a.multiple,c,!1)}var Vx=!1;function zm(n,a){var u=n;if(a.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var c=at({},a,{value:void 0,defaultValue:void 0,children:kr(u._wrapperState.initialValue)});return c}function Px(n,a){var u=n;Yu("textarea",a),a.value!==void 0&&a.defaultValue!==void 0&&!Vx&&(l("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",ls()||"A component"),Vx=!0);var c=a.value;if(c==null){var h=a.children,g=a.defaultValue;if(h!=null){l("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(g!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(ft(h)){if(h.length>1)throw new Error("<textarea> can only have at most one child.");h=h[0]}g=h}}g==null&&(g=""),c=g}u._wrapperState={initialValue:Vi(c)}}function Ix(n,a){var u=n,c=Vi(a.value),h=Vi(a.defaultValue);if(c!=null){var g=kr(c);g!==u.value&&(u.value=g),a.defaultValue==null&&u.defaultValue!==g&&(u.defaultValue=g)}h!=null&&(u.defaultValue=kr(h))}function Fx(n,a){var u=n,c=u.textContent;c===u._wrapperState.initialValue&&c!==""&&c!==null&&(u.value=c)}function Dk(n,a){Ix(n,a)}var Ua="http://www.w3.org/1999/xhtml",Ck="http://www.w3.org/1998/Math/MathML",Vm="http://www.w3.org/2000/svg";function Pm(n){switch(n){case"svg":return Vm;case"math":return Ck;default:return Ua}}function Im(n,a){return n==null||n===Ua?Pm(a):n===Vm&&a==="foreignObject"?Ua:n}var _k=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,c,h){MSApp.execUnsafeLocalFunction(function(){return n(a,u,c,h)})}:n},xf,$x=_k(function(n,a){if(n.namespaceURI===Vm&&!("innerHTML"in n)){xf=xf||document.createElement("div"),xf.innerHTML="<svg>"+a.valueOf().toString()+"</svg>";for(var u=xf.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;u.firstChild;)n.appendChild(u.firstChild);return}n.innerHTML=a}),$r=1,ja=3,_n=8,La=9,Fm=11,wf=function(n,a){if(a){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===ja){u.nodeValue=a;return}}n.textContent=a},Tk={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},rc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function kk(n,a){return n+a.charAt(0).toUpperCase()+a.substring(1)}var Rk=["Webkit","ms","Moz","O"];Object.keys(rc).forEach(function(n){Rk.forEach(function(a){rc[kk(a,n)]=rc[n]})});function $m(n,a,u){var c=a==null||typeof a=="boolean"||a==="";return c?"":!u&&typeof a=="number"&&a!==0&&!(rc.hasOwnProperty(n)&&rc[n])?a+"px":(Fn(a,n),(""+a).trim())}var Ok=/([A-Z])/g,Mk=/^ms-/;function Ak(n){return n.replace(Ok,"-$1").toLowerCase().replace(Mk,"-ms-")}var Bx=function(){};{var Uk=/^(?:webkit|moz|o)[A-Z]/,jk=/^-ms-/,Lk=/-(.)/g,Hx=/;\s*$/,Sl={},Bm={},qx=!1,Wx=!1,zk=function(n){return n.replace(Lk,function(a,u){return u.toUpperCase()})},Vk=function(n){Sl.hasOwnProperty(n)&&Sl[n]||(Sl[n]=!0,l("Unsupported style property %s. Did you mean %s?",n,zk(n.replace(jk,"ms-"))))},Pk=function(n){Sl.hasOwnProperty(n)&&Sl[n]||(Sl[n]=!0,l("Unsupported vendor-prefixed style property %s. Did you mean %s?",n,n.charAt(0).toUpperCase()+n.slice(1)))},Ik=function(n,a){Bm.hasOwnProperty(a)&&Bm[a]||(Bm[a]=!0,l(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,n,a.replace(Hx,"")))},Fk=function(n,a){qx||(qx=!0,l("`NaN` is an invalid value for the `%s` css style property.",n))},$k=function(n,a){Wx||(Wx=!0,l("`Infinity` is an invalid value for the `%s` css style property.",n))};Bx=function(n,a){n.indexOf("-")>-1?Vk(n):Uk.test(n)?Pk(n):Hx.test(a)&&Ik(n,a),typeof a=="number"&&(isNaN(a)?Fk(n,a):isFinite(a)||$k(n,a))}}var Bk=Bx;function Hk(n){{var a="",u="";for(var c in n)if(n.hasOwnProperty(c)){var h=n[c];if(h!=null){var g=c.indexOf("--")===0;a+=u+(g?c:Ak(c))+":",a+=$m(c,h,g),u=";"}}return a||null}}function Gx(n,a){var u=n.style;for(var c in a)if(a.hasOwnProperty(c)){var h=c.indexOf("--")===0;h||Bk(c,a[c]);var g=$m(c,a[c],h);c==="float"&&(c="cssFloat"),h?u.setProperty(c,g):u[c]=g}}function qk(n){return n==null||typeof n=="boolean"||n===""}function Jx(n){var a={};for(var u in n)for(var c=Tk[u]||[u],h=0;h<c.length;h++)a[c[h]]=u;return a}function Wk(n,a){{if(!a)return;var u=Jx(n),c=Jx(a),h={};for(var g in u){var y=u[g],S=c[g];if(S&&y!==S){var E=y+","+S;if(h[E])continue;h[E]=!0,l("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",qk(n[y])?"Removing":"Updating",y,S)}}}}var Gk={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Jk=at({menuitem:!0},Gk),Kk="__html";function Hm(n,a){if(a){if(Jk[n]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw new Error(n+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof a.dangerouslySetInnerHTML!="object"||!(Kk in a.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!a.suppressContentEditableWarning&&a.contentEditable&&a.children!=null&&l("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),a.style!=null&&typeof a.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function mo(n,a){if(n.indexOf("-")===-1)return typeof a.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sf={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},Kx={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},Nl={},Yk=new RegExp("^(aria)-["+ae+"]*$"),Qk=new RegExp("^(aria)[A-Z]["+ae+"]*$");function Xk(n,a){{if(Ot.call(Nl,a)&&Nl[a])return!0;if(Qk.test(a)){var u="aria-"+a.slice(4).toLowerCase(),c=Kx.hasOwnProperty(u)?u:null;if(c==null)return l("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",a),Nl[a]=!0,!0;if(a!==c)return l("Invalid ARIA attribute `%s`. Did you mean `%s`?",a,c),Nl[a]=!0,!0}if(Yk.test(a)){var h=a.toLowerCase(),g=Kx.hasOwnProperty(h)?h:null;if(g==null)return Nl[a]=!0,!1;if(a!==g)return l("Unknown ARIA attribute `%s`. Did you mean `%s`?",a,g),Nl[a]=!0,!0}}return!0}function Zk(n,a){{var u=[];for(var c in a){var h=Xk(n,c);h||u.push(c)}var g=u.map(function(y){return"`"+y+"`"}).join(", ");u.length===1?l("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",g,n):u.length>1&&l("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",g,n)}}function eR(n,a){mo(n,a)||Zk(n,a)}var Yx=!1;function tR(n,a){{if(n!=="input"&&n!=="textarea"&&n!=="select")return;a!=null&&a.value===null&&!Yx&&(Yx=!0,n==="select"&&a.multiple?l("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",n):l("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",n))}}var Qx=function(){};{var Rr={},Xx=/^on./,nR=/^on[^A-Z]/,rR=new RegExp("^(aria)-["+ae+"]*$"),iR=new RegExp("^(aria)[A-Z]["+ae+"]*$");Qx=function(n,a,u,c){if(Ot.call(Rr,a)&&Rr[a])return!0;var h=a.toLowerCase();if(h==="onfocusin"||h==="onfocusout")return l("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Rr[a]=!0,!0;if(c!=null){var g=c.registrationNameDependencies,y=c.possibleRegistrationNames;if(g.hasOwnProperty(a))return!0;var S=y.hasOwnProperty(h)?y[h]:null;if(S!=null)return l("Invalid event handler property `%s`. Did you mean `%s`?",a,S),Rr[a]=!0,!0;if(Xx.test(a))return l("Unknown event handler property `%s`. It will be ignored.",a),Rr[a]=!0,!0}else if(Xx.test(a))return nR.test(a)&&l("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",a),Rr[a]=!0,!0;if(rR.test(a)||iR.test(a))return!0;if(h==="innerhtml")return l("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Rr[a]=!0,!0;if(h==="aria")return l("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Rr[a]=!0,!0;if(h==="is"&&u!==null&&u!==void 0&&typeof u!="string")return l("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof u),Rr[a]=!0,!0;if(typeof u=="number"&&isNaN(u))return l("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",a),Rr[a]=!0,!0;var E=Vt(a),T=E!==null&&E.type===wn;if(Sf.hasOwnProperty(h)){var R=Sf[h];if(R!==a)return l("Invalid DOM property `%s`. Did you mean `%s`?",a,R),Rr[a]=!0,!0}else if(!T&&a!==h)return l("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",a,h),Rr[a]=!0,!0;return typeof u=="boolean"&&ot(a,u,E,!1)?(u?l('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',u,a,a,u,a):l('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',u,a,a,u,a,a,a),Rr[a]=!0,!0):T?!0:ot(a,u,E,!1)?(Rr[a]=!0,!1):((u==="false"||u==="true")&&E!==null&&E.type===Jt&&(l("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",u,a,u==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',a,u),Rr[a]=!0),!0)}}var aR=function(n,a,u){{var c=[];for(var h in a){var g=Qx(n,h,a[h],u);g||c.push(h)}var y=c.map(function(S){return"`"+S+"`"}).join(", ");c.length===1?l("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",y,n):c.length>1&&l("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",y,n)}};function sR(n,a,u){mo(n,a)||aR(n,a,u)}var Zx=1,qm=2,ic=4,oR=Zx|qm|ic,ac=null;function lR(n){ac!==null&&l("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),ac=n}function uR(){ac===null&&l("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),ac=null}function cR(n){return n===ac}function Wm(n){var a=n.target||n.srcElement||window;return a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===ja?a.parentNode:a}var Gm=null,El=null,Dl=null;function ew(n){var a=ys(n);if(a){if(typeof Gm!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var u=a.stateNode;if(u){var c=ah(u);Gm(a.stateNode,a.type,c)}}}function dR(n){Gm=n}function tw(n){El?Dl?Dl.push(n):Dl=[n]:El=n}function fR(){return El!==null||Dl!==null}function nw(){if(El){var n=El,a=Dl;if(El=null,Dl=null,ew(n),a)for(var u=0;u<a.length;u++)ew(a[u])}}var rw=function(n,a){return n(a)},iw=function(){},Jm=!1;function hR(){var n=fR();n&&(iw(),nw())}function aw(n,a,u){if(Jm)return n(a,u);Jm=!0;try{return rw(n,a,u)}finally{Jm=!1,hR()}}function pR(n,a,u){rw=n,iw=u}function mR(n){return n==="button"||n==="input"||n==="select"||n==="textarea"}function gR(n,a,u){switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(u.disabled&&mR(a));default:return!1}}function sc(n,a){var u=n.stateNode;if(u===null)return null;var c=ah(u);if(c===null)return null;var h=c[a];if(gR(a,n.type,c))return null;if(h&&typeof h!="function")throw new Error("Expected `"+a+"` listener to be a function, instead got a value of `"+typeof h+"` type.");return h}var Km=!1;if(an)try{var oc={};Object.defineProperty(oc,"passive",{get:function(){Km=!0}}),window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{Km=!1}function sw(n,a,u,c,h,g,y,S,E){var T=Array.prototype.slice.call(arguments,3);try{a.apply(u,T)}catch(R){this.onError(R)}}var ow=sw;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var Ym=document.createElement("react");ow=function(a,u,c,h,g,y,S,E,T){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var R=document.createEvent("Event"),V=!1,z=!0,q=window.event,J=Object.getOwnPropertyDescriptor(window,"event");function Q(){Ym.removeEventListener(X,Fe,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=q)}var Se=Array.prototype.slice.call(arguments,3);function Fe(){V=!0,Q(),u.apply(c,Se),z=!1}var je,St=!1,ht=!1;function $(B){if(je=B.error,St=!0,je===null&&B.colno===0&&B.lineno===0&&(ht=!0),B.defaultPrevented&&je!=null&&typeof je=="object")try{je._suppressLogging=!0}catch{}}var X="react-"+(a||"invokeguardedcallback");if(window.addEventListener("error",$),Ym.addEventListener(X,Fe,!1),R.initEvent(X,!1,!1),Ym.dispatchEvent(R),J&&Object.defineProperty(window,"event",J),V&&z&&(St?ht&&(je=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):je=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(je)),window.removeEventListener("error",$),!V)return Q(),sw.apply(this,arguments)}}var vR=ow,Cl=!1,Nf=null,Ef=!1,Qm=null,yR={onError:function(n){Cl=!0,Nf=n}};function Xm(n,a,u,c,h,g,y,S,E){Cl=!1,Nf=null,vR.apply(yR,arguments)}function bR(n,a,u,c,h,g,y,S,E){if(Xm.apply(this,arguments),Cl){var T=Zm();Ef||(Ef=!0,Qm=T)}}function xR(){if(Ef){var n=Qm;throw Ef=!1,Qm=null,n}}function wR(){return Cl}function Zm(){if(Cl){var n=Nf;return Cl=!1,Nf=null,n}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function _l(n){return n._reactInternals}function SR(n){return n._reactInternals!==void 0}function NR(n,a){n._reactInternals=a}var Ke=0,Tl=1,Wn=2,Rt=4,go=16,Df=32,lw=64,Mt=128,vo=256,yo=512,kl=1024,cs=2048,bo=4096,xo=8192,eg=16384,ER=32767,Cf=32768,Pi=65536,tg=131072,uw=1048576,ng=2097152,wo=4194304,rg=8388608,ds=16777216,ig=33554432,ag=Rt|kl|0,sg=Wn|Rt|go|Df|yo|bo|xo,lc=Rt|lw|yo|xo,Rl=cs|go,za=wo|rg|ng,DR=t.ReactCurrentOwner;function So(n){var a=n,u=n;if(n.alternate)for(;a.return;)a=a.return;else{var c=a;do a=c,(a.flags&(Wn|bo))!==Ke&&(u=a.return),c=a.return;while(c)}return a.tag===v?u:null}function cw(n){if(n.tag===K){var a=n.memoizedState;if(a===null){var u=n.alternate;u!==null&&(a=u.memoizedState)}if(a!==null)return a.dehydrated}return null}function dw(n){return n.tag===v?n.stateNode.containerInfo:null}function CR(n){return So(n)===n}function _R(n){{var a=DR.current;if(a!==null&&a.tag===p){var u=a,c=u.stateNode;c._warnedAboutRefsInRender||l("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",rt(u)||"A component"),c._warnedAboutRefsInRender=!0}}var h=_l(n);return h?So(h)===h:!1}function fw(n){if(So(n)!==n)throw new Error("Unable to find node on an unmounted component.")}function hw(n){var a=n.alternate;if(!a){var u=So(n);if(u===null)throw new Error("Unable to find node on an unmounted component.");return u!==n?null:n}for(var c=n,h=a;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){var S=g.return;if(S!==null){c=h=S;continue}break}if(g.child===y.child){for(var E=g.child;E;){if(E===c)return fw(g),n;if(E===h)return fw(g),a;E=E.sibling}throw new Error("Unable to find node on an unmounted component.")}if(c.return!==h.return)c=g,h=y;else{for(var T=!1,R=g.child;R;){if(R===c){T=!0,c=g,h=y;break}if(R===h){T=!0,h=g,c=y;break}R=R.sibling}if(!T){for(R=y.child;R;){if(R===c){T=!0,c=y,h=g;break}if(R===h){T=!0,h=y,c=g;break}R=R.sibling}if(!T)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(c.alternate!==h)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(c.tag!==v)throw new Error("Unable to find node on an unmounted component.");return c.stateNode.current===c?n:a}function pw(n){var a=hw(n);return a!==null?mw(a):null}function mw(n){if(n.tag===x||n.tag===w)return n;for(var a=n.child;a!==null;){var u=mw(a);if(u!==null)return u;a=a.sibling}return null}function TR(n){var a=hw(n);return a!==null?gw(a):null}function gw(n){if(n.tag===x||n.tag===w)return n;for(var a=n.child;a!==null;){if(a.tag!==b){var u=gw(a);if(u!==null)return u}a=a.sibling}return null}var vw=e.unstable_scheduleCallback,kR=e.unstable_cancelCallback,RR=e.unstable_shouldYield,OR=e.unstable_requestPaint,Gn=e.unstable_now,MR=e.unstable_getCurrentPriorityLevel,_f=e.unstable_ImmediatePriority,og=e.unstable_UserBlockingPriority,No=e.unstable_NormalPriority,AR=e.unstable_LowPriority,lg=e.unstable_IdlePriority,UR=e.unstable_yieldValue,jR=e.unstable_setDisableYieldValue,Ol=null,br=null,De=null,la=!1,Ii=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function LR(n){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(a.isDisabled)return!0;if(!a.supportsFiber)return l("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{rn&&(n=at({},n,{getLaneLabelMap:$R,injectProfilingHooks:FR})),Ol=a.inject(n),br=a}catch(u){l("React instrumentation encountered an error: %s.",u)}return!!a.checkDCE}function zR(n,a){if(br&&typeof br.onScheduleFiberRoot=="function")try{br.onScheduleFiberRoot(Ol,n,a)}catch(u){la||(la=!0,l("React instrumentation encountered an error: %s",u))}}function VR(n,a){if(br&&typeof br.onCommitFiberRoot=="function")try{var u=(n.current.flags&Mt)===Mt;if(Ut){var c;switch(a){case ai:c=_f;break;case Pa:c=og;break;case Ia:c=No;break;case Uf:c=lg;break;default:c=No;break}br.onCommitFiberRoot(Ol,n,c,u)}}catch(h){la||(la=!0,l("React instrumentation encountered an error: %s",h))}}function PR(n){if(br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(Ol,n)}catch(a){la||(la=!0,l("React instrumentation encountered an error: %s",a))}}function IR(n){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(Ol,n)}catch(a){la||(la=!0,l("React instrumentation encountered an error: %s",a))}}function Jn(n){if(typeof UR=="function"&&(jR(n),s(n)),br&&typeof br.setStrictMode=="function")try{br.setStrictMode(Ol,n)}catch(a){la||(la=!0,l("React instrumentation encountered an error: %s",a))}}function FR(n){De=n}function $R(){{for(var n=new Map,a=1,u=0;u<cg;u++){var c=lO(a);n.set(a,c),a*=2}return n}}function BR(n){De!==null&&typeof De.markCommitStarted=="function"&&De.markCommitStarted(n)}function yw(){De!==null&&typeof De.markCommitStopped=="function"&&De.markCommitStopped()}function uc(n){De!==null&&typeof De.markComponentRenderStarted=="function"&&De.markComponentRenderStarted(n)}function Ml(){De!==null&&typeof De.markComponentRenderStopped=="function"&&De.markComponentRenderStopped()}function HR(n){De!==null&&typeof De.markComponentPassiveEffectMountStarted=="function"&&De.markComponentPassiveEffectMountStarted(n)}function qR(){De!==null&&typeof De.markComponentPassiveEffectMountStopped=="function"&&De.markComponentPassiveEffectMountStopped()}function WR(n){De!==null&&typeof De.markComponentPassiveEffectUnmountStarted=="function"&&De.markComponentPassiveEffectUnmountStarted(n)}function GR(){De!==null&&typeof De.markComponentPassiveEffectUnmountStopped=="function"&&De.markComponentPassiveEffectUnmountStopped()}function JR(n){De!==null&&typeof De.markComponentLayoutEffectMountStarted=="function"&&De.markComponentLayoutEffectMountStarted(n)}function KR(){De!==null&&typeof De.markComponentLayoutEffectMountStopped=="function"&&De.markComponentLayoutEffectMountStopped()}function bw(n){De!==null&&typeof De.markComponentLayoutEffectUnmountStarted=="function"&&De.markComponentLayoutEffectUnmountStarted(n)}function xw(){De!==null&&typeof De.markComponentLayoutEffectUnmountStopped=="function"&&De.markComponentLayoutEffectUnmountStopped()}function YR(n,a,u){De!==null&&typeof De.markComponentErrored=="function"&&De.markComponentErrored(n,a,u)}function QR(n,a,u){De!==null&&typeof De.markComponentSuspended=="function"&&De.markComponentSuspended(n,a,u)}function XR(n){De!==null&&typeof De.markLayoutEffectsStarted=="function"&&De.markLayoutEffectsStarted(n)}function ZR(){De!==null&&typeof De.markLayoutEffectsStopped=="function"&&De.markLayoutEffectsStopped()}function eO(n){De!==null&&typeof De.markPassiveEffectsStarted=="function"&&De.markPassiveEffectsStarted(n)}function tO(){De!==null&&typeof De.markPassiveEffectsStopped=="function"&&De.markPassiveEffectsStopped()}function ww(n){De!==null&&typeof De.markRenderStarted=="function"&&De.markRenderStarted(n)}function nO(){De!==null&&typeof De.markRenderYielded=="function"&&De.markRenderYielded()}function Sw(){De!==null&&typeof De.markRenderStopped=="function"&&De.markRenderStopped()}function rO(n){De!==null&&typeof De.markRenderScheduled=="function"&&De.markRenderScheduled(n)}function iO(n,a){De!==null&&typeof De.markForceUpdateScheduled=="function"&&De.markForceUpdateScheduled(n,a)}function ug(n,a){De!==null&&typeof De.markStateUpdateScheduled=="function"&&De.markStateUpdateScheduled(n,a)}var He=0,xt=1,It=2,vn=8,ua=16,Nw=Math.clz32?Math.clz32:oO,aO=Math.log,sO=Math.LN2;function oO(n){var a=n>>>0;return a===0?32:31-(aO(a)/sO|0)|0}var cg=31,oe=0,Kn=0,Ze=1,Al=2,Va=4,Eo=8,ca=16,cc=32,Ul=4194240,dc=64,dg=128,fg=256,hg=512,pg=1024,mg=2048,gg=4096,vg=8192,yg=16384,bg=32768,xg=65536,wg=131072,Sg=262144,Ng=524288,Eg=1048576,Dg=2097152,Tf=130023424,jl=4194304,Cg=8388608,_g=16777216,Tg=33554432,kg=67108864,Ew=jl,fc=134217728,Dw=268435455,hc=268435456,Do=536870912,wi=1073741824;function lO(n){{if(n&Ze)return"Sync";if(n&Al)return"InputContinuousHydration";if(n&Va)return"InputContinuous";if(n&Eo)return"DefaultHydration";if(n&ca)return"Default";if(n&cc)return"TransitionHydration";if(n&Ul)return"Transition";if(n&Tf)return"Retry";if(n&fc)return"SelectiveHydration";if(n&hc)return"IdleHydration";if(n&Do)return"Idle";if(n&wi)return"Offscreen"}}var tn=-1,kf=dc,Rf=jl;function pc(n){switch(Co(n)){case Ze:return Ze;case Al:return Al;case Va:return Va;case Eo:return Eo;case ca:return ca;case cc:return cc;case dc:case dg:case fg:case hg:case pg:case mg:case gg:case vg:case yg:case bg:case xg:case wg:case Sg:case Ng:case Eg:case Dg:return n&Ul;case jl:case Cg:case _g:case Tg:case kg:return n&Tf;case fc:return fc;case hc:return hc;case Do:return Do;case wi:return wi;default:return l("Should have found matching lanes. This is a bug in React."),n}}function Of(n,a){var u=n.pendingLanes;if(u===oe)return oe;var c=oe,h=n.suspendedLanes,g=n.pingedLanes,y=u&Dw;if(y!==oe){var S=y&~h;if(S!==oe)c=pc(S);else{var E=y&g;E!==oe&&(c=pc(E))}}else{var T=u&~h;T!==oe?c=pc(T):g!==oe&&(c=pc(g))}if(c===oe)return oe;if(a!==oe&&a!==c&&(a&h)===oe){var R=Co(c),V=Co(a);if(R>=V||R===ca&&(V&Ul)!==oe)return a}(c&Va)!==oe&&(c|=u&ca);var z=n.entangledLanes;if(z!==oe)for(var q=n.entanglements,J=c&z;J>0;){var Q=_o(J),Se=1<<Q;c|=q[Q],J&=~Se}return c}function uO(n,a){for(var u=n.eventTimes,c=tn;a>0;){var h=_o(a),g=1<<h,y=u[h];y>c&&(c=y),a&=~g}return c}function cO(n,a){switch(n){case Ze:case Al:case Va:return a+250;case Eo:case ca:case cc:case dc:case dg:case fg:case hg:case pg:case mg:case gg:case vg:case yg:case bg:case xg:case wg:case Sg:case Ng:case Eg:case Dg:return a+5e3;case jl:case Cg:case _g:case Tg:case kg:return tn;case fc:case hc:case Do:case wi:return tn;default:return l("Should have found matching lanes. This is a bug in React."),tn}}function dO(n,a){for(var u=n.pendingLanes,c=n.suspendedLanes,h=n.pingedLanes,g=n.expirationTimes,y=u;y>0;){var S=_o(y),E=1<<S,T=g[S];T===tn?((E&c)===oe||(E&h)!==oe)&&(g[S]=cO(E,a)):T<=a&&(n.expiredLanes|=E),y&=~E}}function fO(n){return pc(n.pendingLanes)}function Rg(n){var a=n.pendingLanes&-1073741825;return a!==oe?a:a&wi?wi:oe}function hO(n){return(n&Ze)!==oe}function Og(n){return(n&Dw)!==oe}function Cw(n){return(n&Tf)===n}function pO(n){var a=Ze|Va|ca;return(n&a)===oe}function mO(n){return(n&Ul)===n}function Mf(n,a){var u=Al|Va|Eo|ca;return(a&u)!==oe}function gO(n,a){return(a&n.expiredLanes)!==oe}function _w(n){return(n&Ul)!==oe}function Tw(){var n=kf;return kf<<=1,(kf&Ul)===oe&&(kf=dc),n}function vO(){var n=Rf;return Rf<<=1,(Rf&Tf)===oe&&(Rf=jl),n}function Co(n){return n&-n}function mc(n){return Co(n)}function _o(n){return 31-Nw(n)}function Mg(n){return _o(n)}function ii(n,a){return(n&a)!==oe}function Ll(n,a){return(n&a)===a}function lt(n,a){return n|a}function Af(n,a){return n&~a}function kw(n,a){return n&a}function R6(n){return n}function yO(n,a){return n!==Kn&&n<a?n:a}function Ag(n){for(var a=[],u=0;u<cg;u++)a.push(n);return a}function gc(n,a,u){n.pendingLanes|=a,a!==Do&&(n.suspendedLanes=oe,n.pingedLanes=oe);var c=n.eventTimes,h=Mg(a);c[h]=u}function bO(n,a){n.suspendedLanes|=a,n.pingedLanes&=~a;for(var u=n.expirationTimes,c=a;c>0;){var h=_o(c),g=1<<h;u[h]=tn,c&=~g}}function Rw(n,a,u){n.pingedLanes|=n.suspendedLanes&a}function xO(n,a){var u=n.pendingLanes&~a;n.pendingLanes=a,n.suspendedLanes=oe,n.pingedLanes=oe,n.expiredLanes&=a,n.mutableReadLanes&=a,n.entangledLanes&=a;for(var c=n.entanglements,h=n.eventTimes,g=n.expirationTimes,y=u;y>0;){var S=_o(y),E=1<<S;c[S]=oe,h[S]=tn,g[S]=tn,y&=~E}}function Ug(n,a){for(var u=n.entangledLanes|=a,c=n.entanglements,h=u;h;){var g=_o(h),y=1<<g;y&a|c[g]&a&&(c[g]|=a),h&=~y}}function wO(n,a){var u=Co(a),c;switch(u){case Va:c=Al;break;case ca:c=Eo;break;case dc:case dg:case fg:case hg:case pg:case mg:case gg:case vg:case yg:case bg:case xg:case wg:case Sg:case Ng:case Eg:case Dg:case jl:case Cg:case _g:case Tg:case kg:c=cc;break;case Do:c=hc;break;default:c=Kn;break}return(c&(n.suspendedLanes|a))!==Kn?Kn:c}function Ow(n,a,u){if(Ii)for(var c=n.pendingUpdatersLaneMap;u>0;){var h=Mg(u),g=1<<h,y=c[h];y.add(a),u&=~g}}function Mw(n,a){if(Ii)for(var u=n.pendingUpdatersLaneMap,c=n.memoizedUpdaters;a>0;){var h=Mg(a),g=1<<h,y=u[h];y.size>0&&(y.forEach(function(S){var E=S.alternate;(E===null||!c.has(E))&&c.add(S)}),y.clear()),a&=~g}}function Aw(n,a){return null}var ai=Ze,Pa=Va,Ia=ca,Uf=Do,vc=Kn;function Fi(){return vc}function Yn(n){vc=n}function SO(n,a){var u=vc;try{return vc=n,a()}finally{vc=u}}function NO(n,a){return n!==0&&n<a?n:a}function EO(n,a){return n>a?n:a}function jg(n,a){return n!==0&&n<a}function Uw(n){var a=Co(n);return jg(ai,a)?jg(Pa,a)?Og(a)?Ia:Uf:Pa:ai}function jf(n){var a=n.current.memoizedState;return a.isDehydrated}var jw;function DO(n){jw=n}function CO(n){jw(n)}var Lg;function _O(n){Lg=n}var Lw;function TO(n){Lw=n}var zw;function kO(n){zw=n}var Vw;function RO(n){Vw=n}var zg=!1,Lf=[],fs=null,hs=null,ps=null,yc=new Map,bc=new Map,ms=[],OO=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function MO(n){return OO.indexOf(n)>-1}function AO(n,a,u,c,h){return{blockedOn:n,domEventName:a,eventSystemFlags:u,nativeEvent:h,targetContainers:[c]}}function Pw(n,a){switch(n){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":{var u=a.pointerId;yc.delete(u);break}case"gotpointercapture":case"lostpointercapture":{var c=a.pointerId;bc.delete(c);break}}}function xc(n,a,u,c,h,g){if(n===null||n.nativeEvent!==g){var y=AO(a,u,c,h,g);if(a!==null){var S=ys(a);S!==null&&Lg(S)}return y}n.eventSystemFlags|=c;var E=n.targetContainers;return h!==null&&E.indexOf(h)===-1&&E.push(h),n}function UO(n,a,u,c,h){switch(a){case"focusin":{var g=h;return fs=xc(fs,n,a,u,c,g),!0}case"dragenter":{var y=h;return hs=xc(hs,n,a,u,c,y),!0}case"mouseover":{var S=h;return ps=xc(ps,n,a,u,c,S),!0}case"pointerover":{var E=h,T=E.pointerId;return yc.set(T,xc(yc.get(T)||null,n,a,u,c,E)),!0}case"gotpointercapture":{var R=h,V=R.pointerId;return bc.set(V,xc(bc.get(V)||null,n,a,u,c,R)),!0}}return!1}function Iw(n){var a=Ro(n.target);if(a!==null){var u=So(a);if(u!==null){var c=u.tag;if(c===K){var h=cw(u);if(h!==null){n.blockedOn=h,Vw(n.priority,function(){Lw(u)});return}}else if(c===v){var g=u.stateNode;if(jf(g)){n.blockedOn=dw(u);return}}}}n.blockedOn=null}function jO(n){for(var a=zw(),u={blockedOn:null,target:n,priority:a},c=0;c<ms.length&&jg(a,ms[c].priority);c++);ms.splice(c,0,u),c===0&&Iw(u)}function zf(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;a.length>0;){var u=a[0],c=Ig(n.domEventName,n.eventSystemFlags,u,n.nativeEvent);if(c===null){var h=n.nativeEvent,g=new h.constructor(h.type,h);lR(g),h.target.dispatchEvent(g),uR()}else{var y=ys(c);return y!==null&&Lg(y),n.blockedOn=c,!1}a.shift()}return!0}function Fw(n,a,u){zf(n)&&u.delete(a)}function LO(){zg=!1,fs!==null&&zf(fs)&&(fs=null),hs!==null&&zf(hs)&&(hs=null),ps!==null&&zf(ps)&&(ps=null),yc.forEach(Fw),bc.forEach(Fw)}function wc(n,a){n.blockedOn===a&&(n.blockedOn=null,zg||(zg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,LO)))}function Sc(n){if(Lf.length>0){wc(Lf[0],n);for(var a=1;a<Lf.length;a++){var u=Lf[a];u.blockedOn===n&&(u.blockedOn=null)}}fs!==null&&wc(fs,n),hs!==null&&wc(hs,n),ps!==null&&wc(ps,n);var c=function(S){return wc(S,n)};yc.forEach(c),bc.forEach(c);for(var h=0;h<ms.length;h++){var g=ms[h];g.blockedOn===n&&(g.blockedOn=null)}for(;ms.length>0;){var y=ms[0];if(y.blockedOn!==null)break;Iw(y),y.blockedOn===null&&ms.shift()}}var zl=t.ReactCurrentBatchConfig,Vg=!0;function $w(n){Vg=!!n}function zO(){return Vg}function VO(n,a,u){var c=Bw(a),h;switch(c){case ai:h=PO;break;case Pa:h=IO;break;case Ia:default:h=Pg;break}return h.bind(null,a,u,n)}function PO(n,a,u,c){var h=Fi(),g=zl.transition;zl.transition=null;try{Yn(ai),Pg(n,a,u,c)}finally{Yn(h),zl.transition=g}}function IO(n,a,u,c){var h=Fi(),g=zl.transition;zl.transition=null;try{Yn(Pa),Pg(n,a,u,c)}finally{Yn(h),zl.transition=g}}function Pg(n,a,u,c){Vg&&FO(n,a,u,c)}function FO(n,a,u,c){var h=Ig(n,a,u,c);if(h===null){ev(n,a,c,Vf,u),Pw(n,c);return}if(UO(h,n,a,u,c)){c.stopPropagation();return}if(Pw(n,c),a&ic&&MO(n)){for(;h!==null;){var g=ys(h);g!==null&&CO(g);var y=Ig(n,a,u,c);if(y===null&&ev(n,a,c,Vf,u),y===h)break;h=y}h!==null&&c.stopPropagation();return}ev(n,a,c,null,u)}var Vf=null;function Ig(n,a,u,c){Vf=null;var h=Wm(c),g=Ro(h);if(g!==null){var y=So(g);if(y===null)g=null;else{var S=y.tag;if(S===K){var E=cw(y);if(E!==null)return E;g=null}else if(S===v){var T=y.stateNode;if(jf(T))return dw(y);g=null}else y!==g&&(g=null)}}return Vf=g,null}function Bw(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return ai;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return Pa;case"message":{var a=MR();switch(a){case _f:return ai;case og:return Pa;case No:case AR:return Ia;case lg:return Uf;default:return Ia}}default:return Ia}}function $O(n,a,u){return n.addEventListener(a,u,!1),u}function BO(n,a,u){return n.addEventListener(a,u,!0),u}function HO(n,a,u,c){return n.addEventListener(a,u,{capture:!0,passive:c}),u}function qO(n,a,u,c){return n.addEventListener(a,u,{passive:c}),u}var Nc=null,Fg=null,Ec=null;function WO(n){return Nc=n,Fg=qw(),!0}function GO(){Nc=null,Fg=null,Ec=null}function Hw(){if(Ec)return Ec;var n,a=Fg,u=a.length,c,h=qw(),g=h.length;for(n=0;n<u&&a[n]===h[n];n++);var y=u-n;for(c=1;c<=y&&a[u-c]===h[g-c];c++);var S=c>1?1-c:void 0;return Ec=h.slice(n,S),Ec}function qw(){return"value"in Nc?Nc.value:Nc.textContent}function Pf(n){var a,u=n.keyCode;return"charCode"in n?(a=n.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),a>=32||a===13?a:0}function If(){return!0}function Ww(){return!1}function si(n){function a(u,c,h,g,y){this._reactName=u,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=y,this.currentTarget=null;for(var S in n)if(n.hasOwnProperty(S)){var E=n[S];E?this[S]=E(g):this[S]=g[S]}var T=g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1;return T?this.isDefaultPrevented=If:this.isDefaultPrevented=Ww,this.isPropagationStopped=Ww,this}return at(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=If)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=If)},persist:function(){},isPersistent:If}),a}var Vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=si(Vl),Dc=at({},Vl,{view:0,detail:0}),JO=si(Dc),Bg,Hg,Cc;function KO(n){n!==Cc&&(Cc&&n.type==="mousemove"?(Bg=n.screenX-Cc.screenX,Hg=n.screenY-Cc.screenY):(Bg=0,Hg=0),Cc=n)}var Ff=at({},Dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wg,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(KO(n),Bg)},movementY:function(n){return"movementY"in n?n.movementY:Hg}}),Gw=si(Ff),YO=at({},Ff,{dataTransfer:0}),QO=si(YO),XO=at({},Dc,{relatedTarget:0}),qg=si(XO),ZO=at({},Vl,{animationName:0,elapsedTime:0,pseudoElement:0}),eM=si(ZO),tM=at({},Vl,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),nM=si(tM),rM=at({},Vl,{data:0}),Jw=si(rM),iM=Jw,aM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function oM(n){if(n.key){var a=aM[n.key]||n.key;if(a!=="Unidentified")return a}if(n.type==="keypress"){var u=Pf(n);return u===13?"Enter":String.fromCharCode(u)}return n.type==="keydown"||n.type==="keyup"?sM[n.keyCode]||"Unidentified":""}var lM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uM(n){var a=this,u=a.nativeEvent;if(u.getModifierState)return u.getModifierState(n);var c=lM[n];return c?!!u[c]:!1}function Wg(n){return uM}var cM=at({},Dc,{key:oM,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wg,charCode:function(n){return n.type==="keypress"?Pf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),dM=si(cM),fM=at({},Ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kw=si(fM),hM=at({},Dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wg}),pM=si(hM),mM=at({},Vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),gM=si(mM),vM=at({},Ff,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),yM=si(vM),bM=[9,13,27,32],Yw=229,Gg=an&&"CompositionEvent"in window,_c=null;an&&"documentMode"in document&&(_c=document.documentMode);var xM=an&&"TextEvent"in window&&!_c,Qw=an&&(!Gg||_c&&_c>8&&_c<=11),Xw=32,Zw=String.fromCharCode(Xw);function wM(){xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),xn("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),xn("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var eS=!1;function SM(n){return(n.ctrlKey||n.altKey||n.metaKey)&&!(n.ctrlKey&&n.altKey)}function NM(n){switch(n){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function EM(n,a){return n==="keydown"&&a.keyCode===Yw}function tS(n,a){switch(n){case"keyup":return bM.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==Yw;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nS(n){var a=n.detail;return typeof a=="object"&&"data"in a?a.data:null}function rS(n){return n.locale==="ko"}var Pl=!1;function DM(n,a,u,c,h){var g,y;if(Gg?g=NM(a):Pl?tS(a,c)&&(g="onCompositionEnd"):EM(a,c)&&(g="onCompositionStart"),!g)return null;Qw&&!rS(c)&&(!Pl&&g==="onCompositionStart"?Pl=WO(h):g==="onCompositionEnd"&&Pl&&(y=Hw()));var S=Wf(u,g);if(S.length>0){var E=new Jw(g,a,null,c,h);if(n.push({event:E,listeners:S}),y)E.data=y;else{var T=nS(c);T!==null&&(E.data=T)}}}function CM(n,a){switch(n){case"compositionend":return nS(a);case"keypress":var u=a.which;return u!==Xw?null:(eS=!0,Zw);case"textInput":var c=a.data;return c===Zw&&eS?null:c;default:return null}}function _M(n,a){if(Pl){if(n==="compositionend"||!Gg&&tS(n,a)){var u=Hw();return GO(),Pl=!1,u}return null}switch(n){case"paste":return null;case"keypress":if(!SM(a)){if(a.char&&a.char.length>1)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Qw&&!rS(a)?null:a.data;default:return null}}function TM(n,a,u,c,h){var g;if(xM?g=CM(a,c):g=_M(a,c),!g)return null;var y=Wf(u,"onBeforeInput");if(y.length>0){var S=new iM("onBeforeInput","beforeinput",null,c,h);n.push({event:S,listeners:y}),S.data=g}}function kM(n,a,u,c,h,g,y){DM(n,a,u,c,h),TM(n,a,u,c,h)}var RM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iS(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!RM[n.type]:a==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function OM(n){if(!an)return!1;var a="on"+n,u=a in document;if(!u){var c=document.createElement("div");c.setAttribute(a,"return;"),u=typeof c[a]=="function"}return u}function MM(){xn("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function aS(n,a,u,c){tw(c);var h=Wf(a,"onChange");if(h.length>0){var g=new $g("onChange","change",null,u,c);n.push({event:g,listeners:h})}}var Tc=null,kc=null;function AM(n){var a=n.nodeName&&n.nodeName.toLowerCase();return a==="select"||a==="input"&&n.type==="file"}function UM(n){var a=[];aS(a,kc,n,Wm(n)),aw(jM,a)}function jM(n){NS(n,0)}function $f(n){var a=ql(n);if(Xu(a))return n}function LM(n,a){if(n==="change")return a}var sS=!1;an&&(sS=OM("input")&&(!document.documentMode||document.documentMode>9));function zM(n,a){Tc=n,kc=a,Tc.attachEvent("onpropertychange",lS)}function oS(){Tc&&(Tc.detachEvent("onpropertychange",lS),Tc=null,kc=null)}function lS(n){n.propertyName==="value"&&$f(kc)&&UM(n)}function VM(n,a,u){n==="focusin"?(oS(),zM(a,u)):n==="focusout"&&oS()}function PM(n,a){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $f(kc)}function IM(n){var a=n.nodeName;return a&&a.toLowerCase()==="input"&&(n.type==="checkbox"||n.type==="radio")}function FM(n,a){if(n==="click")return $f(a)}function $M(n,a){if(n==="input"||n==="change")return $f(a)}function BM(n){var a=n._wrapperState;!a||!a.controlled||n.type!=="number"||qe(n,"number",n.value)}function HM(n,a,u,c,h,g,y){var S=u?ql(u):window,E,T;if(AM(S)?E=LM:iS(S)?sS?E=$M:(E=PM,T=VM):IM(S)&&(E=FM),E){var R=E(a,u);if(R){aS(n,R,c,h);return}}T&&T(a,S,u),a==="focusout"&&BM(S)}function qM(){mn("onMouseEnter",["mouseout","mouseover"]),mn("onMouseLeave",["mouseout","mouseover"]),mn("onPointerEnter",["pointerout","pointerover"]),mn("onPointerLeave",["pointerout","pointerover"])}function WM(n,a,u,c,h,g,y){var S=a==="mouseover"||a==="pointerover",E=a==="mouseout"||a==="pointerout";if(S&&!cR(c)){var T=c.relatedTarget||c.fromElement;if(T&&(Ro(T)||Hc(T)))return}if(!(!E&&!S)){var R;if(h.window===h)R=h;else{var V=h.ownerDocument;V?R=V.defaultView||V.parentWindow:R=window}var z,q;if(E){var J=c.relatedTarget||c.toElement;if(z=u,q=J?Ro(J):null,q!==null){var Q=So(q);(q!==Q||q.tag!==x&&q.tag!==w)&&(q=null)}}else z=null,q=u;if(z!==q){var Se=Gw,Fe="onMouseLeave",je="onMouseEnter",St="mouse";(a==="pointerout"||a==="pointerover")&&(Se=Kw,Fe="onPointerLeave",je="onPointerEnter",St="pointer");var ht=z==null?R:ql(z),$=q==null?R:ql(q),X=new Se(Fe,St+"leave",z,c,h);X.target=ht,X.relatedTarget=$;var B=null,he=Ro(h);if(he===u){var _e=new Se(je,St+"enter",q,c,h);_e.target=$,_e.relatedTarget=ht,B=_e}gA(n,X,B,z,q)}}}function GM(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var oi=typeof Object.is=="function"?Object.is:GM;function Rc(n,a){if(oi(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var u=Object.keys(n),c=Object.keys(a);if(u.length!==c.length)return!1;for(var h=0;h<u.length;h++){var g=u[h];if(!Ot.call(a,g)||!oi(n[g],a[g]))return!1}return!0}function uS(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function JM(n){for(;n;){if(n.nextSibling)return n.nextSibling;n=n.parentNode}}function cS(n,a){for(var u=uS(n),c=0,h=0;u;){if(u.nodeType===ja){if(h=c+u.textContent.length,c<=a&&h>=a)return{node:u,offset:a-c};c=h}u=uS(JM(u))}}function KM(n){var a=n.ownerDocument,u=a&&a.defaultView||window,c=u.getSelection&&u.getSelection();if(!c||c.rangeCount===0)return null;var h=c.anchorNode,g=c.anchorOffset,y=c.focusNode,S=c.focusOffset;try{h.nodeType,y.nodeType}catch{return null}return YM(n,h,g,y,S)}function YM(n,a,u,c,h){var g=0,y=-1,S=-1,E=0,T=0,R=n,V=null;e:for(;;){for(var z=null;R===a&&(u===0||R.nodeType===ja)&&(y=g+u),R===c&&(h===0||R.nodeType===ja)&&(S=g+h),R.nodeType===ja&&(g+=R.nodeValue.length),(z=R.firstChild)!==null;)V=R,R=z;for(;;){if(R===n)break e;if(V===a&&++E===u&&(y=g),V===c&&++T===h&&(S=g),(z=R.nextSibling)!==null)break;R=V,V=R.parentNode}R=z}return y===-1||S===-1?null:{start:y,end:S}}function QM(n,a){var u=n.ownerDocument||document,c=u&&u.defaultView||window;if(c.getSelection){var h=c.getSelection(),g=n.textContent.length,y=Math.min(a.start,g),S=a.end===void 0?y:Math.min(a.end,g);if(!h.extend&&y>S){var E=S;S=y,y=E}var T=cS(n,y),R=cS(n,S);if(T&&R){if(h.rangeCount===1&&h.anchorNode===T.node&&h.anchorOffset===T.offset&&h.focusNode===R.node&&h.focusOffset===R.offset)return;var V=u.createRange();V.setStart(T.node,T.offset),h.removeAllRanges(),y>S?(h.addRange(V),h.extend(R.node,R.offset)):(V.setEnd(R.node,R.offset),h.addRange(V))}}}function dS(n){return n&&n.nodeType===ja}function fS(n,a){return!n||!a?!1:n===a?!0:dS(n)?!1:dS(a)?fS(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1}function XM(n){return n&&n.ownerDocument&&fS(n.ownerDocument.documentElement,n)}function ZM(n){try{return typeof n.contentWindow.location.href=="string"}catch{return!1}}function hS(){for(var n=window,a=Ma();a instanceof n.HTMLIFrameElement;){if(ZM(a))n=a.contentWindow;else return a;a=Ma(n.document)}return a}function Jg(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function eA(){var n=hS();return{focusedElem:n,selectionRange:Jg(n)?nA(n):null}}function tA(n){var a=hS(),u=n.focusedElem,c=n.selectionRange;if(a!==u&&XM(u)){c!==null&&Jg(u)&&rA(u,c);for(var h=[],g=u;g=g.parentNode;)g.nodeType===$r&&h.push({element:g,left:g.scrollLeft,top:g.scrollTop});typeof u.focus=="function"&&u.focus();for(var y=0;y<h.length;y++){var S=h[y];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}}function nA(n){var a;return"selectionStart"in n?a={start:n.selectionStart,end:n.selectionEnd}:a=KM(n),a||{start:0,end:0}}function rA(n,a){var u=a.start,c=a.end;c===void 0&&(c=u),"selectionStart"in n?(n.selectionStart=u,n.selectionEnd=Math.min(c,n.value.length)):QM(n,a)}var iA=an&&"documentMode"in document&&document.documentMode<=11;function aA(){xn("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var Il=null,Kg=null,Oc=null,Yg=!1;function sA(n){if("selectionStart"in n&&Jg(n))return{start:n.selectionStart,end:n.selectionEnd};var a=n.ownerDocument&&n.ownerDocument.defaultView||window,u=a.getSelection();return{anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}}function oA(n){return n.window===n?n.document:n.nodeType===La?n:n.ownerDocument}function pS(n,a,u){var c=oA(u);if(!(Yg||Il==null||Il!==Ma(c))){var h=sA(Il);if(!Oc||!Rc(Oc,h)){Oc=h;var g=Wf(Kg,"onSelect");if(g.length>0){var y=new $g("onSelect","select",null,a,u);n.push({event:y,listeners:g}),y.target=Il}}}}function lA(n,a,u,c,h,g,y){var S=u?ql(u):window;switch(a){case"focusin":(iS(S)||S.contentEditable==="true")&&(Il=S,Kg=u,Oc=null);break;case"focusout":Il=null,Kg=null,Oc=null;break;case"mousedown":Yg=!0;break;case"contextmenu":case"mouseup":case"dragend":Yg=!1,pS(n,c,h);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":pS(n,c,h)}}function Bf(n,a){var u={};return u[n.toLowerCase()]=a.toLowerCase(),u["Webkit"+n]="webkit"+a,u["Moz"+n]="moz"+a,u}var Fl={animationend:Bf("Animation","AnimationEnd"),animationiteration:Bf("Animation","AnimationIteration"),animationstart:Bf("Animation","AnimationStart"),transitionend:Bf("Transition","TransitionEnd")},Qg={},mS={};an&&(mS=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function Hf(n){if(Qg[n])return Qg[n];if(!Fl[n])return n;var a=Fl[n];for(var u in a)if(a.hasOwnProperty(u)&&u in mS)return Qg[n]=a[u];return n}var gS=Hf("animationend"),vS=Hf("animationiteration"),yS=Hf("animationstart"),bS=Hf("transitionend"),xS=new Map,wS=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function gs(n,a){xS.set(n,a),xn(a,[n])}function uA(){for(var n=0;n<wS.length;n++){var a=wS[n],u=a.toLowerCase(),c=a[0].toUpperCase()+a.slice(1);gs(u,"on"+c)}gs(gS,"onAnimationEnd"),gs(vS,"onAnimationIteration"),gs(yS,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(bS,"onTransitionEnd")}function cA(n,a,u,c,h,g,y){var S=xS.get(a);if(S!==void 0){var E=$g,T=a;switch(a){case"keypress":if(Pf(c)===0)return;case"keydown":case"keyup":E=dM;break;case"focusin":T="focus",E=qg;break;case"focusout":T="blur",E=qg;break;case"beforeblur":case"afterblur":E=qg;break;case"click":if(c.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Gw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=QO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=pM;break;case gS:case vS:case yS:E=eM;break;case bS:E=gM;break;case"scroll":E=JO;break;case"wheel":E=yM;break;case"copy":case"cut":case"paste":E=nM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Kw;break}var R=(g&ic)!==0;{var V=!R&&a==="scroll",z=pA(u,S,c.type,R,V);if(z.length>0){var q=new E(S,T,null,c,h);n.push({event:q,listeners:z})}}}}uA(),qM(),MM(),aA(),wM();function dA(n,a,u,c,h,g,y){cA(n,a,u,c,h,g);var S=(g&oR)===0;S&&(WM(n,a,u,c,h),HM(n,a,u,c,h),lA(n,a,u,c,h),kM(n,a,u,c,h))}var Mc=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],Xg=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(Mc));function SS(n,a,u){var c=n.type||"unknown-event";n.currentTarget=u,bR(c,a,void 0,n),n.currentTarget=null}function fA(n,a,u){var c;if(u)for(var h=a.length-1;h>=0;h--){var g=a[h],y=g.instance,S=g.currentTarget,E=g.listener;if(y!==c&&n.isPropagationStopped())return;SS(n,E,S),c=y}else for(var T=0;T<a.length;T++){var R=a[T],V=R.instance,z=R.currentTarget,q=R.listener;if(V!==c&&n.isPropagationStopped())return;SS(n,q,z),c=V}}function NS(n,a){for(var u=(a&ic)!==0,c=0;c<n.length;c++){var h=n[c],g=h.event,y=h.listeners;fA(g,y,u)}xR()}function hA(n,a,u,c,h){var g=Wm(u),y=[];dA(y,n,c,u,g,a),NS(y,a)}function on(n,a){Xg.has(n)||l('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',n);var u=!1,c=BU(a),h=vA(n);c.has(h)||(ES(a,n,qm,u),c.add(h))}function Zg(n,a,u){Xg.has(n)&&!a&&l('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',n);var c=0;a&&(c|=ic),ES(u,n,c,a)}var qf="_reactListening"+Math.random().toString(36).slice(2);function Ac(n){if(!n[qf]){n[qf]=!0,ln.forEach(function(u){u!=="selectionchange"&&(Xg.has(u)||Zg(u,!1,n),Zg(u,!0,n))});var a=n.nodeType===La?n:n.ownerDocument;a!==null&&(a[qf]||(a[qf]=!0,Zg("selectionchange",!1,a)))}}function ES(n,a,u,c,h){var g=VO(n,a,u),y=void 0;Km&&(a==="touchstart"||a==="touchmove"||a==="wheel")&&(y=!0),n=n,c?y!==void 0?HO(n,a,g,y):BO(n,a,g):y!==void 0?qO(n,a,g,y):$O(n,a,g)}function DS(n,a){return n===a||n.nodeType===_n&&n.parentNode===a}function ev(n,a,u,c,h){var g=c;if(!(a&Zx)&&!(a&qm)){var y=h;if(c!==null){var S=c;e:for(;;){if(S===null)return;var E=S.tag;if(E===v||E===b){var T=S.stateNode.containerInfo;if(DS(T,y))break;if(E===b)for(var R=S.return;R!==null;){var V=R.tag;if(V===v||V===b){var z=R.stateNode.containerInfo;if(DS(z,y))return}R=R.return}for(;T!==null;){var q=Ro(T);if(q===null)return;var J=q.tag;if(J===x||J===w){S=g=q;continue e}T=T.parentNode}}S=S.return}}}aw(function(){return hA(n,a,u,g)})}function Uc(n,a,u){return{instance:n,listener:a,currentTarget:u}}function pA(n,a,u,c,h,g){for(var y=a!==null?a+"Capture":null,S=c?y:a,E=[],T=n,R=null;T!==null;){var V=T,z=V.stateNode,q=V.tag;if(q===x&&z!==null&&(R=z,S!==null)){var J=sc(T,S);J!=null&&E.push(Uc(T,J,R))}if(h)break;T=T.return}return E}function Wf(n,a){for(var u=a+"Capture",c=[],h=n;h!==null;){var g=h,y=g.stateNode,S=g.tag;if(S===x&&y!==null){var E=y,T=sc(h,u);T!=null&&c.unshift(Uc(h,T,E));var R=sc(h,a);R!=null&&c.push(Uc(h,R,E))}h=h.return}return c}function $l(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==x);return n||null}function mA(n,a){for(var u=n,c=a,h=0,g=u;g;g=$l(g))h++;for(var y=0,S=c;S;S=$l(S))y++;for(;h-y>0;)u=$l(u),h--;for(;y-h>0;)c=$l(c),y--;for(var E=h;E--;){if(u===c||c!==null&&u===c.alternate)return u;u=$l(u),c=$l(c)}return null}function CS(n,a,u,c,h){for(var g=a._reactName,y=[],S=u;S!==null&&S!==c;){var E=S,T=E.alternate,R=E.stateNode,V=E.tag;if(T!==null&&T===c)break;if(V===x&&R!==null){var z=R;if(h){var q=sc(S,g);q!=null&&y.unshift(Uc(S,q,z))}else if(!h){var J=sc(S,g);J!=null&&y.push(Uc(S,J,z))}}S=S.return}y.length!==0&&n.push({event:a,listeners:y})}function gA(n,a,u,c,h){var g=c&&h?mA(c,h):null;c!==null&&CS(n,a,c,g,!1),h!==null&&u!==null&&CS(n,u,h,g,!0)}function vA(n,a){return n+"__bubble"}var Br=!1,jc="dangerouslySetInnerHTML",Gf="suppressContentEditableWarning",vs="suppressHydrationWarning",_S="autoFocus",To="children",ko="style",Jf="__html",tv,Kf,Lc,TS,Yf,kS,RS;tv={dialog:!0,webview:!0},Kf=function(n,a){eR(n,a),tR(n,a),sR(n,a,{registrationNameDependencies:zt,possibleRegistrationNames:pn})},kS=an&&!document.documentMode,Lc=function(n,a,u){if(!Br){var c=Qf(u),h=Qf(a);h!==c&&(Br=!0,l("Prop `%s` did not match. Server: %s Client: %s",n,JSON.stringify(h),JSON.stringify(c)))}},TS=function(n){if(!Br){Br=!0;var a=[];n.forEach(function(u){a.push(u)}),l("Extra attributes from the server: %s",a)}},Yf=function(n,a){a===!1?l("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",n,n,n):l("Expected `%s` listener to be a function, instead got a value of `%s` type.",n,typeof a)},RS=function(n,a){var u=n.namespaceURI===Ua?n.ownerDocument.createElement(n.tagName):n.ownerDocument.createElementNS(n.namespaceURI,n.tagName);return u.innerHTML=a,u.innerHTML};var yA=/\r\n?/g,bA=/\u0000|\uFFFD/g;function Qf(n){$n(n);var a=typeof n=="string"?n:""+n;return a.replace(yA,`
`).replace(bA,"")}function Xf(n,a,u,c){var h=Qf(a),g=Qf(n);if(g!==h&&(c&&(Br||(Br=!0,l('Text content did not match. Server: "%s" Client: "%s"',g,h))),u&&Ee))throw new Error("Text content does not match server-rendered HTML.")}function OS(n){return n.nodeType===La?n:n.ownerDocument}function xA(){}function Zf(n){n.onclick=xA}function wA(n,a,u,c,h){for(var g in c)if(c.hasOwnProperty(g)){var y=c[g];if(g===ko)y&&Object.freeze(y),Gx(a,y);else if(g===jc){var S=y?y[Jf]:void 0;S!=null&&$x(a,S)}else if(g===To)if(typeof y=="string"){var E=n!=="textarea"||y!=="";E&&wf(a,y)}else typeof y=="number"&&wf(a,""+y);else g===Gf||g===vs||g===_S||(zt.hasOwnProperty(g)?y!=null&&(typeof y!="function"&&Yf(g,y),g==="onScroll"&&on("scroll",a)):y!=null&&ti(a,g,y,h))}}function SA(n,a,u,c){for(var h=0;h<a.length;h+=2){var g=a[h],y=a[h+1];g===ko?Gx(n,y):g===jc?$x(n,y):g===To?wf(n,y):ti(n,g,y,c)}}function NA(n,a,u,c){var h,g=OS(u),y,S=c;if(S===Ua&&(S=Pm(n)),S===Ua){if(h=mo(n,a),!h&&n!==n.toLowerCase()&&l("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",n),n==="script"){var E=g.createElement("div");E.innerHTML="<script><\/script>";var T=E.firstChild;y=E.removeChild(T)}else if(typeof a.is=="string")y=g.createElement(n,{is:a.is});else if(y=g.createElement(n),n==="select"){var R=y;a.multiple?R.multiple=!0:a.size&&(R.size=a.size)}}else y=g.createElementNS(S,n);return S===Ua&&!h&&Object.prototype.toString.call(y)==="[object HTMLUnknownElement]"&&!Ot.call(tv,n)&&(tv[n]=!0,l("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",n)),y}function EA(n,a){return OS(a).createTextNode(n)}function DA(n,a,u,c){var h=mo(a,u);Kf(a,u);var g;switch(a){case"dialog":on("cancel",n),on("close",n),g=u;break;case"iframe":case"object":case"embed":on("load",n),g=u;break;case"video":case"audio":for(var y=0;y<Mc.length;y++)on(Mc[y],n);g=u;break;case"source":on("error",n),g=u;break;case"img":case"image":case"link":on("error",n),on("load",n),g=u;break;case"details":on("toggle",n),g=u;break;case"input":yf(n,u),g=Zu(n,u),on("invalid",n);break;case"option":Pt(n,u),g=u;break;case"select":nc(n,u),g=tc(n,u),on("invalid",n);break;case"textarea":Px(n,u),g=zm(n,u),on("invalid",n);break;default:g=u}switch(Hm(a,g),wA(a,n,c,g,h),a){case"input":ho(n),G(n,u,!1);break;case"textarea":ho(n),Fx(n);break;case"option":Zt(n,u);break;case"select":jm(n,u);break;default:typeof g.onClick=="function"&&Zf(n);break}}function CA(n,a,u,c,h){Kf(a,c);var g=null,y,S;switch(a){case"input":y=Zu(n,u),S=Zu(n,c),g=[];break;case"select":y=tc(n,u),S=tc(n,c),g=[];break;case"textarea":y=zm(n,u),S=zm(n,c),g=[];break;default:y=u,S=c,typeof y.onClick!="function"&&typeof S.onClick=="function"&&Zf(n);break}Hm(a,S);var E,T,R=null;for(E in y)if(!(S.hasOwnProperty(E)||!y.hasOwnProperty(E)||y[E]==null))if(E===ko){var V=y[E];for(T in V)V.hasOwnProperty(T)&&(R||(R={}),R[T]="")}else E===jc||E===To||E===Gf||E===vs||E===_S||(zt.hasOwnProperty(E)?g||(g=[]):(g=g||[]).push(E,null));for(E in S){var z=S[E],q=y!=null?y[E]:void 0;if(!(!S.hasOwnProperty(E)||z===q||z==null&&q==null))if(E===ko)if(z&&Object.freeze(z),q){for(T in q)q.hasOwnProperty(T)&&(!z||!z.hasOwnProperty(T))&&(R||(R={}),R[T]="");for(T in z)z.hasOwnProperty(T)&&q[T]!==z[T]&&(R||(R={}),R[T]=z[T])}else R||(g||(g=[]),g.push(E,R)),R=z;else if(E===jc){var J=z?z[Jf]:void 0,Q=q?q[Jf]:void 0;J!=null&&Q!==J&&(g=g||[]).push(E,J)}else E===To?(typeof z=="string"||typeof z=="number")&&(g=g||[]).push(E,""+z):E===Gf||E===vs||(zt.hasOwnProperty(E)?(z!=null&&(typeof z!="function"&&Yf(E,z),E==="onScroll"&&on("scroll",n)),!g&&q!==z&&(g=[])):(g=g||[]).push(E,z))}return R&&(Wk(R,S[ko]),(g=g||[]).push(ko,R)),g}function _A(n,a,u,c,h){u==="input"&&h.type==="radio"&&h.name!=null&&D(n,h);var g=mo(u,c),y=mo(u,h);switch(SA(n,a,g,y),u){case"input":M(n,h);break;case"textarea":Ix(n,h);break;case"select":bf(n,h);break}}function TA(n){{var a=n.toLowerCase();return Sf.hasOwnProperty(a)&&Sf[a]||null}}function kA(n,a,u,c,h,g,y){var S,E;switch(S=mo(a,u),Kf(a,u),a){case"dialog":on("cancel",n),on("close",n);break;case"iframe":case"object":case"embed":on("load",n);break;case"video":case"audio":for(var T=0;T<Mc.length;T++)on(Mc[T],n);break;case"source":on("error",n);break;case"img":case"image":case"link":on("error",n),on("load",n);break;case"details":on("toggle",n);break;case"input":yf(n,u),on("invalid",n);break;case"option":Pt(n,u);break;case"select":nc(n,u),on("invalid",n);break;case"textarea":Px(n,u),on("invalid",n);break}Hm(a,u);{E=new Set;for(var R=n.attributes,V=0;V<R.length;V++){var z=R[V].name.toLowerCase();switch(z){case"value":break;case"checked":break;case"selected":break;default:E.add(R[V].name)}}}var q=null;for(var J in u)if(u.hasOwnProperty(J)){var Q=u[J];if(J===To)typeof Q=="string"?n.textContent!==Q&&(u[vs]!==!0&&Xf(n.textContent,Q,g,y),q=[To,Q]):typeof Q=="number"&&n.textContent!==""+Q&&(u[vs]!==!0&&Xf(n.textContent,Q,g,y),q=[To,""+Q]);else if(zt.hasOwnProperty(J))Q!=null&&(typeof Q!="function"&&Yf(J,Q),J==="onScroll"&&on("scroll",n));else if(y&&typeof S=="boolean"){var Se=void 0,Fe=Vt(J);if(u[vs]!==!0){if(!(J===Gf||J===vs||J==="value"||J==="checked"||J==="selected")){if(J===jc){var je=n.innerHTML,St=Q?Q[Jf]:void 0;if(St!=null){var ht=RS(n,St);ht!==je&&Lc(J,je,ht)}}else if(J===ko){if(E.delete(J),kS){var $=Hk(Q);Se=n.getAttribute("style"),$!==Se&&Lc(J,Se,$)}}else if(S)E.delete(J.toLowerCase()),Se=ka(n,J,Q),Q!==Se&&Lc(J,Se,Q);else if(!Ye(J,Fe,S)&&!Kt(J,Q,Fe,S)){var X=!1;if(Fe!==null)E.delete(Fe.attributeName),Se=ji(n,J,Q,Fe);else{var B=c;if(B===Ua&&(B=Pm(a)),B===Ua)E.delete(J.toLowerCase());else{var he=TA(J);he!==null&&he!==J&&(X=!0,E.delete(he)),E.delete(J)}Se=ka(n,J,Q)}var _e=Dt;!_e&&Q!==Se&&!X&&Lc(J,Se,Q)}}}}}switch(y&&E.size>0&&u[vs]!==!0&&TS(E),a){case"input":ho(n),G(n,u,!0);break;case"textarea":ho(n),Fx(n);break;case"select":case"option":break;default:typeof u.onClick=="function"&&Zf(n);break}return q}function RA(n,a,u){var c=n.nodeValue!==a;return c}function nv(n,a){{if(Br)return;Br=!0,l("Did not expect server HTML to contain a <%s> in <%s>.",a.nodeName.toLowerCase(),n.nodeName.toLowerCase())}}function rv(n,a){{if(Br)return;Br=!0,l('Did not expect server HTML to contain the text node "%s" in <%s>.',a.nodeValue,n.nodeName.toLowerCase())}}function iv(n,a,u){{if(Br)return;Br=!0,l("Expected server HTML to contain a matching <%s> in <%s>.",a,n.nodeName.toLowerCase())}}function av(n,a){{if(a===""||Br)return;Br=!0,l('Expected server HTML to contain a matching text node for "%s" in <%s>.',a,n.nodeName.toLowerCase())}}function OA(n,a,u){switch(a){case"input":Y(n,u);return;case"textarea":Dk(n,u);return;case"select":Lm(n,u);return}}var zc=function(){},Vc=function(){};{var MA=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],MS=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],AA=MS.concat(["button"]),UA=["dd","dt","li","option","optgroup","p","rp","rt"],AS={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Vc=function(n,a){var u=at({},n||AS),c={tag:a};return MS.indexOf(a)!==-1&&(u.aTagInScope=null,u.buttonTagInScope=null,u.nobrTagInScope=null),AA.indexOf(a)!==-1&&(u.pTagInButtonScope=null),MA.indexOf(a)!==-1&&a!=="address"&&a!=="div"&&a!=="p"&&(u.listItemTagAutoclosing=null,u.dlItemTagAutoclosing=null),u.current=c,a==="form"&&(u.formTag=c),a==="a"&&(u.aTagInScope=c),a==="button"&&(u.buttonTagInScope=c),a==="nobr"&&(u.nobrTagInScope=c),a==="p"&&(u.pTagInButtonScope=c),a==="li"&&(u.listItemTagAutoclosing=c),(a==="dd"||a==="dt")&&(u.dlItemTagAutoclosing=c),u};var jA=function(n,a){switch(a){case"select":return n==="option"||n==="optgroup"||n==="#text";case"optgroup":return n==="option"||n==="#text";case"option":return n==="#text";case"tr":return n==="th"||n==="td"||n==="style"||n==="script"||n==="template";case"tbody":case"thead":case"tfoot":return n==="tr"||n==="style"||n==="script"||n==="template";case"colgroup":return n==="col"||n==="template";case"table":return n==="caption"||n==="colgroup"||n==="tbody"||n==="tfoot"||n==="thead"||n==="style"||n==="script"||n==="template";case"head":return n==="base"||n==="basefont"||n==="bgsound"||n==="link"||n==="meta"||n==="title"||n==="noscript"||n==="noframes"||n==="style"||n==="script"||n==="template";case"html":return n==="head"||n==="body"||n==="frameset";case"frameset":return n==="frame";case"#document":return n==="html"}switch(n){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return a!=="h1"&&a!=="h2"&&a!=="h3"&&a!=="h4"&&a!=="h5"&&a!=="h6";case"rp":case"rt":return UA.indexOf(a)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return a==null}return!0},LA=function(n,a){switch(n){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return a.pTagInButtonScope;case"form":return a.formTag||a.pTagInButtonScope;case"li":return a.listItemTagAutoclosing;case"dd":case"dt":return a.dlItemTagAutoclosing;case"button":return a.buttonTagInScope;case"a":return a.aTagInScope;case"nobr":return a.nobrTagInScope}return null},US={};zc=function(n,a,u){u=u||AS;var c=u.current,h=c&&c.tag;a!=null&&(n!=null&&l("validateDOMNesting: when childText is passed, childTag should be null"),n="#text");var g=jA(n,h)?null:c,y=g?null:LA(n,u),S=g||y;if(S){var E=S.tag,T=!!g+"|"+n+"|"+E;if(!US[T]){US[T]=!0;var R=n,V="";if(n==="#text"?/\S/.test(a)?R="Text nodes":(R="Whitespace text nodes",V=" Make sure you don't have any extra whitespace between tags on each line of your source code."):R="<"+n+">",g){var z="";E==="table"&&n==="tr"&&(z+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),l("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",R,E,V,z)}else l("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",R,E)}}}}var eh="suppressHydrationWarning",th="$",nh="/$",Pc="$?",Ic="$!",zA="style",sv=null,ov=null;function VA(n){var a,u,c=n.nodeType;switch(c){case La:case Fm:{a=c===La?"#document":"#fragment";var h=n.documentElement;u=h?h.namespaceURI:Im(null,"");break}default:{var g=c===_n?n.parentNode:n,y=g.namespaceURI||null;a=g.tagName,u=Im(y,a);break}}{var S=a.toLowerCase(),E=Vc(null,S);return{namespace:u,ancestorInfo:E}}}function PA(n,a,u){{var c=n,h=Im(c.namespace,a),g=Vc(c.ancestorInfo,a);return{namespace:h,ancestorInfo:g}}}function O6(n){return n}function IA(n){sv=zO(),ov=eA();var a=null;return $w(!1),a}function FA(n){tA(ov),$w(sv),sv=null,ov=null}function $A(n,a,u,c,h){var g;{var y=c;if(zc(n,null,y.ancestorInfo),typeof a.children=="string"||typeof a.children=="number"){var S=""+a.children,E=Vc(y.ancestorInfo,n);zc(null,S,E)}g=y.namespace}var T=NA(n,a,u,g);return Bc(h,T),mv(T,a),T}function BA(n,a){n.appendChild(a)}function HA(n,a,u,c,h){switch(DA(n,a,u,c),a){case"button":case"input":case"select":case"textarea":return!!u.autoFocus;case"img":return!0;default:return!1}}function qA(n,a,u,c,h,g){{var y=g;if(typeof c.children!=typeof u.children&&(typeof c.children=="string"||typeof c.children=="number")){var S=""+c.children,E=Vc(y.ancestorInfo,a);zc(null,S,E)}}return CA(n,a,u,c)}function lv(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}function WA(n,a,u,c){{var h=u;zc(null,n,h.ancestorInfo)}var g=EA(n,a);return Bc(c,g),g}function GA(){var n=window.event;return n===void 0?Ia:Bw(n.type)}var uv=typeof setTimeout=="function"?setTimeout:void 0,JA=typeof clearTimeout=="function"?clearTimeout:void 0,cv=-1,jS=typeof Promise=="function"?Promise:void 0,KA=typeof queueMicrotask=="function"?queueMicrotask:typeof jS<"u"?function(n){return jS.resolve(null).then(n).catch(YA)}:uv;function YA(n){setTimeout(function(){throw n})}function QA(n,a,u,c){switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();return;case"img":{u.src&&(n.src=u.src);return}}}function XA(n,a,u,c,h,g){_A(n,a,u,c,h),mv(n,h)}function LS(n){wf(n,"")}function ZA(n,a,u){n.nodeValue=u}function eU(n,a){n.appendChild(a)}function tU(n,a){var u;n.nodeType===_n?(u=n.parentNode,u.insertBefore(a,n)):(u=n,u.appendChild(a));var c=n._reactRootContainer;c==null&&u.onclick===null&&Zf(u)}function nU(n,a,u){n.insertBefore(a,u)}function rU(n,a,u){n.nodeType===_n?n.parentNode.insertBefore(a,u):n.insertBefore(a,u)}function iU(n,a){n.removeChild(a)}function aU(n,a){n.nodeType===_n?n.parentNode.removeChild(a):n.removeChild(a)}function dv(n,a){var u=a,c=0;do{var h=u.nextSibling;if(n.removeChild(u),h&&h.nodeType===_n){var g=h.data;if(g===nh)if(c===0){n.removeChild(h),Sc(a);return}else c--;else(g===th||g===Pc||g===Ic)&&c++}u=h}while(u);Sc(a)}function sU(n,a){n.nodeType===_n?dv(n.parentNode,a):n.nodeType===$r&&dv(n,a),Sc(n)}function oU(n){n=n;var a=n.style;typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"}function lU(n){n.nodeValue=""}function uU(n,a){n=n;var u=a[zA],c=u!=null&&u.hasOwnProperty("display")?u.display:null;n.style.display=$m("display",c)}function cU(n,a){n.nodeValue=a}function dU(n){n.nodeType===$r?n.textContent="":n.nodeType===La&&n.documentElement&&n.removeChild(n.documentElement)}function fU(n,a,u){return n.nodeType!==$r||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n}function hU(n,a){return a===""||n.nodeType!==ja?null:n}function pU(n){return n.nodeType!==_n?null:n}function zS(n){return n.data===Pc}function fv(n){return n.data===Ic}function mU(n){var a=n.nextSibling&&n.nextSibling.dataset,u,c,h;return a&&(u=a.dgst,c=a.msg,h=a.stck),{message:c,digest:u,stack:h}}function gU(n,a){n._reactRetry=a}function rh(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===$r||a===ja)break;if(a===_n){var u=n.data;if(u===th||u===Ic||u===Pc)break;if(u===nh)return null}}return n}function Fc(n){return rh(n.nextSibling)}function vU(n){return rh(n.firstChild)}function yU(n){return rh(n.firstChild)}function bU(n){return rh(n.nextSibling)}function xU(n,a,u,c,h,g,y){Bc(g,n),mv(n,u);var S;{var E=h;S=E.namespace}var T=(g.mode&xt)!==He;return kA(n,a,u,S,c,T,y)}function wU(n,a,u,c){return Bc(u,n),u.mode&xt,RA(n,a)}function SU(n,a){Bc(a,n)}function NU(n){for(var a=n.nextSibling,u=0;a;){if(a.nodeType===_n){var c=a.data;if(c===nh){if(u===0)return Fc(a);u--}else(c===th||c===Ic||c===Pc)&&u++}a=a.nextSibling}return null}function VS(n){for(var a=n.previousSibling,u=0;a;){if(a.nodeType===_n){var c=a.data;if(c===th||c===Ic||c===Pc){if(u===0)return a;u--}else c===nh&&u++}a=a.previousSibling}return null}function EU(n){Sc(n)}function DU(n){Sc(n)}function CU(n){return n!=="head"&&n!=="body"}function _U(n,a,u,c){var h=!0;Xf(a.nodeValue,u,c,h)}function TU(n,a,u,c,h,g){if(a[eh]!==!0){var y=!0;Xf(c.nodeValue,h,g,y)}}function kU(n,a){a.nodeType===$r?nv(n,a):a.nodeType===_n||rv(n,a)}function RU(n,a){{var u=n.parentNode;u!==null&&(a.nodeType===$r?nv(u,a):a.nodeType===_n||rv(u,a))}}function OU(n,a,u,c,h){(h||a[eh]!==!0)&&(c.nodeType===$r?nv(u,c):c.nodeType===_n||rv(u,c))}function MU(n,a,u){iv(n,a)}function AU(n,a){av(n,a)}function UU(n,a,u){{var c=n.parentNode;c!==null&&iv(c,a)}}function jU(n,a){{var u=n.parentNode;u!==null&&av(u,a)}}function LU(n,a,u,c,h,g){(g||a[eh]!==!0)&&iv(u,c)}function zU(n,a,u,c,h){(h||a[eh]!==!0)&&av(u,c)}function VU(n){l("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",n.nodeName.toLowerCase())}function PU(n){Ac(n)}var Bl=Math.random().toString(36).slice(2),Hl="__reactFiber$"+Bl,hv="__reactProps$"+Bl,$c="__reactContainer$"+Bl,pv="__reactEvents$"+Bl,IU="__reactListeners$"+Bl,FU="__reactHandles$"+Bl;function $U(n){delete n[Hl],delete n[hv],delete n[pv],delete n[IU],delete n[FU]}function Bc(n,a){a[Hl]=n}function ih(n,a){a[$c]=n}function PS(n){n[$c]=null}function Hc(n){return!!n[$c]}function Ro(n){var a=n[Hl];if(a)return a;for(var u=n.parentNode;u;){if(a=u[$c]||u[Hl],a){var c=a.alternate;if(a.child!==null||c!==null&&c.child!==null)for(var h=VS(n);h!==null;){var g=h[Hl];if(g)return g;h=VS(h)}return a}n=u,u=n.parentNode}return null}function ys(n){var a=n[Hl]||n[$c];return a&&(a.tag===x||a.tag===w||a.tag===K||a.tag===v)?a:null}function ql(n){if(n.tag===x||n.tag===w)return n.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function ah(n){return n[hv]||null}function mv(n,a){n[hv]=a}function BU(n){var a=n[pv];return a===void 0&&(a=n[pv]=new Set),a}var IS={},FS=t.ReactDebugCurrentFrame;function sh(n){if(n){var a=n._owner,u=Gu(n.type,n._source,a?a.type:null);FS.setExtraStackFrame(u)}else FS.setExtraStackFrame(null)}function $i(n,a,u,c,h){{var g=Function.call.bind(Ot);for(var y in n)if(g(n,y)){var S=void 0;try{if(typeof n[y]!="function"){var E=Error((c||"React class")+": "+u+" type `"+y+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof n[y]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw E.name="Invariant Violation",E}S=n[y](a,y,c,u,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(T){S=T}S&&!(S instanceof Error)&&(sh(h),l("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",c||"React class",u,y,typeof S),sh(null)),S instanceof Error&&!(S.message in IS)&&(IS[S.message]=!0,sh(h),l("Failed %s type: %s",u,S.message),sh(null))}}}var gv=[],oh;oh=[];var Fa=-1;function bs(n){return{current:n}}function xr(n,a){if(Fa<0){l("Unexpected pop.");return}a!==oh[Fa]&&l("Unexpected Fiber popped."),n.current=gv[Fa],gv[Fa]=null,oh[Fa]=null,Fa--}function wr(n,a,u){Fa++,gv[Fa]=n.current,oh[Fa]=u,n.current=a}var vv;vv={};var li={};Object.freeze(li);var $a=bs(li),da=bs(!1),yv=li;function Wl(n,a,u){return u&&fa(a)?yv:$a.current}function $S(n,a,u){{var c=n.stateNode;c.__reactInternalMemoizedUnmaskedChildContext=a,c.__reactInternalMemoizedMaskedChildContext=u}}function Gl(n,a){{var u=n.type,c=u.contextTypes;if(!c)return li;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var g={};for(var y in c)g[y]=a[y];{var S=rt(n)||"Unknown";$i(c,g,"context",S)}return h&&$S(n,a,g),g}}function lh(){return da.current}function fa(n){{var a=n.childContextTypes;return a!=null}}function uh(n){xr(da,n),xr($a,n)}function bv(n){xr(da,n),xr($a,n)}function BS(n,a,u){{if($a.current!==li)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");wr($a,a,n),wr(da,u,n)}}function HS(n,a,u){{var c=n.stateNode,h=a.childContextTypes;if(typeof c.getChildContext!="function"){{var g=rt(n)||"Unknown";vv[g]||(vv[g]=!0,l("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",g,g))}return u}var y=c.getChildContext();for(var S in y)if(!(S in h))throw new Error((rt(n)||"Unknown")+'.getChildContext(): key "'+S+'" is not defined in childContextTypes.');{var E=rt(n)||"Unknown";$i(h,y,"child context",E)}return at({},u,y)}}function ch(n){{var a=n.stateNode,u=a&&a.__reactInternalMemoizedMergedChildContext||li;return yv=$a.current,wr($a,u,n),wr(da,da.current,n),!0}}function qS(n,a,u){{var c=n.stateNode;if(!c)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(u){var h=HS(n,a,yv);c.__reactInternalMemoizedMergedChildContext=h,xr(da,n),xr($a,n),wr($a,h,n),wr(da,u,n)}else xr(da,n),wr(da,u,n)}}function HU(n){{if(!CR(n)||n.tag!==p)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var a=n;do{switch(a.tag){case v:return a.stateNode.context;case p:{var u=a.type;if(fa(u))return a.stateNode.__reactInternalMemoizedMergedChildContext;break}}a=a.return}while(a!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var xs=0,dh=1,Ba=null,xv=!1,wv=!1;function WS(n){Ba===null?Ba=[n]:Ba.push(n)}function qU(n){xv=!0,WS(n)}function GS(){xv&&ws()}function ws(){if(!wv&&Ba!==null){wv=!0;var n=0,a=Fi();try{var u=!0,c=Ba;for(Yn(ai);n<c.length;n++){var h=c[n];do h=h(u);while(h!==null)}Ba=null,xv=!1}catch(g){throw Ba!==null&&(Ba=Ba.slice(n+1)),vw(_f,ws),g}finally{Yn(a),wv=!1}}return null}var Jl=[],Kl=0,fh=null,hh=0,Si=[],Ni=0,Oo=null,Ha=1,qa="";function WU(n){return Ao(),(n.flags&uw)!==Ke}function GU(n){return Ao(),hh}function JU(){var n=qa,a=Ha,u=a&~KU(a);return u.toString(32)+n}function Mo(n,a){Ao(),Jl[Kl++]=hh,Jl[Kl++]=fh,fh=n,hh=a}function JS(n,a,u){Ao(),Si[Ni++]=Ha,Si[Ni++]=qa,Si[Ni++]=Oo,Oo=n;var c=Ha,h=qa,g=ph(c)-1,y=c&~(1<<g),S=u+1,E=ph(a)+g;if(E>30){var T=g-g%5,R=(1<<T)-1,V=(y&R).toString(32),z=y>>T,q=g-T,J=ph(a)+q,Q=S<<q,Se=Q|z,Fe=V+h;Ha=1<<J|Se,qa=Fe}else{var je=S<<g,St=je|y,ht=h;Ha=1<<E|St,qa=ht}}function Sv(n){Ao();var a=n.return;if(a!==null){var u=1,c=0;Mo(n,u),JS(n,u,c)}}function ph(n){return 32-Nw(n)}function KU(n){return 1<<ph(n)-1}function Nv(n){for(;n===fh;)fh=Jl[--Kl],Jl[Kl]=null,hh=Jl[--Kl],Jl[Kl]=null;for(;n===Oo;)Oo=Si[--Ni],Si[Ni]=null,qa=Si[--Ni],Si[Ni]=null,Ha=Si[--Ni],Si[Ni]=null}function YU(){return Ao(),Oo!==null?{id:Ha,overflow:qa}:null}function QU(n,a){Ao(),Si[Ni++]=Ha,Si[Ni++]=qa,Si[Ni++]=Oo,Ha=a.id,qa=a.overflow,Oo=n}function Ao(){or()||l("Expected to be hydrating. This is a bug in React. Please file an issue.")}var sr=null,Ei=null,Bi=!1,Uo=!1,Ss=null;function XU(){Bi&&l("We should not be hydrating here. This is a bug in React. Please file a bug.")}function KS(){Uo=!0}function ZU(){return Uo}function ej(n){var a=n.stateNode.containerInfo;return Ei=yU(a),sr=n,Bi=!0,Ss=null,Uo=!1,!0}function tj(n,a,u){return Ei=bU(a),sr=n,Bi=!0,Ss=null,Uo=!1,u!==null&&QU(n,u),!0}function YS(n,a){switch(n.tag){case v:{kU(n.stateNode.containerInfo,a);break}case x:{var u=(n.mode&xt)!==He;OU(n.type,n.memoizedProps,n.stateNode,a,u);break}case K:{var c=n.memoizedState;c.dehydrated!==null&&RU(c.dehydrated,a);break}}}function QS(n,a){YS(n,a);var u=aV();u.stateNode=a,u.return=n;var c=n.deletions;c===null?(n.deletions=[u],n.flags|=go):c.push(u)}function Ev(n,a){{if(Uo)return;switch(n.tag){case v:{var u=n.stateNode.containerInfo;switch(a.tag){case x:var c=a.type;a.pendingProps,MU(u,c);break;case w:var h=a.pendingProps;AU(u,h);break}break}case x:{var g=n.type,y=n.memoizedProps,S=n.stateNode;switch(a.tag){case x:{var E=a.type,T=a.pendingProps,R=(n.mode&xt)!==He;LU(g,y,S,E,T,R);break}case w:{var V=a.pendingProps,z=(n.mode&xt)!==He;zU(g,y,S,V,z);break}}break}case K:{var q=n.memoizedState,J=q.dehydrated;if(J!==null)switch(a.tag){case x:var Q=a.type;a.pendingProps,UU(J,Q);break;case w:var Se=a.pendingProps;jU(J,Se);break}break}default:return}}}function XS(n,a){a.flags=a.flags&-4097|Wn,Ev(n,a)}function ZS(n,a){switch(n.tag){case x:{var u=n.type;n.pendingProps;var c=fU(a,u);return c!==null?(n.stateNode=c,sr=n,Ei=vU(c),!0):!1}case w:{var h=n.pendingProps,g=hU(a,h);return g!==null?(n.stateNode=g,sr=n,Ei=null,!0):!1}case K:{var y=pU(a);if(y!==null){var S={dehydrated:y,treeContext:YU(),retryLane:wi};n.memoizedState=S;var E=sV(y);return E.return=n,n.child=E,sr=n,Ei=null,!0}return!1}default:return!1}}function Dv(n){return(n.mode&xt)!==He&&(n.flags&Mt)===Ke}function Cv(n){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function _v(n){if(Bi){var a=Ei;if(!a){Dv(n)&&(Ev(sr,n),Cv()),XS(sr,n),Bi=!1,sr=n;return}var u=a;if(!ZS(n,a)){Dv(n)&&(Ev(sr,n),Cv()),a=Fc(u);var c=sr;if(!a||!ZS(n,a)){XS(sr,n),Bi=!1,sr=n;return}QS(c,u)}}}function nj(n,a,u){var c=n.stateNode,h=!Uo,g=xU(c,n.type,n.memoizedProps,a,u,n,h);return n.updateQueue=g,g!==null}function rj(n){var a=n.stateNode,u=n.memoizedProps,c=wU(a,u,n);if(c){var h=sr;if(h!==null)switch(h.tag){case v:{var g=h.stateNode.containerInfo,y=(h.mode&xt)!==He;_U(g,a,u,y);break}case x:{var S=h.type,E=h.memoizedProps,T=h.stateNode,R=(h.mode&xt)!==He;TU(S,E,T,a,u,R);break}}}return c}function ij(n){var a=n.memoizedState,u=a!==null?a.dehydrated:null;if(!u)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");SU(u,n)}function aj(n){var a=n.memoizedState,u=a!==null?a.dehydrated:null;if(!u)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return NU(u)}function eN(n){for(var a=n.return;a!==null&&a.tag!==x&&a.tag!==v&&a.tag!==K;)a=a.return;sr=a}function mh(n){if(n!==sr)return!1;if(!Bi)return eN(n),Bi=!0,!1;if(n.tag!==v&&(n.tag!==x||CU(n.type)&&!lv(n.type,n.memoizedProps))){var a=Ei;if(a)if(Dv(n))tN(n),Cv();else for(;a;)QS(n,a),a=Fc(a)}return eN(n),n.tag===K?Ei=aj(n):Ei=sr?Fc(n.stateNode):null,!0}function sj(){return Bi&&Ei!==null}function tN(n){for(var a=Ei;a;)YS(n,a),a=Fc(a)}function Yl(){sr=null,Ei=null,Bi=!1,Uo=!1}function nN(){Ss!==null&&(KE(Ss),Ss=null)}function or(){return Bi}function Tv(n){Ss===null?Ss=[n]:Ss.push(n)}var oj=t.ReactCurrentBatchConfig,lj=null;function uj(){return oj.transition}var Hi={recordUnsafeLifecycleWarnings:function(n,a){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(n,a){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var cj=function(n){for(var a=null,u=n;u!==null;)u.mode&vn&&(a=u),u=u.return;return a},jo=function(n){var a=[];return n.forEach(function(u){a.push(u)}),a.sort().join(", ")},qc=[],Wc=[],Gc=[],Jc=[],Kc=[],Yc=[],Lo=new Set;Hi.recordUnsafeLifecycleWarnings=function(n,a){Lo.has(n.type)||(typeof a.componentWillMount=="function"&&a.componentWillMount.__suppressDeprecationWarning!==!0&&qc.push(n),n.mode&vn&&typeof a.UNSAFE_componentWillMount=="function"&&Wc.push(n),typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&Gc.push(n),n.mode&vn&&typeof a.UNSAFE_componentWillReceiveProps=="function"&&Jc.push(n),typeof a.componentWillUpdate=="function"&&a.componentWillUpdate.__suppressDeprecationWarning!==!0&&Kc.push(n),n.mode&vn&&typeof a.UNSAFE_componentWillUpdate=="function"&&Yc.push(n))},Hi.flushPendingUnsafeLifecycleWarnings=function(){var n=new Set;qc.length>0&&(qc.forEach(function(z){n.add(rt(z)||"Component"),Lo.add(z.type)}),qc=[]);var a=new Set;Wc.length>0&&(Wc.forEach(function(z){a.add(rt(z)||"Component"),Lo.add(z.type)}),Wc=[]);var u=new Set;Gc.length>0&&(Gc.forEach(function(z){u.add(rt(z)||"Component"),Lo.add(z.type)}),Gc=[]);var c=new Set;Jc.length>0&&(Jc.forEach(function(z){c.add(rt(z)||"Component"),Lo.add(z.type)}),Jc=[]);var h=new Set;Kc.length>0&&(Kc.forEach(function(z){h.add(rt(z)||"Component"),Lo.add(z.type)}),Kc=[]);var g=new Set;if(Yc.length>0&&(Yc.forEach(function(z){g.add(rt(z)||"Component"),Lo.add(z.type)}),Yc=[]),a.size>0){var y=jo(a);l(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,y)}if(c.size>0){var S=jo(c);l(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,S)}if(g.size>0){var E=jo(g);l(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,E)}if(n.size>0){var T=jo(n);o(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,T)}if(u.size>0){var R=jo(u);o(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,R)}if(h.size>0){var V=jo(h);o(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,V)}};var gh=new Map,rN=new Set;Hi.recordLegacyContextWarning=function(n,a){var u=cj(n);if(u===null){l("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!rN.has(n.type)){var c=gh.get(u);(n.type.contextTypes!=null||n.type.childContextTypes!=null||a!==null&&typeof a.getChildContext=="function")&&(c===void 0&&(c=[],gh.set(u,c)),c.push(n))}},Hi.flushLegacyContextWarning=function(){gh.forEach(function(n,a){if(n.length!==0){var u=n[0],c=new Set;n.forEach(function(g){c.add(rt(g)||"Component"),rN.add(g.type)});var h=jo(c);try{un(u),l(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,h)}finally{qn()}}})},Hi.discardPendingWarnings=function(){qc=[],Wc=[],Gc=[],Jc=[],Kc=[],Yc=[],gh=new Map}}var kv,Rv,Ov,Mv,Av,iN=function(n,a){};kv=!1,Rv=!1,Ov={},Mv={},Av={},iN=function(n,a){if(!(n===null||typeof n!="object")&&!(!n._store||n._store.validated||n.key!=null)){if(typeof n._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");n._store.validated=!0;var u=rt(a)||"Component";Mv[u]||(Mv[u]=!0,l('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function dj(n){return n.prototype&&n.prototype.isReactComponent}function Qc(n,a,u){var c=u.ref;if(c!==null&&typeof c!="function"&&typeof c!="object"){if((n.mode&vn||gt)&&!(u._owner&&u._self&&u._owner.stateNode!==u._self)&&!(u._owner&&u._owner.tag!==p)&&!(typeof u.type=="function"&&!dj(u.type))&&u._owner){var h=rt(n)||"Component";Ov[h]||(l('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',h,c),Ov[h]=!0)}if(u._owner){var g=u._owner,y;if(g){var S=g;if(S.tag!==p)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");y=S.stateNode}if(!y)throw new Error("Missing owner for string ref "+c+". This error is likely caused by a bug in React. Please file an issue.");var E=y;ei(c,"ref");var T=""+c;if(a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===T)return a.ref;var R=function(V){var z=E.refs;V===null?delete z[T]:z[T]=V};return R._stringRef=T,R}else{if(typeof c!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!u._owner)throw new Error("Element ref was specified as a string ("+c+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return c}function vh(n,a){var u=Object.prototype.toString.call(a);throw new Error("Objects are not valid as a React child (found: "+(u==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":u)+"). If you meant to render a collection of children, use an array instead.")}function yh(n){{var a=rt(n)||"Component";if(Av[a])return;Av[a]=!0,l("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function aN(n){var a=n._payload,u=n._init;return u(a)}function sN(n){function a($,X){if(n){var B=$.deletions;B===null?($.deletions=[X],$.flags|=go):B.push(X)}}function u($,X){if(!n)return null;for(var B=X;B!==null;)a($,B),B=B.sibling;return null}function c($,X){for(var B=new Map,he=X;he!==null;)he.key!==null?B.set(he.key,he):B.set(he.index,he),he=he.sibling;return B}function h($,X){var B=qo($,X);return B.index=0,B.sibling=null,B}function g($,X,B){if($.index=B,!n)return $.flags|=uw,X;var he=$.alternate;if(he!==null){var _e=he.index;return _e<X?($.flags|=Wn,X):_e}else return $.flags|=Wn,X}function y($){return n&&$.alternate===null&&($.flags|=Wn),$}function S($,X,B,he){if(X===null||X.tag!==w){var _e=Tb(B,$.mode,he);return _e.return=$,_e}else{var Ne=h(X,B);return Ne.return=$,Ne}}function E($,X,B,he){var _e=B.type;if(_e===W)return R($,X,B.props.children,he,B.key);if(X!==null&&(X.elementType===_e||d1(X,B)||typeof _e=="object"&&_e!==null&&_e.$$typeof===pe&&aN(_e)===X.type)){var Ne=h(X,B.props);return Ne.ref=Qc($,X,B),Ne.return=$,Ne._debugSource=B._source,Ne._debugOwner=B._owner,Ne}var Qe=_b(B,$.mode,he);return Qe.ref=Qc($,X,B),Qe.return=$,Qe}function T($,X,B,he){if(X===null||X.tag!==b||X.stateNode.containerInfo!==B.containerInfo||X.stateNode.implementation!==B.implementation){var _e=kb(B,$.mode,he);return _e.return=$,_e}else{var Ne=h(X,B.children||[]);return Ne.return=$,Ne}}function R($,X,B,he,_e){if(X===null||X.tag!==C){var Ne=As(B,$.mode,he,_e);return Ne.return=$,Ne}else{var Qe=h(X,B);return Qe.return=$,Qe}}function V($,X,B){if(typeof X=="string"&&X!==""||typeof X=="number"){var he=Tb(""+X,$.mode,B);return he.return=$,he}if(typeof X=="object"&&X!==null){switch(X.$$typeof){case j:{var _e=_b(X,$.mode,B);return _e.ref=Qc($,null,X),_e.return=$,_e}case I:{var Ne=kb(X,$.mode,B);return Ne.return=$,Ne}case pe:{var Qe=X._payload,nt=X._init;return V($,nt(Qe),B)}}if(ft(X)||gn(X)){var $t=As(X,$.mode,B,null);return $t.return=$,$t}vh($,X)}return typeof X=="function"&&yh($),null}function z($,X,B,he){var _e=X!==null?X.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return _e!==null?null:S($,X,""+B,he);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===_e?E($,X,B,he):null;case I:return B.key===_e?T($,X,B,he):null;case pe:{var Ne=B._payload,Qe=B._init;return z($,X,Qe(Ne),he)}}if(ft(B)||gn(B))return _e!==null?null:R($,X,B,he,null);vh($,B)}return typeof B=="function"&&yh($),null}function q($,X,B,he,_e){if(typeof he=="string"&&he!==""||typeof he=="number"){var Ne=$.get(B)||null;return S(X,Ne,""+he,_e)}if(typeof he=="object"&&he!==null){switch(he.$$typeof){case j:{var Qe=$.get(he.key===null?B:he.key)||null;return E(X,Qe,he,_e)}case I:{var nt=$.get(he.key===null?B:he.key)||null;return T(X,nt,he,_e)}case pe:var $t=he._payload,Ct=he._init;return q($,X,B,Ct($t),_e)}if(ft(he)||gn(he)){var Sn=$.get(B)||null;return R(X,Sn,he,_e,null)}vh(X,he)}return typeof he=="function"&&yh(X),null}function J($,X,B){{if(typeof $!="object"||$===null)return X;switch($.$$typeof){case j:case I:iN($,B);var he=$.key;if(typeof he!="string")break;if(X===null){X=new Set,X.add(he);break}if(!X.has(he)){X.add(he);break}l("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",he);break;case pe:var _e=$._payload,Ne=$._init;J(Ne(_e),X,B);break}}return X}function Q($,X,B,he){for(var _e=null,Ne=0;Ne<B.length;Ne++){var Qe=B[Ne];_e=J(Qe,_e,$)}for(var nt=null,$t=null,Ct=X,Sn=0,_t=0,yn=null;Ct!==null&&_t<B.length;_t++){Ct.index>_t?(yn=Ct,Ct=null):yn=Ct.sibling;var Nr=z($,Ct,B[_t],he);if(Nr===null){Ct===null&&(Ct=yn);break}n&&Ct&&Nr.alternate===null&&a($,Ct),Sn=g(Nr,Sn,_t),$t===null?nt=Nr:$t.sibling=Nr,$t=Nr,Ct=yn}if(_t===B.length){if(u($,Ct),or()){var pr=_t;Mo($,pr)}return nt}if(Ct===null){for(;_t<B.length;_t++){var ci=V($,B[_t],he);ci!==null&&(Sn=g(ci,Sn,_t),$t===null?nt=ci:$t.sibling=ci,$t=ci)}if(or()){var Ur=_t;Mo($,Ur)}return nt}for(var jr=c($,Ct);_t<B.length;_t++){var Er=q(jr,$,_t,B[_t],he);Er!==null&&(n&&Er.alternate!==null&&jr.delete(Er.key===null?_t:Er.key),Sn=g(Er,Sn,_t),$t===null?nt=Er:$t.sibling=Er,$t=Er)}if(n&&jr.forEach(function(mu){return a($,mu)}),or()){var Xa=_t;Mo($,Xa)}return nt}function Se($,X,B,he){var _e=gn(B);if(typeof _e!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&B[Symbol.toStringTag]==="Generator"&&(Rv||l("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),Rv=!0),B.entries===_e&&(kv||l("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),kv=!0);var Ne=_e.call(B);if(Ne)for(var Qe=null,nt=Ne.next();!nt.done;nt=Ne.next()){var $t=nt.value;Qe=J($t,Qe,$)}}var Ct=_e.call(B);if(Ct==null)throw new Error("An iterable object provided no iterator.");for(var Sn=null,_t=null,yn=X,Nr=0,pr=0,ci=null,Ur=Ct.next();yn!==null&&!Ur.done;pr++,Ur=Ct.next()){yn.index>pr?(ci=yn,yn=null):ci=yn.sibling;var jr=z($,yn,Ur.value,he);if(jr===null){yn===null&&(yn=ci);break}n&&yn&&jr.alternate===null&&a($,yn),Nr=g(jr,Nr,pr),_t===null?Sn=jr:_t.sibling=jr,_t=jr,yn=ci}if(Ur.done){if(u($,yn),or()){var Er=pr;Mo($,Er)}return Sn}if(yn===null){for(;!Ur.done;pr++,Ur=Ct.next()){var Xa=V($,Ur.value,he);Xa!==null&&(Nr=g(Xa,Nr,pr),_t===null?Sn=Xa:_t.sibling=Xa,_t=Xa)}if(or()){var mu=pr;Mo($,mu)}return Sn}for(var kd=c($,yn);!Ur.done;pr++,Ur=Ct.next()){var xa=q(kd,$,pr,Ur.value,he);xa!==null&&(n&&xa.alternate!==null&&kd.delete(xa.key===null?pr:xa.key),Nr=g(xa,Nr,pr),_t===null?Sn=xa:_t.sibling=xa,_t=xa)}if(n&&kd.forEach(function(zV){return a($,zV)}),or()){var LV=pr;Mo($,LV)}return Sn}function Fe($,X,B,he){if(X!==null&&X.tag===w){u($,X.sibling);var _e=h(X,B);return _e.return=$,_e}u($,X);var Ne=Tb(B,$.mode,he);return Ne.return=$,Ne}function je($,X,B,he){for(var _e=B.key,Ne=X;Ne!==null;){if(Ne.key===_e){var Qe=B.type;if(Qe===W){if(Ne.tag===C){u($,Ne.sibling);var nt=h(Ne,B.props.children);return nt.return=$,nt._debugSource=B._source,nt._debugOwner=B._owner,nt}}else if(Ne.elementType===Qe||d1(Ne,B)||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===pe&&aN(Qe)===Ne.type){u($,Ne.sibling);var $t=h(Ne,B.props);return $t.ref=Qc($,Ne,B),$t.return=$,$t._debugSource=B._source,$t._debugOwner=B._owner,$t}u($,Ne);break}else a($,Ne);Ne=Ne.sibling}if(B.type===W){var Ct=As(B.props.children,$.mode,he,B.key);return Ct.return=$,Ct}else{var Sn=_b(B,$.mode,he);return Sn.ref=Qc($,X,B),Sn.return=$,Sn}}function St($,X,B,he){for(var _e=B.key,Ne=X;Ne!==null;){if(Ne.key===_e)if(Ne.tag===b&&Ne.stateNode.containerInfo===B.containerInfo&&Ne.stateNode.implementation===B.implementation){u($,Ne.sibling);var Qe=h(Ne,B.children||[]);return Qe.return=$,Qe}else{u($,Ne);break}else a($,Ne);Ne=Ne.sibling}var nt=kb(B,$.mode,he);return nt.return=$,nt}function ht($,X,B,he){var _e=typeof B=="object"&&B!==null&&B.type===W&&B.key===null;if(_e&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return y(je($,X,B,he));case I:return y(St($,X,B,he));case pe:var Ne=B._payload,Qe=B._init;return ht($,X,Qe(Ne),he)}if(ft(B))return Q($,X,B,he);if(gn(B))return Se($,X,B,he);vh($,B)}return typeof B=="string"&&B!==""||typeof B=="number"?y(Fe($,X,""+B,he)):(typeof B=="function"&&yh($),u($,X))}return ht}var Ql=sN(!0),oN=sN(!1);function fj(n,a){if(n!==null&&a.child!==n.child)throw new Error("Resuming work not yet implemented.");if(a.child!==null){var u=a.child,c=qo(u,u.pendingProps);for(a.child=c,c.return=a;u.sibling!==null;)u=u.sibling,c=c.sibling=qo(u,u.pendingProps),c.return=a;c.sibling=null}}function hj(n,a){for(var u=n.child;u!==null;)eV(u,a),u=u.sibling}var Uv=bs(null),jv;jv={};var bh=null,Xl=null,Lv=null,xh=!1;function wh(){bh=null,Xl=null,Lv=null,xh=!1}function lN(){xh=!0}function uN(){xh=!1}function cN(n,a,u){wr(Uv,a._currentValue,n),a._currentValue=u,a._currentRenderer!==void 0&&a._currentRenderer!==null&&a._currentRenderer!==jv&&l("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),a._currentRenderer=jv}function zv(n,a){var u=Uv.current;xr(Uv,a),n._currentValue=u}function Vv(n,a,u){for(var c=n;c!==null;){var h=c.alternate;if(Ll(c.childLanes,a)?h!==null&&!Ll(h.childLanes,a)&&(h.childLanes=lt(h.childLanes,a)):(c.childLanes=lt(c.childLanes,a),h!==null&&(h.childLanes=lt(h.childLanes,a))),c===u)break;c=c.return}c!==u&&l("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function pj(n,a,u){mj(n,a,u)}function mj(n,a,u){var c=n.child;for(c!==null&&(c.return=n);c!==null;){var h=void 0,g=c.dependencies;if(g!==null){h=c.child;for(var y=g.firstContext;y!==null;){if(y.context===a){if(c.tag===p){var S=mc(u),E=Wa(tn,S);E.tag=Nh;var T=c.updateQueue;if(T!==null){var R=T.shared,V=R.pending;V===null?E.next=E:(E.next=V.next,V.next=E),R.pending=E}}c.lanes=lt(c.lanes,u);var z=c.alternate;z!==null&&(z.lanes=lt(z.lanes,u)),Vv(c.return,u,n),g.lanes=lt(g.lanes,u);break}y=y.next}}else if(c.tag===A)h=c.type===n.type?null:c.child;else if(c.tag===ve){var q=c.return;if(q===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");q.lanes=lt(q.lanes,u);var J=q.alternate;J!==null&&(J.lanes=lt(J.lanes,u)),Vv(q,u,n),h=c.sibling}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===n){h=null;break}var Q=h.sibling;if(Q!==null){Q.return=h.return,h=Q;break}h=h.return}c=h}}function Zl(n,a){bh=n,Xl=null,Lv=null;var u=n.dependencies;if(u!==null){var c=u.firstContext;c!==null&&(ii(u.lanes,a)&&fd(),u.firstContext=null)}}function Tn(n){xh&&l("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var a=n._currentValue;if(Lv!==n){var u={context:n,memoizedValue:a,next:null};if(Xl===null){if(bh===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Xl=u,bh.dependencies={lanes:oe,firstContext:u}}else Xl=Xl.next=u}return a}var zo=null;function Pv(n){zo===null?zo=[n]:zo.push(n)}function gj(){if(zo!==null){for(var n=0;n<zo.length;n++){var a=zo[n],u=a.interleaved;if(u!==null){a.interleaved=null;var c=u.next,h=a.pending;if(h!==null){var g=h.next;h.next=c,u.next=g}a.pending=u}}zo=null}}function dN(n,a,u,c){var h=a.interleaved;return h===null?(u.next=u,Pv(a)):(u.next=h.next,h.next=u),a.interleaved=u,Sh(n,c)}function vj(n,a,u,c){var h=a.interleaved;h===null?(u.next=u,Pv(a)):(u.next=h.next,h.next=u),a.interleaved=u}function yj(n,a,u,c){var h=a.interleaved;return h===null?(u.next=u,Pv(a)):(u.next=h.next,h.next=u),a.interleaved=u,Sh(n,c)}function Hr(n,a){return Sh(n,a)}var bj=Sh;function Sh(n,a){n.lanes=lt(n.lanes,a);var u=n.alternate;u!==null&&(u.lanes=lt(u.lanes,a)),u===null&&(n.flags&(Wn|bo))!==Ke&&o1(n);for(var c=n,h=n.return;h!==null;)h.childLanes=lt(h.childLanes,a),u=h.alternate,u!==null?u.childLanes=lt(u.childLanes,a):(h.flags&(Wn|bo))!==Ke&&o1(n),c=h,h=h.return;if(c.tag===v){var g=c.stateNode;return g}else return null}var fN=0,hN=1,Nh=2,Iv=3,Eh=!1,Fv,Dh;Fv=!1,Dh=null;function $v(n){var a={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:oe},effects:null};n.updateQueue=a}function pN(n,a){var u=a.updateQueue,c=n.updateQueue;if(u===c){var h={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects};a.updateQueue=h}}function Wa(n,a){var u={eventTime:n,lane:a,tag:fN,payload:null,callback:null,next:null};return u}function Ns(n,a,u){var c=n.updateQueue;if(c===null)return null;var h=c.shared;if(Dh===h&&!Fv&&(l("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),Fv=!0),vz()){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,bj(n,u)}else return yj(n,h,a,u)}function Ch(n,a,u){var c=a.updateQueue;if(c!==null){var h=c.shared;if(_w(u)){var g=h.lanes;g=kw(g,n.pendingLanes);var y=lt(g,u);h.lanes=y,Ug(n,y)}}}function Bv(n,a){var u=n.updateQueue,c=n.alternate;if(c!==null){var h=c.updateQueue;if(u===h){var g=null,y=null,S=u.firstBaseUpdate;if(S!==null){var E=S;do{var T={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};y===null?g=y=T:(y.next=T,y=T),E=E.next}while(E!==null);y===null?g=y=a:(y.next=a,y=a)}else g=y=a;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,effects:h.effects},n.updateQueue=u;return}}var R=u.lastBaseUpdate;R===null?u.firstBaseUpdate=a:R.next=a,u.lastBaseUpdate=a}function xj(n,a,u,c,h,g){switch(u.tag){case hN:{var y=u.payload;if(typeof y=="function"){lN();var S=y.call(g,c,h);{if(n.mode&vn){Jn(!0);try{y.call(g,c,h)}finally{Jn(!1)}}uN()}return S}return y}case Iv:n.flags=n.flags&-65537|Mt;case fN:{var E=u.payload,T;if(typeof E=="function"){lN(),T=E.call(g,c,h);{if(n.mode&vn){Jn(!0);try{E.call(g,c,h)}finally{Jn(!1)}}uN()}}else T=E;return T==null?c:at({},c,T)}case Nh:return Eh=!0,c}return c}function _h(n,a,u,c){var h=n.updateQueue;Eh=!1,Dh=h.shared;var g=h.firstBaseUpdate,y=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var E=S,T=E.next;E.next=null,y===null?g=T:y.next=T,y=E;var R=n.alternate;if(R!==null){var V=R.updateQueue,z=V.lastBaseUpdate;z!==y&&(z===null?V.firstBaseUpdate=T:z.next=T,V.lastBaseUpdate=E)}}if(g!==null){var q=h.baseState,J=oe,Q=null,Se=null,Fe=null,je=g;do{var St=je.lane,ht=je.eventTime;if(Ll(c,St)){if(Fe!==null){var X={eventTime:ht,lane:Kn,tag:je.tag,payload:je.payload,callback:je.callback,next:null};Fe=Fe.next=X}q=xj(n,h,je,q,a,u);var B=je.callback;if(B!==null&&je.lane!==Kn){n.flags|=lw;var he=h.effects;he===null?h.effects=[je]:he.push(je)}}else{var $={eventTime:ht,lane:St,tag:je.tag,payload:je.payload,callback:je.callback,next:null};Fe===null?(Se=Fe=$,Q=q):Fe=Fe.next=$,J=lt(J,St)}if(je=je.next,je===null){if(S=h.shared.pending,S===null)break;var _e=S,Ne=_e.next;_e.next=null,je=Ne,h.lastBaseUpdate=_e,h.shared.pending=null}}while(!0);Fe===null&&(Q=q),h.baseState=Q,h.firstBaseUpdate=Se,h.lastBaseUpdate=Fe;var Qe=h.shared.interleaved;if(Qe!==null){var nt=Qe;do J=lt(J,nt.lane),nt=nt.next;while(nt!==Qe)}else g===null&&(h.shared.lanes=oe);Ed(J),n.lanes=J,n.memoizedState=q}Dh=null}function wj(n,a){if(typeof n!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+n));n.call(a)}function mN(){Eh=!1}function Th(){return Eh}function gN(n,a,u){var c=a.effects;if(a.effects=null,c!==null)for(var h=0;h<c.length;h++){var g=c[h],y=g.callback;y!==null&&(g.callback=null,wj(y,u))}}var Xc={},Es=bs(Xc),Zc=bs(Xc),kh=bs(Xc);function Rh(n){if(n===Xc)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return n}function vN(){var n=Rh(kh.current);return n}function Hv(n,a){wr(kh,a,n),wr(Zc,n,n),wr(Es,Xc,n);var u=VA(a);xr(Es,n),wr(Es,u,n)}function eu(n){xr(Es,n),xr(Zc,n),xr(kh,n)}function qv(){var n=Rh(Es.current);return n}function yN(n){Rh(kh.current);var a=Rh(Es.current),u=PA(a,n.type);a!==u&&(wr(Zc,n,n),wr(Es,u,n))}function Wv(n){Zc.current===n&&(xr(Es,n),xr(Zc,n))}var Sj=0,bN=1,xN=1,ed=2,qi=bs(Sj);function Gv(n,a){return(n&a)!==0}function tu(n){return n&bN}function Jv(n,a){return n&bN|a}function Nj(n,a){return n|a}function Ds(n,a){wr(qi,a,n)}function nu(n){xr(qi,n)}function Ej(n,a){var u=n.memoizedState;return u!==null?u.dehydrated!==null:(n.memoizedProps,!0)}function Oh(n){for(var a=n;a!==null;){if(a.tag===K){var u=a.memoizedState;if(u!==null){var c=u.dehydrated;if(c===null||zS(c)||fv(c))return a}}else if(a.tag===Le&&a.memoizedProps.revealOrder!==void 0){var h=(a.flags&Mt)!==Ke;if(h)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)return null;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var qr=0,Mn=1,ha=2,An=4,lr=8,Kv=[];function Yv(){for(var n=0;n<Kv.length;n++){var a=Kv[n];a._workInProgressVersionPrimary=null}Kv.length=0}function Dj(n,a){var u=a._getVersion,c=u(a._source);n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,c]:n.mutableSourceEagerHydrationData.push(a,c)}var Ce=t.ReactCurrentDispatcher,td=t.ReactCurrentBatchConfig,Qv,ru;Qv=new Set;var Vo=oe,Ft=null,Un=null,jn=null,Mh=!1,nd=!1,rd=0,Cj=0,_j=25,te=null,Di=null,Cs=-1,Xv=!1;function At(){{var n=te;Di===null?Di=[n]:Di.push(n)}}function xe(){{var n=te;Di!==null&&(Cs++,Di[Cs]!==n&&Tj(n))}}function iu(n){n!=null&&!ft(n)&&l("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",te,typeof n)}function Tj(n){{var a=rt(Ft);if(!Qv.has(a)&&(Qv.add(a),Di!==null)){for(var u="",c=30,h=0;h<=Cs;h++){for(var g=Di[h],y=h===Cs?n:g,S=h+1+". "+g;S.length<c;)S+=" ";S+=y+`
`,u+=S}l(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,a,u)}}}function Sr(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function Zv(n,a){if(Xv)return!1;if(a===null)return l("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",te),!1;n.length!==a.length&&l(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,te,"["+a.join(", ")+"]","["+n.join(", ")+"]");for(var u=0;u<a.length&&u<n.length;u++)if(!oi(n[u],a[u]))return!1;return!0}function au(n,a,u,c,h,g){Vo=g,Ft=a,Di=n!==null?n._debugHookTypes:null,Cs=-1,Xv=n!==null&&n.type!==a.type,a.memoizedState=null,a.updateQueue=null,a.lanes=oe,n!==null&&n.memoizedState!==null?Ce.current=$N:Di!==null?Ce.current=FN:Ce.current=IN;var y=u(c,h);if(nd){var S=0;do{if(nd=!1,rd=0,S>=_j)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");S+=1,Xv=!1,Un=null,jn=null,a.updateQueue=null,Cs=-1,Ce.current=BN,y=u(c,h)}while(nd)}Ce.current=qh,a._debugHookTypes=Di;var E=Un!==null&&Un.next!==null;if(Vo=oe,Ft=null,Un=null,jn=null,te=null,Di=null,Cs=-1,n!==null&&(n.flags&za)!==(a.flags&za)&&(n.mode&xt)!==He&&l("Internal React error: Expected static flag was missing. Please notify the React team."),Mh=!1,E)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return y}function su(){var n=rd!==0;return rd=0,n}function wN(n,a,u){a.updateQueue=n.updateQueue,(a.mode&ua)!==He?a.flags&=-50333701:a.flags&=-2053,n.lanes=Af(n.lanes,u)}function SN(){if(Ce.current=qh,Mh){for(var n=Ft.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Mh=!1}Vo=oe,Ft=null,Un=null,jn=null,Di=null,Cs=-1,te=null,jN=!1,nd=!1,rd=0}function pa(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Ft.memoizedState=jn=n:jn=jn.next=n,jn}function Ci(){var n;if(Un===null){var a=Ft.alternate;a!==null?n=a.memoizedState:n=null}else n=Un.next;var u;if(jn===null?u=Ft.memoizedState:u=jn.next,u!==null)jn=u,u=jn.next,Un=n;else{if(n===null)throw new Error("Rendered more hooks than during the previous render.");Un=n;var c={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null};jn===null?Ft.memoizedState=jn=c:jn=jn.next=c}return jn}function NN(){return{lastEffect:null,stores:null}}function ey(n,a){return typeof a=="function"?a(n):a}function ty(n,a,u){var c=pa(),h;u!==void 0?h=u(a):h=a,c.memoizedState=c.baseState=h;var g={pending:null,interleaved:null,lanes:oe,dispatch:null,lastRenderedReducer:n,lastRenderedState:h};c.queue=g;var y=g.dispatch=Mj.bind(null,Ft,g);return[c.memoizedState,y]}function ny(n,a,u){var c=Ci(),h=c.queue;if(h===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");h.lastRenderedReducer=n;var g=Un,y=g.baseQueue,S=h.pending;if(S!==null){if(y!==null){var E=y.next,T=S.next;y.next=T,S.next=E}g.baseQueue!==y&&l("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),g.baseQueue=y=S,h.pending=null}if(y!==null){var R=y.next,V=g.baseState,z=null,q=null,J=null,Q=R;do{var Se=Q.lane;if(Ll(Vo,Se)){if(J!==null){var je={lane:Kn,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};J=J.next=je}if(Q.hasEagerState)V=Q.eagerState;else{var St=Q.action;V=n(V,St)}}else{var Fe={lane:Se,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};J===null?(q=J=Fe,z=V):J=J.next=Fe,Ft.lanes=lt(Ft.lanes,Se),Ed(Se)}Q=Q.next}while(Q!==null&&Q!==R);J===null?z=V:J.next=q,oi(V,c.memoizedState)||fd(),c.memoizedState=V,c.baseState=z,c.baseQueue=J,h.lastRenderedState=V}var ht=h.interleaved;if(ht!==null){var $=ht;do{var X=$.lane;Ft.lanes=lt(Ft.lanes,X),Ed(X),$=$.next}while($!==ht)}else y===null&&(h.lanes=oe);var B=h.dispatch;return[c.memoizedState,B]}function ry(n,a,u){var c=Ci(),h=c.queue;if(h===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");h.lastRenderedReducer=n;var g=h.dispatch,y=h.pending,S=c.memoizedState;if(y!==null){h.pending=null;var E=y.next,T=E;do{var R=T.action;S=n(S,R),T=T.next}while(T!==E);oi(S,c.memoizedState)||fd(),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),h.lastRenderedState=S}return[S,g]}function M6(n,a,u){}function A6(n,a,u){}function iy(n,a,u){var c=Ft,h=pa(),g,y=or();if(y){if(u===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");g=u(),ru||g!==u()&&(l("The result of getServerSnapshot should be cached to avoid an infinite loop"),ru=!0)}else{if(g=a(),!ru){var S=a();oi(g,S)||(l("The result of getSnapshot should be cached to avoid an infinite loop"),ru=!0)}var E=cp();if(E===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Mf(E,Vo)||EN(c,a,g)}h.memoizedState=g;var T={value:g,getSnapshot:a};return h.queue=T,zh(CN.bind(null,c,T,n),[n]),c.flags|=cs,id(Mn|lr,DN.bind(null,c,T,g,a),void 0,null),g}function Ah(n,a,u){var c=Ft,h=Ci(),g=a();if(!ru){var y=a();oi(g,y)||(l("The result of getSnapshot should be cached to avoid an infinite loop"),ru=!0)}var S=h.memoizedState,E=!oi(S,g);E&&(h.memoizedState=g,fd());var T=h.queue;if(sd(CN.bind(null,c,T,n),[n]),T.getSnapshot!==a||E||jn!==null&&jn.memoizedState.tag&Mn){c.flags|=cs,id(Mn|lr,DN.bind(null,c,T,g,a),void 0,null);var R=cp();if(R===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Mf(R,Vo)||EN(c,a,g)}return g}function EN(n,a,u){n.flags|=eg;var c={getSnapshot:a,value:u},h=Ft.updateQueue;if(h===null)h=NN(),Ft.updateQueue=h,h.stores=[c];else{var g=h.stores;g===null?h.stores=[c]:g.push(c)}}function DN(n,a,u,c){a.value=u,a.getSnapshot=c,_N(a)&&TN(n)}function CN(n,a,u){var c=function(){_N(a)&&TN(n)};return u(c)}function _N(n){var a=n.getSnapshot,u=n.value;try{var c=a();return!oi(u,c)}catch{return!0}}function TN(n){var a=Hr(n,Ze);a!==null&&Pn(a,n,Ze,tn)}function Uh(n){var a=pa();typeof n=="function"&&(n=n()),a.memoizedState=a.baseState=n;var u={pending:null,interleaved:null,lanes:oe,dispatch:null,lastRenderedReducer:ey,lastRenderedState:n};a.queue=u;var c=u.dispatch=Aj.bind(null,Ft,u);return[a.memoizedState,c]}function ay(n){return ny(ey)}function sy(n){return ry(ey)}function id(n,a,u,c){var h={tag:n,create:a,destroy:u,deps:c,next:null},g=Ft.updateQueue;if(g===null)g=NN(),Ft.updateQueue=g,g.lastEffect=h.next=h;else{var y=g.lastEffect;if(y===null)g.lastEffect=h.next=h;else{var S=y.next;y.next=h,h.next=S,g.lastEffect=h}}return h}function oy(n){var a=pa();{var u={current:n};return a.memoizedState=u,u}}function jh(n){var a=Ci();return a.memoizedState}function ad(n,a,u,c){var h=pa(),g=c===void 0?null:c;Ft.flags|=n,h.memoizedState=id(Mn|a,u,void 0,g)}function Lh(n,a,u,c){var h=Ci(),g=c===void 0?null:c,y=void 0;if(Un!==null){var S=Un.memoizedState;if(y=S.destroy,g!==null){var E=S.deps;if(Zv(g,E)){h.memoizedState=id(a,u,y,g);return}}}Ft.flags|=n,h.memoizedState=id(Mn|a,u,y,g)}function zh(n,a){return(Ft.mode&ua)!==He?ad(ig|cs|rg,lr,n,a):ad(cs|rg,lr,n,a)}function sd(n,a){return Lh(cs,lr,n,a)}function ly(n,a){return ad(Rt,ha,n,a)}function Vh(n,a){return Lh(Rt,ha,n,a)}function uy(n,a){var u=Rt;return u|=wo,(Ft.mode&ua)!==He&&(u|=ds),ad(u,An,n,a)}function Ph(n,a){return Lh(Rt,An,n,a)}function kN(n,a){if(typeof a=="function"){var u=a,c=n();return u(c),function(){u(null)}}else if(a!=null){var h=a;h.hasOwnProperty("current")||l("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(h).join(", ")+"}");var g=n();return h.current=g,function(){h.current=null}}}function cy(n,a,u){typeof a!="function"&&l("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",a!==null?typeof a:"null");var c=u!=null?u.concat([n]):null,h=Rt;return h|=wo,(Ft.mode&ua)!==He&&(h|=ds),ad(h,An,kN.bind(null,a,n),c)}function Ih(n,a,u){typeof a!="function"&&l("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",a!==null?typeof a:"null");var c=u!=null?u.concat([n]):null;return Lh(Rt,An,kN.bind(null,a,n),c)}function kj(n,a){}var Fh=kj;function dy(n,a){var u=pa(),c=a===void 0?null:a;return u.memoizedState=[n,c],n}function $h(n,a){var u=Ci(),c=a===void 0?null:a,h=u.memoizedState;if(h!==null&&c!==null){var g=h[1];if(Zv(c,g))return h[0]}return u.memoizedState=[n,c],n}function fy(n,a){var u=pa(),c=a===void 0?null:a,h=n();return u.memoizedState=[h,c],h}function Bh(n,a){var u=Ci(),c=a===void 0?null:a,h=u.memoizedState;if(h!==null&&c!==null){var g=h[1];if(Zv(c,g))return h[0]}var y=n();return u.memoizedState=[y,c],y}function hy(n){var a=pa();return a.memoizedState=n,n}function RN(n){var a=Ci(),u=Un,c=u.memoizedState;return MN(a,c,n)}function ON(n){var a=Ci();if(Un===null)return a.memoizedState=n,n;var u=Un.memoizedState;return MN(a,u,n)}function MN(n,a,u){var c=!pO(Vo);if(c){if(!oi(u,a)){var h=Tw();Ft.lanes=lt(Ft.lanes,h),Ed(h),n.baseState=!0}return a}else return n.baseState&&(n.baseState=!1,fd()),n.memoizedState=u,u}function Rj(n,a,u){var c=Fi();Yn(NO(c,Pa)),n(!0);var h=td.transition;td.transition={};var g=td.transition;td.transition._updatedFibers=new Set;try{n(!1),a()}finally{if(Yn(c),td.transition=h,h===null&&g._updatedFibers){var y=g._updatedFibers.size;y>10&&o("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),g._updatedFibers.clear()}}}function py(){var n=Uh(!1),a=n[0],u=n[1],c=Rj.bind(null,u),h=pa();return h.memoizedState=c,[a,c]}function AN(){var n=ay(),a=n[0],u=Ci(),c=u.memoizedState;return[a,c]}function UN(){var n=sy(),a=n[0],u=Ci(),c=u.memoizedState;return[a,c]}var jN=!1;function Oj(){return jN}function my(){var n=pa(),a=cp(),u=a.identifierPrefix,c;if(or()){var h=JU();c=":"+u+"R"+h;var g=rd++;g>0&&(c+="H"+g.toString(32)),c+=":"}else{var y=Cj++;c=":"+u+"r"+y.toString(32)+":"}return n.memoizedState=c,c}function Hh(){var n=Ci(),a=n.memoizedState;return a}function Mj(n,a,u){typeof arguments[3]=="function"&&l("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var c=Os(n),h={lane:c,action:u,hasEagerState:!1,eagerState:null,next:null};if(LN(n))zN(a,h);else{var g=dN(n,a,h,c);if(g!==null){var y=Ar();Pn(g,n,c,y),VN(g,a,c)}}PN(n,c)}function Aj(n,a,u){typeof arguments[3]=="function"&&l("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var c=Os(n),h={lane:c,action:u,hasEagerState:!1,eagerState:null,next:null};if(LN(n))zN(a,h);else{var g=n.alternate;if(n.lanes===oe&&(g===null||g.lanes===oe)){var y=a.lastRenderedReducer;if(y!==null){var S;S=Ce.current,Ce.current=Wi;try{var E=a.lastRenderedState,T=y(E,u);if(h.hasEagerState=!0,h.eagerState=T,oi(T,E)){vj(n,a,h,c);return}}catch{}finally{Ce.current=S}}}var R=dN(n,a,h,c);if(R!==null){var V=Ar();Pn(R,n,c,V),VN(R,a,c)}}PN(n,c)}function LN(n){var a=n.alternate;return n===Ft||a!==null&&a===Ft}function zN(n,a){nd=Mh=!0;var u=n.pending;u===null?a.next=a:(a.next=u.next,u.next=a),n.pending=a}function VN(n,a,u){if(_w(u)){var c=a.lanes;c=kw(c,n.pendingLanes);var h=lt(c,u);a.lanes=h,Ug(n,h)}}function PN(n,a,u){ug(n,a)}var qh={readContext:Tn,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:Ie},IN=null,FN=null,$N=null,BN=null,ma=null,Wi=null,Wh=null;{var gy=function(){l("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},et=function(){l("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};IN={readContext:function(n){return Tn(n)},useCallback:function(n,a){return te="useCallback",At(),iu(a),dy(n,a)},useContext:function(n){return te="useContext",At(),Tn(n)},useEffect:function(n,a){return te="useEffect",At(),iu(a),zh(n,a)},useImperativeHandle:function(n,a,u){return te="useImperativeHandle",At(),iu(u),cy(n,a,u)},useInsertionEffect:function(n,a){return te="useInsertionEffect",At(),iu(a),ly(n,a)},useLayoutEffect:function(n,a){return te="useLayoutEffect",At(),iu(a),uy(n,a)},useMemo:function(n,a){te="useMemo",At(),iu(a);var u=Ce.current;Ce.current=ma;try{return fy(n,a)}finally{Ce.current=u}},useReducer:function(n,a,u){te="useReducer",At();var c=Ce.current;Ce.current=ma;try{return ty(n,a,u)}finally{Ce.current=c}},useRef:function(n){return te="useRef",At(),oy(n)},useState:function(n){te="useState",At();var a=Ce.current;Ce.current=ma;try{return Uh(n)}finally{Ce.current=a}},useDebugValue:function(n,a){return te="useDebugValue",At(),void 0},useDeferredValue:function(n){return te="useDeferredValue",At(),hy(n)},useTransition:function(){return te="useTransition",At(),py()},useMutableSource:function(n,a,u){return te="useMutableSource",At(),void 0},useSyncExternalStore:function(n,a,u){return te="useSyncExternalStore",At(),iy(n,a,u)},useId:function(){return te="useId",At(),my()},unstable_isNewReconciler:Ie},FN={readContext:function(n){return Tn(n)},useCallback:function(n,a){return te="useCallback",xe(),dy(n,a)},useContext:function(n){return te="useContext",xe(),Tn(n)},useEffect:function(n,a){return te="useEffect",xe(),zh(n,a)},useImperativeHandle:function(n,a,u){return te="useImperativeHandle",xe(),cy(n,a,u)},useInsertionEffect:function(n,a){return te="useInsertionEffect",xe(),ly(n,a)},useLayoutEffect:function(n,a){return te="useLayoutEffect",xe(),uy(n,a)},useMemo:function(n,a){te="useMemo",xe();var u=Ce.current;Ce.current=ma;try{return fy(n,a)}finally{Ce.current=u}},useReducer:function(n,a,u){te="useReducer",xe();var c=Ce.current;Ce.current=ma;try{return ty(n,a,u)}finally{Ce.current=c}},useRef:function(n){return te="useRef",xe(),oy(n)},useState:function(n){te="useState",xe();var a=Ce.current;Ce.current=ma;try{return Uh(n)}finally{Ce.current=a}},useDebugValue:function(n,a){return te="useDebugValue",xe(),void 0},useDeferredValue:function(n){return te="useDeferredValue",xe(),hy(n)},useTransition:function(){return te="useTransition",xe(),py()},useMutableSource:function(n,a,u){return te="useMutableSource",xe(),void 0},useSyncExternalStore:function(n,a,u){return te="useSyncExternalStore",xe(),iy(n,a,u)},useId:function(){return te="useId",xe(),my()},unstable_isNewReconciler:Ie},$N={readContext:function(n){return Tn(n)},useCallback:function(n,a){return te="useCallback",xe(),$h(n,a)},useContext:function(n){return te="useContext",xe(),Tn(n)},useEffect:function(n,a){return te="useEffect",xe(),sd(n,a)},useImperativeHandle:function(n,a,u){return te="useImperativeHandle",xe(),Ih(n,a,u)},useInsertionEffect:function(n,a){return te="useInsertionEffect",xe(),Vh(n,a)},useLayoutEffect:function(n,a){return te="useLayoutEffect",xe(),Ph(n,a)},useMemo:function(n,a){te="useMemo",xe();var u=Ce.current;Ce.current=Wi;try{return Bh(n,a)}finally{Ce.current=u}},useReducer:function(n,a,u){te="useReducer",xe();var c=Ce.current;Ce.current=Wi;try{return ny(n,a,u)}finally{Ce.current=c}},useRef:function(n){return te="useRef",xe(),jh()},useState:function(n){te="useState",xe();var a=Ce.current;Ce.current=Wi;try{return ay(n)}finally{Ce.current=a}},useDebugValue:function(n,a){return te="useDebugValue",xe(),Fh()},useDeferredValue:function(n){return te="useDeferredValue",xe(),RN(n)},useTransition:function(){return te="useTransition",xe(),AN()},useMutableSource:function(n,a,u){return te="useMutableSource",xe(),void 0},useSyncExternalStore:function(n,a,u){return te="useSyncExternalStore",xe(),Ah(n,a)},useId:function(){return te="useId",xe(),Hh()},unstable_isNewReconciler:Ie},BN={readContext:function(n){return Tn(n)},useCallback:function(n,a){return te="useCallback",xe(),$h(n,a)},useContext:function(n){return te="useContext",xe(),Tn(n)},useEffect:function(n,a){return te="useEffect",xe(),sd(n,a)},useImperativeHandle:function(n,a,u){return te="useImperativeHandle",xe(),Ih(n,a,u)},useInsertionEffect:function(n,a){return te="useInsertionEffect",xe(),Vh(n,a)},useLayoutEffect:function(n,a){return te="useLayoutEffect",xe(),Ph(n,a)},useMemo:function(n,a){te="useMemo",xe();var u=Ce.current;Ce.current=Wh;try{return Bh(n,a)}finally{Ce.current=u}},useReducer:function(n,a,u){te="useReducer",xe();var c=Ce.current;Ce.current=Wh;try{return ry(n,a,u)}finally{Ce.current=c}},useRef:function(n){return te="useRef",xe(),jh()},useState:function(n){te="useState",xe();var a=Ce.current;Ce.current=Wh;try{return sy(n)}finally{Ce.current=a}},useDebugValue:function(n,a){return te="useDebugValue",xe(),Fh()},useDeferredValue:function(n){return te="useDeferredValue",xe(),ON(n)},useTransition:function(){return te="useTransition",xe(),UN()},useMutableSource:function(n,a,u){return te="useMutableSource",xe(),void 0},useSyncExternalStore:function(n,a,u){return te="useSyncExternalStore",xe(),Ah(n,a)},useId:function(){return te="useId",xe(),Hh()},unstable_isNewReconciler:Ie},ma={readContext:function(n){return gy(),Tn(n)},useCallback:function(n,a){return te="useCallback",et(),At(),dy(n,a)},useContext:function(n){return te="useContext",et(),At(),Tn(n)},useEffect:function(n,a){return te="useEffect",et(),At(),zh(n,a)},useImperativeHandle:function(n,a,u){return te="useImperativeHandle",et(),At(),cy(n,a,u)},useInsertionEffect:function(n,a){return te="useInsertionEffect",et(),At(),ly(n,a)},useLayoutEffect:function(n,a){return te="useLayoutEffect",et(),At(),uy(n,a)},useMemo:function(n,a){te="useMemo",et(),At();var u=Ce.current;Ce.current=ma;try{return fy(n,a)}finally{Ce.current=u}},useReducer:function(n,a,u){te="useReducer",et(),At();var c=Ce.current;Ce.current=ma;try{return ty(n,a,u)}finally{Ce.current=c}},useRef:function(n){return te="useRef",et(),At(),oy(n)},useState:function(n){te="useState",et(),At();var a=Ce.current;Ce.current=ma;try{return Uh(n)}finally{Ce.current=a}},useDebugValue:function(n,a){return te="useDebugValue",et(),At(),void 0},useDeferredValue:function(n){return te="useDeferredValue",et(),At(),hy(n)},useTransition:function(){return te="useTransition",et(),At(),py()},useMutableSource:function(n,a,u){return te="useMutableSource",et(),At(),void 0},useSyncExternalStore:function(n,a,u){return te="useSyncExternalStore",et(),At(),iy(n,a,u)},useId:function(){return te="useId",et(),At(),my()},unstable_isNewReconciler:Ie},Wi={readContext:function(n){return gy(),Tn(n)},useCallback:function(n,a){return te="useCallback",et(),xe(),$h(n,a)},useContext:function(n){return te="useContext",et(),xe(),Tn(n)},useEffect:function(n,a){return te="useEffect",et(),xe(),sd(n,a)},useImperativeHandle:function(n,a,u){return te="useImperativeHandle",et(),xe(),Ih(n,a,u)},useInsertionEffect:function(n,a){return te="useInsertionEffect",et(),xe(),Vh(n,a)},useLayoutEffect:function(n,a){return te="useLayoutEffect",et(),xe(),Ph(n,a)},useMemo:function(n,a){te="useMemo",et(),xe();var u=Ce.current;Ce.current=Wi;try{return Bh(n,a)}finally{Ce.current=u}},useReducer:function(n,a,u){te="useReducer",et(),xe();var c=Ce.current;Ce.current=Wi;try{return ny(n,a,u)}finally{Ce.current=c}},useRef:function(n){return te="useRef",et(),xe(),jh()},useState:function(n){te="useState",et(),xe();var a=Ce.current;Ce.current=Wi;try{return ay(n)}finally{Ce.current=a}},useDebugValue:function(n,a){return te="useDebugValue",et(),xe(),Fh()},useDeferredValue:function(n){return te="useDeferredValue",et(),xe(),RN(n)},useTransition:function(){return te="useTransition",et(),xe(),AN()},useMutableSource:function(n,a,u){return te="useMutableSource",et(),xe(),void 0},useSyncExternalStore:function(n,a,u){return te="useSyncExternalStore",et(),xe(),Ah(n,a)},useId:function(){return te="useId",et(),xe(),Hh()},unstable_isNewReconciler:Ie},Wh={readContext:function(n){return gy(),Tn(n)},useCallback:function(n,a){return te="useCallback",et(),xe(),$h(n,a)},useContext:function(n){return te="useContext",et(),xe(),Tn(n)},useEffect:function(n,a){return te="useEffect",et(),xe(),sd(n,a)},useImperativeHandle:function(n,a,u){return te="useImperativeHandle",et(),xe(),Ih(n,a,u)},useInsertionEffect:function(n,a){return te="useInsertionEffect",et(),xe(),Vh(n,a)},useLayoutEffect:function(n,a){return te="useLayoutEffect",et(),xe(),Ph(n,a)},useMemo:function(n,a){te="useMemo",et(),xe();var u=Ce.current;Ce.current=Wi;try{return Bh(n,a)}finally{Ce.current=u}},useReducer:function(n,a,u){te="useReducer",et(),xe();var c=Ce.current;Ce.current=Wi;try{return ry(n,a,u)}finally{Ce.current=c}},useRef:function(n){return te="useRef",et(),xe(),jh()},useState:function(n){te="useState",et(),xe();var a=Ce.current;Ce.current=Wi;try{return sy(n)}finally{Ce.current=a}},useDebugValue:function(n,a){return te="useDebugValue",et(),xe(),Fh()},useDeferredValue:function(n){return te="useDeferredValue",et(),xe(),ON(n)},useTransition:function(){return te="useTransition",et(),xe(),UN()},useMutableSource:function(n,a,u){return te="useMutableSource",et(),xe(),void 0},useSyncExternalStore:function(n,a,u){return te="useSyncExternalStore",et(),xe(),Ah(n,a)},useId:function(){return te="useId",et(),xe(),Hh()},unstable_isNewReconciler:Ie}}var _s=e.unstable_now,HN=0,Gh=-1,od=-1,Jh=-1,vy=!1,Kh=!1;function qN(){return vy}function Uj(){Kh=!0}function jj(){vy=!1,Kh=!1}function Lj(){vy=Kh,Kh=!1}function WN(){return HN}function GN(){HN=_s()}function yy(n){od=_s(),n.actualStartTime<0&&(n.actualStartTime=_s())}function JN(n){od=-1}function Yh(n,a){if(od>=0){var u=_s()-od;n.actualDuration+=u,a&&(n.selfBaseDuration=u),od=-1}}function ga(n){if(Gh>=0){var a=_s()-Gh;Gh=-1;for(var u=n.return;u!==null;){switch(u.tag){case v:var c=u.stateNode;c.effectDuration+=a;return;case P:var h=u.stateNode;h.effectDuration+=a;return}u=u.return}}}function by(n){if(Jh>=0){var a=_s()-Jh;Jh=-1;for(var u=n.return;u!==null;){switch(u.tag){case v:var c=u.stateNode;c!==null&&(c.passiveEffectDuration+=a);return;case P:var h=u.stateNode;h!==null&&(h.passiveEffectDuration+=a);return}u=u.return}}}function va(){Gh=_s()}function xy(){Jh=_s()}function wy(n){for(var a=n.child;a;)n.actualDuration+=a.actualDuration,a=a.sibling}function Gi(n,a){if(n&&n.defaultProps){var u=at({},a),c=n.defaultProps;for(var h in c)u[h]===void 0&&(u[h]=c[h]);return u}return a}var Sy={},Ny,Ey,Dy,Cy,_y,KN,Qh,Ty,ky,Ry,ld;{Ny=new Set,Ey=new Set,Dy=new Set,Cy=new Set,Ty=new Set,_y=new Set,ky=new Set,Ry=new Set,ld=new Set;var YN=new Set;Qh=function(n,a){if(!(n===null||typeof n=="function")){var u=a+"_"+n;YN.has(u)||(YN.add(u),l("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",a,n))}},KN=function(n,a){if(a===void 0){var u=kt(n)||"Component";_y.has(u)||(_y.add(u),l("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",u))}},Object.defineProperty(Sy,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Sy)}function Oy(n,a,u,c){var h=n.memoizedState,g=u(c,h);{if(n.mode&vn){Jn(!0);try{g=u(c,h)}finally{Jn(!1)}}KN(a,g)}var y=g==null?h:at({},h,g);if(n.memoizedState=y,n.lanes===oe){var S=n.updateQueue;S.baseState=y}}var My={isMounted:_R,enqueueSetState:function(n,a,u){var c=_l(n),h=Ar(),g=Os(c),y=Wa(h,g);y.payload=a,u!=null&&(Qh(u,"setState"),y.callback=u);var S=Ns(c,y,g);S!==null&&(Pn(S,c,g,h),Ch(S,c,g)),ug(c,g)},enqueueReplaceState:function(n,a,u){var c=_l(n),h=Ar(),g=Os(c),y=Wa(h,g);y.tag=hN,y.payload=a,u!=null&&(Qh(u,"replaceState"),y.callback=u);var S=Ns(c,y,g);S!==null&&(Pn(S,c,g,h),Ch(S,c,g)),ug(c,g)},enqueueForceUpdate:function(n,a){var u=_l(n),c=Ar(),h=Os(u),g=Wa(c,h);g.tag=Nh,a!=null&&(Qh(a,"forceUpdate"),g.callback=a);var y=Ns(u,g,h);y!==null&&(Pn(y,u,h,c),Ch(y,u,h)),iO(u,h)}};function QN(n,a,u,c,h,g,y){var S=n.stateNode;if(typeof S.shouldComponentUpdate=="function"){var E=S.shouldComponentUpdate(c,g,y);{if(n.mode&vn){Jn(!0);try{E=S.shouldComponentUpdate(c,g,y)}finally{Jn(!1)}}E===void 0&&l("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",kt(a)||"Component")}return E}return a.prototype&&a.prototype.isPureReactComponent?!Rc(u,c)||!Rc(h,g):!0}function zj(n,a,u){var c=n.stateNode;{var h=kt(a)||"Component",g=c.render;g||(a.prototype&&typeof a.prototype.render=="function"?l("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",h):l("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",h)),c.getInitialState&&!c.getInitialState.isReactClassApproved&&!c.state&&l("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",h),c.getDefaultProps&&!c.getDefaultProps.isReactClassApproved&&l("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",h),c.propTypes&&l("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",h),c.contextType&&l("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",h),a.childContextTypes&&!ld.has(a)&&(n.mode&vn)===He&&(ld.add(a),l(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,h)),a.contextTypes&&!ld.has(a)&&(n.mode&vn)===He&&(ld.add(a),l(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,h)),c.contextTypes&&l("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",h),a.contextType&&a.contextTypes&&!ky.has(a)&&(ky.add(a),l("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",h)),typeof c.componentShouldUpdate=="function"&&l("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",h),a.prototype&&a.prototype.isPureReactComponent&&typeof c.shouldComponentUpdate<"u"&&l("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",kt(a)||"A pure component"),typeof c.componentDidUnmount=="function"&&l("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",h),typeof c.componentDidReceiveProps=="function"&&l("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",h),typeof c.componentWillRecieveProps=="function"&&l("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",h),typeof c.UNSAFE_componentWillRecieveProps=="function"&&l("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",h);var y=c.props!==u;c.props!==void 0&&y&&l("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",h,h),c.defaultProps&&l("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",h,h),typeof c.getSnapshotBeforeUpdate=="function"&&typeof c.componentDidUpdate!="function"&&!Dy.has(a)&&(Dy.add(a),l("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",kt(a))),typeof c.getDerivedStateFromProps=="function"&&l("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",h),typeof c.getDerivedStateFromError=="function"&&l("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",h),typeof a.getSnapshotBeforeUpdate=="function"&&l("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",h);var S=c.state;S&&(typeof S!="object"||ft(S))&&l("%s.state: must be set to an object or null",h),typeof c.getChildContext=="function"&&typeof a.childContextTypes!="object"&&l("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",h)}}function XN(n,a){a.updater=My,n.stateNode=a,NR(a,n),a._reactInternalInstance=Sy}function ZN(n,a,u){var c=!1,h=li,g=li,y=a.contextType;if("contextType"in a){var S=y===null||y!==void 0&&y.$$typeof===Z&&y._context===void 0;if(!S&&!Ry.has(a)){Ry.add(a);var E="";y===void 0?E=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof y!="object"?E=" However, it is set to a "+typeof y+".":y.$$typeof===H?E=" Did you accidentally pass the Context.Provider instead?":y._context!==void 0?E=" Did you accidentally pass the Context.Consumer instead?":E=" However, it is set to an object with keys {"+Object.keys(y).join(", ")+"}.",l("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",kt(a)||"Component",E)}}if(typeof y=="object"&&y!==null)g=Tn(y);else{h=Wl(n,a,!0);var T=a.contextTypes;c=T!=null,g=c?Gl(n,h):li}var R=new a(u,g);if(n.mode&vn){Jn(!0);try{R=new a(u,g)}finally{Jn(!1)}}var V=n.memoizedState=R.state!==null&&R.state!==void 0?R.state:null;XN(n,R);{if(typeof a.getDerivedStateFromProps=="function"&&V===null){var z=kt(a)||"Component";Ey.has(z)||(Ey.add(z),l("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",z,R.state===null?"null":"undefined",z))}if(typeof a.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"){var q=null,J=null,Q=null;if(typeof R.componentWillMount=="function"&&R.componentWillMount.__suppressDeprecationWarning!==!0?q="componentWillMount":typeof R.UNSAFE_componentWillMount=="function"&&(q="UNSAFE_componentWillMount"),typeof R.componentWillReceiveProps=="function"&&R.componentWillReceiveProps.__suppressDeprecationWarning!==!0?J="componentWillReceiveProps":typeof R.UNSAFE_componentWillReceiveProps=="function"&&(J="UNSAFE_componentWillReceiveProps"),typeof R.componentWillUpdate=="function"&&R.componentWillUpdate.__suppressDeprecationWarning!==!0?Q="componentWillUpdate":typeof R.UNSAFE_componentWillUpdate=="function"&&(Q="UNSAFE_componentWillUpdate"),q!==null||J!==null||Q!==null){var Se=kt(a)||"Component",Fe=typeof a.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Cy.has(Se)||(Cy.add(Se),l(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,Se,Fe,q!==null?`
  `+q:"",J!==null?`
  `+J:"",Q!==null?`
  `+Q:""))}}}return c&&$S(n,h,g),R}function Vj(n,a){var u=a.state;typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),u!==a.state&&(l("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",rt(n)||"Component"),My.enqueueReplaceState(a,a.state,null))}function eE(n,a,u,c){var h=a.state;if(typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,c),a.state!==h){{var g=rt(n)||"Component";Ny.has(g)||(Ny.add(g),l("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",g))}My.enqueueReplaceState(a,a.state,null)}}function Ay(n,a,u,c){zj(n,a,u);var h=n.stateNode;h.props=u,h.state=n.memoizedState,h.refs={},$v(n);var g=a.contextType;if(typeof g=="object"&&g!==null)h.context=Tn(g);else{var y=Wl(n,a,!0);h.context=Gl(n,y)}{if(h.state===u){var S=kt(a)||"Component";Ty.has(S)||(Ty.add(S),l("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",S))}n.mode&vn&&Hi.recordLegacyContextWarning(n,h),Hi.recordUnsafeLifecycleWarnings(n,h)}h.state=n.memoizedState;var E=a.getDerivedStateFromProps;if(typeof E=="function"&&(Oy(n,a,E,u),h.state=n.memoizedState),typeof a.getDerivedStateFromProps!="function"&&typeof h.getSnapshotBeforeUpdate!="function"&&(typeof h.UNSAFE_componentWillMount=="function"||typeof h.componentWillMount=="function")&&(Vj(n,h),_h(n,u,h,c),h.state=n.memoizedState),typeof h.componentDidMount=="function"){var T=Rt;T|=wo,(n.mode&ua)!==He&&(T|=ds),n.flags|=T}}function Pj(n,a,u,c){var h=n.stateNode,g=n.memoizedProps;h.props=g;var y=h.context,S=a.contextType,E=li;if(typeof S=="object"&&S!==null)E=Tn(S);else{var T=Wl(n,a,!0);E=Gl(n,T)}var R=a.getDerivedStateFromProps,V=typeof R=="function"||typeof h.getSnapshotBeforeUpdate=="function";!V&&(typeof h.UNSAFE_componentWillReceiveProps=="function"||typeof h.componentWillReceiveProps=="function")&&(g!==u||y!==E)&&eE(n,h,u,E),mN();var z=n.memoizedState,q=h.state=z;if(_h(n,u,h,c),q=n.memoizedState,g===u&&z===q&&!lh()&&!Th()){if(typeof h.componentDidMount=="function"){var J=Rt;J|=wo,(n.mode&ua)!==He&&(J|=ds),n.flags|=J}return!1}typeof R=="function"&&(Oy(n,a,R,u),q=n.memoizedState);var Q=Th()||QN(n,a,g,u,z,q,E);if(Q){if(!V&&(typeof h.UNSAFE_componentWillMount=="function"||typeof h.componentWillMount=="function")&&(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"){var Se=Rt;Se|=wo,(n.mode&ua)!==He&&(Se|=ds),n.flags|=Se}}else{if(typeof h.componentDidMount=="function"){var Fe=Rt;Fe|=wo,(n.mode&ua)!==He&&(Fe|=ds),n.flags|=Fe}n.memoizedProps=u,n.memoizedState=q}return h.props=u,h.state=q,h.context=E,Q}function Ij(n,a,u,c,h){var g=a.stateNode;pN(n,a);var y=a.memoizedProps,S=a.type===a.elementType?y:Gi(a.type,y);g.props=S;var E=a.pendingProps,T=g.context,R=u.contextType,V=li;if(typeof R=="object"&&R!==null)V=Tn(R);else{var z=Wl(a,u,!0);V=Gl(a,z)}var q=u.getDerivedStateFromProps,J=typeof q=="function"||typeof g.getSnapshotBeforeUpdate=="function";!J&&(typeof g.UNSAFE_componentWillReceiveProps=="function"||typeof g.componentWillReceiveProps=="function")&&(y!==E||T!==V)&&eE(a,g,c,V),mN();var Q=a.memoizedState,Se=g.state=Q;if(_h(a,c,g,h),Se=a.memoizedState,y===E&&Q===Se&&!lh()&&!Th())return typeof g.componentDidUpdate=="function"&&(y!==n.memoizedProps||Q!==n.memoizedState)&&(a.flags|=Rt),typeof g.getSnapshotBeforeUpdate=="function"&&(y!==n.memoizedProps||Q!==n.memoizedState)&&(a.flags|=kl),!1;typeof q=="function"&&(Oy(a,u,q,c),Se=a.memoizedState);var Fe=Th()||QN(a,u,S,c,Q,Se,V)||jt;return Fe?(!J&&(typeof g.UNSAFE_componentWillUpdate=="function"||typeof g.componentWillUpdate=="function")&&(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Se,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Se,V)),typeof g.componentDidUpdate=="function"&&(a.flags|=Rt),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=kl)):(typeof g.componentDidUpdate=="function"&&(y!==n.memoizedProps||Q!==n.memoizedState)&&(a.flags|=Rt),typeof g.getSnapshotBeforeUpdate=="function"&&(y!==n.memoizedProps||Q!==n.memoizedState)&&(a.flags|=kl),a.memoizedProps=c,a.memoizedState=Se),g.props=c,g.state=Se,g.context=V,Fe}function Po(n,a){return{value:n,source:a,stack:co(a),digest:null}}function Uy(n,a,u){return{value:n,source:null,stack:u??null,digest:a??null}}function Fj(n,a){return!0}function jy(n,a){try{var u=Fj(n,a);if(u===!1)return;var c=a.value,h=a.source,g=a.stack,y=g!==null?g:"";if(c!=null&&c._suppressLogging){if(n.tag===p)return;console.error(c)}var S=h?rt(h):null,E=S?"The above error occurred in the <"+S+"> component:":"The above error occurred in one of your React components:",T;if(n.tag===v)T=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var R=rt(n)||"Anonymous";T="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+R+".")}var V=E+`
`+y+`

`+(""+T);console.error(V)}catch(z){setTimeout(function(){throw z})}}var $j=typeof WeakMap=="function"?WeakMap:Map;function tE(n,a,u){var c=Wa(tn,u);c.tag=Iv,c.payload={element:null};var h=a.value;return c.callback=function(){Uz(h),jy(n,a)},c}function Ly(n,a,u){var c=Wa(tn,u);c.tag=Iv;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var g=a.value;c.payload=function(){return h(g)},c.callback=function(){f1(n),jy(n,a)}}var y=n.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){f1(n),jy(n,a),typeof h!="function"&&Mz(this);var E=a.value,T=a.stack;this.componentDidCatch(E,{componentStack:T!==null?T:""}),typeof h!="function"&&(ii(n.lanes,Ze)||l("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",rt(n)||"Unknown"))}),c}function nE(n,a,u){var c=n.pingCache,h;if(c===null?(c=n.pingCache=new $j,h=new Set,c.set(a,h)):(h=c.get(a),h===void 0&&(h=new Set,c.set(a,h))),!h.has(u)){h.add(u);var g=jz.bind(null,n,a,u);Ii&&Dd(n,u),a.then(g,g)}}function Bj(n,a,u,c){var h=n.updateQueue;if(h===null){var g=new Set;g.add(u),n.updateQueue=g}else h.add(u)}function Hj(n,a){var u=n.tag;if((n.mode&xt)===He&&(u===f||u===F||u===L)){var c=n.alternate;c?(n.updateQueue=c.updateQueue,n.memoizedState=c.memoizedState,n.lanes=c.lanes):(n.updateQueue=null,n.memoizedState=null)}}function rE(n){var a=n;do{if(a.tag===K&&Ej(a))return a;a=a.return}while(a!==null);return null}function iE(n,a,u,c,h){if((n.mode&xt)===He){if(n===a)n.flags|=Pi;else{if(n.flags|=Mt,u.flags|=tg,u.flags&=-52805,u.tag===p){var g=u.alternate;if(g===null)u.tag=re;else{var y=Wa(tn,Ze);y.tag=Nh,Ns(u,y,Ze)}}u.lanes=lt(u.lanes,Ze)}return n}return n.flags|=Pi,n.lanes=h,n}function qj(n,a,u,c,h){if(u.flags|=Cf,Ii&&Dd(n,h),c!==null&&typeof c=="object"&&typeof c.then=="function"){var g=c;Hj(u),or()&&u.mode&xt&&KS();var y=rE(a);if(y!==null){y.flags&=-257,iE(y,a,u,n,h),y.mode&xt&&nE(n,g,h),Bj(y,n,g);return}else{if(!hO(h)){nE(n,g,h),mb();return}var S=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");c=S}}else if(or()&&u.mode&xt){KS();var E=rE(a);if(E!==null){(E.flags&Pi)===Ke&&(E.flags|=vo),iE(E,a,u,n,h),Tv(Po(c,u));return}}c=Po(c,u),Ez(c);var T=a;do{switch(T.tag){case v:{var R=c;T.flags|=Pi;var V=mc(h);T.lanes=lt(T.lanes,V);var z=tE(T,R,V);Bv(T,z);return}case p:var q=c,J=T.type,Q=T.stateNode;if((T.flags&Mt)===Ke&&(typeof J.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&!r1(Q))){T.flags|=Pi;var Se=mc(h);T.lanes=lt(T.lanes,Se);var Fe=Ly(T,q,Se);Bv(T,Fe);return}break}T=T.return}while(T!==null)}function Wj(){return null}var ud=t.ReactCurrentOwner,Ji=!1,zy,cd,Vy,Py,Iy,Io,Fy,Xh,dd;zy={},cd={},Vy={},Py={},Iy={},Io=!1,Fy={},Xh={},dd={};function Or(n,a,u,c){n===null?a.child=oN(a,null,u,c):a.child=Ql(a,n.child,u,c)}function Gj(n,a,u,c){a.child=Ql(a,n.child,null,c),a.child=Ql(a,null,u,c)}function aE(n,a,u,c,h){if(a.type!==a.elementType){var g=u.propTypes;g&&$i(g,c,"prop",kt(u))}var y=u.render,S=a.ref,E,T;Zl(a,h),uc(a);{if(ud.current=a,xi(!0),E=au(n,a,y,c,S,h),T=su(),a.mode&vn){Jn(!0);try{E=au(n,a,y,c,S,h),T=su()}finally{Jn(!1)}}xi(!1)}return Ml(),n!==null&&!Ji?(wN(n,a,h),Ga(n,a,h)):(or()&&T&&Sv(a),a.flags|=Tl,Or(n,a,E,h),a.child)}function sE(n,a,u,c,h){if(n===null){var g=u.type;if(Xz(g)&&u.compare===null&&u.defaultProps===void 0){var y=g;return y=pu(g),a.tag=L,a.type=y,Hy(a,g),oE(n,a,y,c,h)}{var S=g.propTypes;if(S&&$i(S,c,"prop",kt(g)),u.defaultProps!==void 0){var E=kt(g)||"Unknown";dd[E]||(l("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",E),dd[E]=!0)}}var T=Cb(u.type,null,c,a,a.mode,h);return T.ref=a.ref,T.return=a,a.child=T,T}{var R=u.type,V=R.propTypes;V&&$i(V,c,"prop",kt(R))}var z=n.child,q=Yy(n,h);if(!q){var J=z.memoizedProps,Q=u.compare;if(Q=Q!==null?Q:Rc,Q(J,c)&&n.ref===a.ref)return Ga(n,a,h)}a.flags|=Tl;var Se=qo(z,c);return Se.ref=a.ref,Se.return=a,a.child=Se,Se}function oE(n,a,u,c,h){if(a.type!==a.elementType){var g=a.elementType;if(g.$$typeof===pe){var y=g,S=y._payload,E=y._init;try{g=E(S)}catch{g=null}var T=g&&g.propTypes;T&&$i(T,c,"prop",kt(g))}}if(n!==null){var R=n.memoizedProps;if(Rc(R,c)&&n.ref===a.ref&&a.type===n.type)if(Ji=!1,a.pendingProps=c=R,Yy(n,h))(n.flags&tg)!==Ke&&(Ji=!0);else return a.lanes=n.lanes,Ga(n,a,h)}return $y(n,a,u,c,h)}function lE(n,a,u){var c=a.pendingProps,h=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden"||Lt)if((a.mode&xt)===He){var y={baseLanes:oe,cachePool:null,transitions:null};a.memoizedState=y,dp(a,u)}else if(ii(u,wi)){var V={baseLanes:oe,cachePool:null,transitions:null};a.memoizedState=V;var z=g!==null?g.baseLanes:u;dp(a,z)}else{var S=null,E;if(g!==null){var T=g.baseLanes;E=lt(T,u)}else E=u;a.lanes=a.childLanes=wi;var R={baseLanes:E,cachePool:S,transitions:null};return a.memoizedState=R,a.updateQueue=null,dp(a,E),null}else{var q;g!==null?(q=lt(g.baseLanes,u),a.memoizedState=null):q=u,dp(a,q)}return Or(n,a,h,u),a.child}function Jj(n,a,u){var c=a.pendingProps;return Or(n,a,c,u),a.child}function Kj(n,a,u){var c=a.pendingProps.children;return Or(n,a,c,u),a.child}function Yj(n,a,u){{a.flags|=Rt;{var c=a.stateNode;c.effectDuration=0,c.passiveEffectDuration=0}}var h=a.pendingProps,g=h.children;return Or(n,a,g,u),a.child}function uE(n,a){var u=a.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(a.flags|=yo,a.flags|=ng)}function $y(n,a,u,c,h){if(a.type!==a.elementType){var g=u.propTypes;g&&$i(g,c,"prop",kt(u))}var y;{var S=Wl(a,u,!0);y=Gl(a,S)}var E,T;Zl(a,h),uc(a);{if(ud.current=a,xi(!0),E=au(n,a,u,c,y,h),T=su(),a.mode&vn){Jn(!0);try{E=au(n,a,u,c,y,h),T=su()}finally{Jn(!1)}}xi(!1)}return Ml(),n!==null&&!Ji?(wN(n,a,h),Ga(n,a,h)):(or()&&T&&Sv(a),a.flags|=Tl,Or(n,a,E,h),a.child)}function cE(n,a,u,c,h){{switch(hV(a)){case!1:{var g=a.stateNode,y=a.type,S=new y(a.memoizedProps,g.context),E=S.state;g.updater.enqueueSetState(g,E,null);break}case!0:{a.flags|=Mt,a.flags|=Pi;var T=new Error("Simulated error coming from DevTools"),R=mc(h);a.lanes=lt(a.lanes,R);var V=Ly(a,Po(T,a),R);Bv(a,V);break}}if(a.type!==a.elementType){var z=u.propTypes;z&&$i(z,c,"prop",kt(u))}}var q;fa(u)?(q=!0,ch(a)):q=!1,Zl(a,h);var J=a.stateNode,Q;J===null?(ep(n,a),ZN(a,u,c),Ay(a,u,c,h),Q=!0):n===null?Q=Pj(a,u,c,h):Q=Ij(n,a,u,c,h);var Se=By(n,a,u,Q,q,h);{var Fe=a.stateNode;Q&&Fe.props!==c&&(Io||l("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",rt(a)||"a component"),Io=!0)}return Se}function By(n,a,u,c,h,g){uE(n,a);var y=(a.flags&Mt)!==Ke;if(!c&&!y)return h&&qS(a,u,!1),Ga(n,a,g);var S=a.stateNode;ud.current=a;var E;if(y&&typeof u.getDerivedStateFromError!="function")E=null,JN();else{uc(a);{if(xi(!0),E=S.render(),a.mode&vn){Jn(!0);try{S.render()}finally{Jn(!1)}}xi(!1)}Ml()}return a.flags|=Tl,n!==null&&y?Gj(n,a,E,g):Or(n,a,E,g),a.memoizedState=S.state,h&&qS(a,u,!0),a.child}function dE(n){var a=n.stateNode;a.pendingContext?BS(n,a.pendingContext,a.pendingContext!==a.context):a.context&&BS(n,a.context,!1),Hv(n,a.containerInfo)}function Qj(n,a,u){if(dE(a),n===null)throw new Error("Should have a current fiber. This is a bug in React.");var c=a.pendingProps,h=a.memoizedState,g=h.element;pN(n,a),_h(a,c,null,u);var y=a.memoizedState;a.stateNode;var S=y.element;if(h.isDehydrated){var E={element:S,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},T=a.updateQueue;if(T.baseState=E,a.memoizedState=E,a.flags&vo){var R=Po(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),a);return fE(n,a,S,u,R)}else if(S!==g){var V=Po(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),a);return fE(n,a,S,u,V)}else{ej(a);var z=oN(a,null,S,u);a.child=z;for(var q=z;q;)q.flags=q.flags&-3|bo,q=q.sibling}}else{if(Yl(),S===g)return Ga(n,a,u);Or(n,a,S,u)}return a.child}function fE(n,a,u,c,h){return Yl(),Tv(h),a.flags|=vo,Or(n,a,u,c),a.child}function Xj(n,a,u){yN(a),n===null&&_v(a);var c=a.type,h=a.pendingProps,g=n!==null?n.memoizedProps:null,y=h.children,S=lv(c,h);return S?y=null:g!==null&&lv(c,g)&&(a.flags|=Df),uE(n,a),Or(n,a,y,u),a.child}function Zj(n,a){return n===null&&_v(a),null}function eL(n,a,u,c){ep(n,a);var h=a.pendingProps,g=u,y=g._payload,S=g._init,E=S(y);a.type=E;var T=a.tag=Zz(E),R=Gi(E,h),V;switch(T){case f:return Hy(a,E),a.type=E=pu(E),V=$y(null,a,E,R,c),V;case p:return a.type=E=xb(E),V=cE(null,a,E,R,c),V;case F:return a.type=E=wb(E),V=aE(null,a,E,R,c),V;case le:{if(a.type!==a.elementType){var z=E.propTypes;z&&$i(z,R,"prop",kt(E))}return V=sE(null,a,E,Gi(E.type,R),c),V}}var q="";throw E!==null&&typeof E=="object"&&E.$$typeof===pe&&(q=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+E+". "+("Lazy element type must resolve to a class or function."+q))}function tL(n,a,u,c,h){ep(n,a),a.tag=p;var g;return fa(u)?(g=!0,ch(a)):g=!1,Zl(a,h),ZN(a,u,c),Ay(a,u,c,h),By(null,a,u,!0,g,h)}function nL(n,a,u,c){ep(n,a);var h=a.pendingProps,g;{var y=Wl(a,u,!1);g=Gl(a,y)}Zl(a,c);var S,E;uc(a);{if(u.prototype&&typeof u.prototype.render=="function"){var T=kt(u)||"Unknown";zy[T]||(l("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",T,T),zy[T]=!0)}a.mode&vn&&Hi.recordLegacyContextWarning(a,null),xi(!0),ud.current=a,S=au(null,a,u,h,g,c),E=su(),xi(!1)}if(Ml(),a.flags|=Tl,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0){var R=kt(u)||"Unknown";cd[R]||(l("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",R,R,R),cd[R]=!0)}if(typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0){{var V=kt(u)||"Unknown";cd[V]||(l("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",V,V,V),cd[V]=!0)}a.tag=p,a.memoizedState=null,a.updateQueue=null;var z=!1;return fa(u)?(z=!0,ch(a)):z=!1,a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,$v(a),XN(a,S),Ay(a,u,h,c),By(null,a,u,!0,z,c)}else{if(a.tag=f,a.mode&vn){Jn(!0);try{S=au(null,a,u,h,g,c),E=su()}finally{Jn(!1)}}return or()&&E&&Sv(a),Or(null,a,S,c),Hy(a,u),a.child}}function Hy(n,a){{if(a&&a.childContextTypes&&l("%s(...): childContextTypes cannot be defined on a function component.",a.displayName||a.name||"Component"),n.ref!==null){var u="",c=ls();c&&(u+=`

Check the render method of \``+c+"`.");var h=c||"",g=n._debugSource;g&&(h=g.fileName+":"+g.lineNumber),Iy[h]||(Iy[h]=!0,l("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",u))}if(a.defaultProps!==void 0){var y=kt(a)||"Unknown";dd[y]||(l("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",y),dd[y]=!0)}if(typeof a.getDerivedStateFromProps=="function"){var S=kt(a)||"Unknown";Py[S]||(l("%s: Function components do not support getDerivedStateFromProps.",S),Py[S]=!0)}if(typeof a.contextType=="object"&&a.contextType!==null){var E=kt(a)||"Unknown";Vy[E]||(l("%s: Function components do not support contextType.",E),Vy[E]=!0)}}}var qy={dehydrated:null,treeContext:null,retryLane:Kn};function Wy(n){return{baseLanes:n,cachePool:Wj(),transitions:null}}function rL(n,a){var u=null;return{baseLanes:lt(n.baseLanes,a),cachePool:u,transitions:n.transitions}}function iL(n,a,u,c){if(a!==null){var h=a.memoizedState;if(h===null)return!1}return Gv(n,ed)}function aL(n,a){return Af(n.childLanes,a)}function hE(n,a,u){var c=a.pendingProps;pV(a)&&(a.flags|=Mt);var h=qi.current,g=!1,y=(a.flags&Mt)!==Ke;if(y||iL(h,n)?(g=!0,a.flags&=-129):(n===null||n.memoizedState!==null)&&(h=Nj(h,xN)),h=tu(h),Ds(a,h),n===null){_v(a);var S=a.memoizedState;if(S!==null){var E=S.dehydrated;if(E!==null)return cL(a,E)}var T=c.children,R=c.fallback;if(g){var V=sL(a,T,R,u),z=a.child;return z.memoizedState=Wy(u),a.memoizedState=qy,V}else return Gy(a,T)}else{var q=n.memoizedState;if(q!==null){var J=q.dehydrated;if(J!==null)return dL(n,a,y,c,J,q,u)}if(g){var Q=c.fallback,Se=c.children,Fe=lL(n,a,Se,Q,u),je=a.child,St=n.child.memoizedState;return je.memoizedState=St===null?Wy(u):rL(St,u),je.childLanes=aL(n,u),a.memoizedState=qy,Fe}else{var ht=c.children,$=oL(n,a,ht,u);return a.memoizedState=null,$}}}function Gy(n,a,u){var c=n.mode,h={mode:"visible",children:a},g=Jy(h,c);return g.return=n,n.child=g,g}function sL(n,a,u,c){var h=n.mode,g=n.child,y={mode:"hidden",children:a},S,E;return(h&xt)===He&&g!==null?(S=g,S.childLanes=oe,S.pendingProps=y,n.mode&It&&(S.actualDuration=0,S.actualStartTime=-1,S.selfBaseDuration=0,S.treeBaseDuration=0),E=As(u,h,c,null)):(S=Jy(y,h),E=As(u,h,c,null)),S.return=n,E.return=n,S.sibling=E,n.child=S,E}function Jy(n,a,u){return p1(n,a,oe,null)}function pE(n,a){return qo(n,a)}function oL(n,a,u,c){var h=n.child,g=h.sibling,y=pE(h,{mode:"visible",children:u});if((a.mode&xt)===He&&(y.lanes=c),y.return=a,y.sibling=null,g!==null){var S=a.deletions;S===null?(a.deletions=[g],a.flags|=go):S.push(g)}return a.child=y,y}function lL(n,a,u,c,h){var g=a.mode,y=n.child,S=y.sibling,E={mode:"hidden",children:u},T;if((g&xt)===He&&a.child!==y){var R=a.child;T=R,T.childLanes=oe,T.pendingProps=E,a.mode&It&&(T.actualDuration=0,T.actualStartTime=-1,T.selfBaseDuration=y.selfBaseDuration,T.treeBaseDuration=y.treeBaseDuration),a.deletions=null}else T=pE(y,E),T.subtreeFlags=y.subtreeFlags&za;var V;return S!==null?V=qo(S,c):(V=As(c,g,h,null),V.flags|=Wn),V.return=a,T.return=a,T.sibling=V,a.child=T,V}function Zh(n,a,u,c){c!==null&&Tv(c),Ql(a,n.child,null,u);var h=a.pendingProps,g=h.children,y=Gy(a,g);return y.flags|=Wn,a.memoizedState=null,y}function uL(n,a,u,c,h){var g=a.mode,y={mode:"visible",children:u},S=Jy(y,g),E=As(c,g,h,null);return E.flags|=Wn,S.return=a,E.return=a,S.sibling=E,a.child=S,(a.mode&xt)!==He&&Ql(a,n.child,null,h),E}function cL(n,a,u){return(n.mode&xt)===He?(l("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),n.lanes=Ze):fv(a)?n.lanes=Eo:n.lanes=wi,null}function dL(n,a,u,c,h,g,y){if(u)if(a.flags&vo){a.flags&=-257;var $=Uy(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return Zh(n,a,y,$)}else{if(a.memoizedState!==null)return a.child=n.child,a.flags|=Mt,null;var X=c.children,B=c.fallback,he=uL(n,a,X,B,y),_e=a.child;return _e.memoizedState=Wy(y),a.memoizedState=qy,he}else{if(XU(),(a.mode&xt)===He)return Zh(n,a,y,null);if(fv(h)){var S,E,T;{var R=mU(h);S=R.digest,E=R.message,T=R.stack}var V;E?V=new Error(E):V=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var z=Uy(V,S,T);return Zh(n,a,y,z)}var q=ii(y,n.childLanes);if(Ji||q){var J=cp();if(J!==null){var Q=wO(J,y);if(Q!==Kn&&Q!==g.retryLane){g.retryLane=Q;var Se=tn;Hr(n,Q),Pn(J,n,Q,Se)}}mb();var Fe=Uy(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return Zh(n,a,y,Fe)}else if(zS(h)){a.flags|=Mt,a.child=n.child;var je=Lz.bind(null,n);return gU(h,je),null}else{tj(a,h,g.treeContext);var St=c.children,ht=Gy(a,St);return ht.flags|=bo,ht}}}function mE(n,a,u){n.lanes=lt(n.lanes,a);var c=n.alternate;c!==null&&(c.lanes=lt(c.lanes,a)),Vv(n.return,a,u)}function fL(n,a,u){for(var c=a;c!==null;){if(c.tag===K){var h=c.memoizedState;h!==null&&mE(c,u,n)}else if(c.tag===Le)mE(c,u,n);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)return;for(;c.sibling===null;){if(c.return===null||c.return===n)return;c=c.return}c.sibling.return=c.return,c=c.sibling}}function hL(n){for(var a=n,u=null;a!==null;){var c=a.alternate;c!==null&&Oh(c)===null&&(u=a),a=a.sibling}return u}function pL(n){if(n!==void 0&&n!=="forwards"&&n!=="backwards"&&n!=="together"&&!Fy[n])if(Fy[n]=!0,typeof n=="string")switch(n.toLowerCase()){case"together":case"forwards":case"backwards":{l('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',n,n.toLowerCase());break}case"forward":case"backward":{l('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',n,n.toLowerCase());break}default:l('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',n);break}else l('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',n)}function mL(n,a){n!==void 0&&!Xh[n]&&(n!=="collapsed"&&n!=="hidden"?(Xh[n]=!0,l('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',n)):a!=="forwards"&&a!=="backwards"&&(Xh[n]=!0,l('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',n)))}function gE(n,a){{var u=ft(n),c=!u&&typeof gn(n)=="function";if(u||c){var h=u?"array":"iterable";return l("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",h,a,h),!1}}return!0}function gL(n,a){if((a==="forwards"||a==="backwards")&&n!==void 0&&n!==null&&n!==!1)if(ft(n)){for(var u=0;u<n.length;u++)if(!gE(n[u],u))return}else{var c=gn(n);if(typeof c=="function"){var h=c.call(n);if(h)for(var g=h.next(),y=0;!g.done;g=h.next()){if(!gE(g.value,y))return;y++}}else l('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',a)}}function Ky(n,a,u,c,h){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:u,tailMode:h}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=u,g.tailMode=h)}function vE(n,a,u){var c=a.pendingProps,h=c.revealOrder,g=c.tail,y=c.children;pL(h),mL(g,h),gL(y,h),Or(n,a,y,u);var S=qi.current,E=Gv(S,ed);if(E)S=Jv(S,ed),a.flags|=Mt;else{var T=n!==null&&(n.flags&Mt)!==Ke;T&&fL(a,a.child,u),S=tu(S)}if(Ds(a,S),(a.mode&xt)===He)a.memoizedState=null;else switch(h){case"forwards":{var R=hL(a.child),V;R===null?(V=a.child,a.child=null):(V=R.sibling,R.sibling=null),Ky(a,!1,V,R,g);break}case"backwards":{var z=null,q=a.child;for(a.child=null;q!==null;){var J=q.alternate;if(J!==null&&Oh(J)===null){a.child=q;break}var Q=q.sibling;q.sibling=z,z=q,q=Q}Ky(a,!0,z,null,g);break}case"together":{Ky(a,!1,null,null,void 0);break}default:a.memoizedState=null}return a.child}function vL(n,a,u){Hv(a,a.stateNode.containerInfo);var c=a.pendingProps;return n===null?a.child=Ql(a,null,c,u):Or(n,a,c,u),a.child}var yE=!1;function yL(n,a,u){var c=a.type,h=c._context,g=a.pendingProps,y=a.memoizedProps,S=g.value;{"value"in g||yE||(yE=!0,l("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var E=a.type.propTypes;E&&$i(E,g,"prop","Context.Provider")}if(cN(a,h,S),y!==null){var T=y.value;if(oi(T,S)){if(y.children===g.children&&!lh())return Ga(n,a,u)}else pj(a,h,u)}var R=g.children;return Or(n,a,R,u),a.child}var bE=!1;function bL(n,a,u){var c=a.type;c._context===void 0?c!==c.Consumer&&(bE||(bE=!0,l("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):c=c._context;var h=a.pendingProps,g=h.children;typeof g!="function"&&l("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Zl(a,u);var y=Tn(c);uc(a);var S;return ud.current=a,xi(!0),S=g(y),xi(!1),Ml(),a.flags|=Tl,Or(n,a,S,u),a.child}function fd(){Ji=!0}function ep(n,a){(a.mode&xt)===He&&n!==null&&(n.alternate=null,a.alternate=null,a.flags|=Wn)}function Ga(n,a,u){return n!==null&&(a.dependencies=n.dependencies),JN(),Ed(a.lanes),ii(u,a.childLanes)?(fj(n,a),a.child):null}function xL(n,a,u){{var c=a.return;if(c===null)throw new Error("Cannot swap the root fiber.");if(n.alternate=null,a.alternate=null,u.index=a.index,u.sibling=a.sibling,u.return=a.return,u.ref=a.ref,a===c.child)c.child=u;else{var h=c.child;if(h===null)throw new Error("Expected parent to have a child.");for(;h.sibling!==a;)if(h=h.sibling,h===null)throw new Error("Expected to find the previous sibling.");h.sibling=u}var g=c.deletions;return g===null?(c.deletions=[n],c.flags|=go):g.push(n),u.flags|=Wn,u}}function Yy(n,a){var u=n.lanes;return!!ii(u,a)}function wL(n,a,u){switch(a.tag){case v:dE(a),a.stateNode,Yl();break;case x:yN(a);break;case p:{var c=a.type;fa(c)&&ch(a);break}case b:Hv(a,a.stateNode.containerInfo);break;case A:{var h=a.memoizedProps.value,g=a.type._context;cN(a,g,h);break}case P:{var y=ii(u,a.childLanes);y&&(a.flags|=Rt);{var S=a.stateNode;S.effectDuration=0,S.passiveEffectDuration=0}}break;case K:{var E=a.memoizedState;if(E!==null){if(E.dehydrated!==null)return Ds(a,tu(qi.current)),a.flags|=Mt,null;var T=a.child,R=T.childLanes;if(ii(u,R))return hE(n,a,u);Ds(a,tu(qi.current));var V=Ga(n,a,u);return V!==null?V.sibling:null}else Ds(a,tu(qi.current));break}case Le:{var z=(n.flags&Mt)!==Ke,q=ii(u,a.childLanes);if(z){if(q)return vE(n,a,u);a.flags|=Mt}var J=a.memoizedState;if(J!==null&&(J.rendering=null,J.tail=null,J.lastEffect=null),Ds(a,qi.current),q)break;return null}case Re:case be:return a.lanes=oe,lE(n,a,u)}return Ga(n,a,u)}function xE(n,a,u){if(a._debugNeedsRemount&&n!==null)return xL(n,a,Cb(a.type,a.key,a.pendingProps,a._debugOwner||null,a.mode,a.lanes));if(n!==null){var c=n.memoizedProps,h=a.pendingProps;if(c!==h||lh()||a.type!==n.type)Ji=!0;else{var g=Yy(n,u);if(!g&&(a.flags&Mt)===Ke)return Ji=!1,wL(n,a,u);(n.flags&tg)!==Ke?Ji=!0:Ji=!1}}else if(Ji=!1,or()&&WU(a)){var y=a.index,S=GU();JS(a,S,y)}switch(a.lanes=oe,a.tag){case m:return nL(n,a,a.type,u);case ne:{var E=a.elementType;return eL(n,a,E,u)}case f:{var T=a.type,R=a.pendingProps,V=a.elementType===T?R:Gi(T,R);return $y(n,a,T,V,u)}case p:{var z=a.type,q=a.pendingProps,J=a.elementType===z?q:Gi(z,q);return cE(n,a,z,J,u)}case v:return Qj(n,a,u);case x:return Xj(n,a,u);case w:return Zj(n,a);case K:return hE(n,a,u);case b:return vL(n,a,u);case F:{var Q=a.type,Se=a.pendingProps,Fe=a.elementType===Q?Se:Gi(Q,Se);return aE(n,a,Q,Fe,u)}case C:return Jj(n,a,u);case _:return Kj(n,a,u);case P:return Yj(n,a,u);case A:return yL(n,a,u);case O:return bL(n,a,u);case le:{var je=a.type,St=a.pendingProps,ht=Gi(je,St);if(a.type!==a.elementType){var $=je.propTypes;$&&$i($,ht,"prop",kt(je))}return ht=Gi(je.type,ht),sE(n,a,je,ht,u)}case L:return oE(n,a,a.type,a.pendingProps,u);case re:{var X=a.type,B=a.pendingProps,he=a.elementType===X?B:Gi(X,B);return tL(n,a,X,he,u)}case Le:return vE(n,a,u);case ze:break;case Re:return lE(n,a,u)}throw new Error("Unknown unit of work tag ("+a.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function ou(n){n.flags|=Rt}function wE(n){n.flags|=yo,n.flags|=ng}var SE,Qy,NE,EE;SE=function(n,a,u,c){for(var h=a.child;h!==null;){if(h.tag===x||h.tag===w)BA(n,h.stateNode);else if(h.tag!==b){if(h.child!==null){h.child.return=h,h=h.child;continue}}if(h===a)return;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Qy=function(n,a){},NE=function(n,a,u,c,h){var g=n.memoizedProps;if(g!==c){var y=a.stateNode,S=qv(),E=qA(y,u,g,c,h,S);a.updateQueue=E,E&&ou(a)}},EE=function(n,a,u,c){u!==c&&ou(a)};function hd(n,a){if(!or())switch(n.tailMode){case"hidden":{for(var u=n.tail,c=null;u!==null;)u.alternate!==null&&(c=u),u=u.sibling;c===null?n.tail=null:c.sibling=null;break}case"collapsed":{for(var h=n.tail,g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?!a&&n.tail!==null?n.tail.sibling=null:n.tail=null:g.sibling=null;break}}}function ur(n){var a=n.alternate!==null&&n.alternate.child===n.child,u=oe,c=Ke;if(a){if((n.mode&It)!==He){for(var E=n.selfBaseDuration,T=n.child;T!==null;)u=lt(u,lt(T.lanes,T.childLanes)),c|=T.subtreeFlags&za,c|=T.flags&za,E+=T.treeBaseDuration,T=T.sibling;n.treeBaseDuration=E}else for(var R=n.child;R!==null;)u=lt(u,lt(R.lanes,R.childLanes)),c|=R.subtreeFlags&za,c|=R.flags&za,R.return=n,R=R.sibling;n.subtreeFlags|=c}else{if((n.mode&It)!==He){for(var h=n.actualDuration,g=n.selfBaseDuration,y=n.child;y!==null;)u=lt(u,lt(y.lanes,y.childLanes)),c|=y.subtreeFlags,c|=y.flags,h+=y.actualDuration,g+=y.treeBaseDuration,y=y.sibling;n.actualDuration=h,n.treeBaseDuration=g}else for(var S=n.child;S!==null;)u=lt(u,lt(S.lanes,S.childLanes)),c|=S.subtreeFlags,c|=S.flags,S.return=n,S=S.sibling;n.subtreeFlags|=c}return n.childLanes=u,a}function SL(n,a,u){if(sj()&&(a.mode&xt)!==He&&(a.flags&Mt)===Ke)return tN(a),Yl(),a.flags|=vo|Cf|Pi,!1;var c=mh(a);if(u!==null&&u.dehydrated!==null)if(n===null){if(!c)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(ij(a),ur(a),(a.mode&It)!==He){var h=u!==null;if(h){var g=a.child;g!==null&&(a.treeBaseDuration-=g.treeBaseDuration)}}return!1}else{if(Yl(),(a.flags&Mt)===Ke&&(a.memoizedState=null),a.flags|=Rt,ur(a),(a.mode&It)!==He){var y=u!==null;if(y){var S=a.child;S!==null&&(a.treeBaseDuration-=S.treeBaseDuration)}}return!1}else return nN(),!0}function DE(n,a,u){var c=a.pendingProps;switch(Nv(a),a.tag){case m:case ne:case L:case f:case F:case C:case _:case P:case O:case le:return ur(a),null;case p:{var h=a.type;return fa(h)&&uh(a),ur(a),null}case v:{var g=a.stateNode;if(eu(a),bv(a),Yv(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),n===null||n.child===null){var y=mh(a);if(y)ou(a);else if(n!==null){var S=n.memoizedState;(!S.isDehydrated||(a.flags&vo)!==Ke)&&(a.flags|=kl,nN())}}return Qy(n,a),ur(a),null}case x:{Wv(a);var E=vN(),T=a.type;if(n!==null&&a.stateNode!=null)NE(n,a,T,c,E),n.ref!==a.ref&&wE(a);else{if(!c){if(a.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return ur(a),null}var R=qv(),V=mh(a);if(V)nj(a,E,R)&&ou(a);else{var z=$A(T,c,E,R,a);SE(z,a,!1,!1),a.stateNode=z,HA(z,T,c,E)&&ou(a)}a.ref!==null&&wE(a)}return ur(a),null}case w:{var q=c;if(n&&a.stateNode!=null){var J=n.memoizedProps;EE(n,a,J,q)}else{if(typeof q!="string"&&a.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var Q=vN(),Se=qv(),Fe=mh(a);Fe?rj(a)&&ou(a):a.stateNode=WA(q,Q,Se,a)}return ur(a),null}case K:{nu(a);var je=a.memoizedState;if(n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){var St=SL(n,a,je);if(!St)return a.flags&Pi?a:null}if((a.flags&Mt)!==Ke)return a.lanes=u,(a.mode&It)!==He&&wy(a),a;var ht=je!==null,$=n!==null&&n.memoizedState!==null;if(ht!==$&&ht){var X=a.child;if(X.flags|=xo,(a.mode&xt)!==He){var B=n===null&&(a.memoizedProps.unstable_avoidThisFallback!==!0||!0);B||Gv(qi.current,xN)?Nz():mb()}}var he=a.updateQueue;if(he!==null&&(a.flags|=Rt),ur(a),(a.mode&It)!==He&&ht){var _e=a.child;_e!==null&&(a.treeBaseDuration-=_e.treeBaseDuration)}return null}case b:return eu(a),Qy(n,a),n===null&&PU(a.stateNode.containerInfo),ur(a),null;case A:var Ne=a.type._context;return zv(Ne,a),ur(a),null;case re:{var Qe=a.type;return fa(Qe)&&uh(a),ur(a),null}case Le:{nu(a);var nt=a.memoizedState;if(nt===null)return ur(a),null;var $t=(a.flags&Mt)!==Ke,Ct=nt.rendering;if(Ct===null)if($t)hd(nt,!1);else{var Sn=Dz()&&(n===null||(n.flags&Mt)===Ke);if(!Sn)for(var _t=a.child;_t!==null;){var yn=Oh(_t);if(yn!==null){$t=!0,a.flags|=Mt,hd(nt,!1);var Nr=yn.updateQueue;return Nr!==null&&(a.updateQueue=Nr,a.flags|=Rt),a.subtreeFlags=Ke,hj(a,u),Ds(a,Jv(qi.current,ed)),a.child}_t=_t.sibling}nt.tail!==null&&Gn()>WE()&&(a.flags|=Mt,$t=!0,hd(nt,!1),a.lanes=Ew)}else{if(!$t){var pr=Oh(Ct);if(pr!==null){a.flags|=Mt,$t=!0;var ci=pr.updateQueue;if(ci!==null&&(a.updateQueue=ci,a.flags|=Rt),hd(nt,!0),nt.tail===null&&nt.tailMode==="hidden"&&!Ct.alternate&&!or())return ur(a),null}else Gn()*2-nt.renderingStartTime>WE()&&u!==wi&&(a.flags|=Mt,$t=!0,hd(nt,!1),a.lanes=Ew)}if(nt.isBackwards)Ct.sibling=a.child,a.child=Ct;else{var Ur=nt.last;Ur!==null?Ur.sibling=Ct:a.child=Ct,nt.last=Ct}}if(nt.tail!==null){var jr=nt.tail;nt.rendering=jr,nt.tail=jr.sibling,nt.renderingStartTime=Gn(),jr.sibling=null;var Er=qi.current;return $t?Er=Jv(Er,ed):Er=tu(Er),Ds(a,Er),jr}return ur(a),null}case ze:break;case Re:case be:{pb(a);var Xa=a.memoizedState,mu=Xa!==null;if(n!==null){var kd=n.memoizedState,xa=kd!==null;xa!==mu&&(a.flags|=xo)}return!mu||(a.mode&xt)===He?ur(a):ii(ba,wi)&&(ur(a),a.subtreeFlags&(Wn|Rt)&&(a.flags|=xo)),null}case ye:return null;case $e:return null}throw new Error("Unknown unit of work tag ("+a.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function NL(n,a,u){switch(Nv(a),a.tag){case p:{var c=a.type;fa(c)&&uh(a);var h=a.flags;return h&Pi?(a.flags=h&-65537|Mt,(a.mode&It)!==He&&wy(a),a):null}case v:{a.stateNode,eu(a),bv(a),Yv();var g=a.flags;return(g&Pi)!==Ke&&(g&Mt)===Ke?(a.flags=g&-65537|Mt,a):null}case x:return Wv(a),null;case K:{nu(a);var y=a.memoizedState;if(y!==null&&y.dehydrated!==null){if(a.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Yl()}var S=a.flags;return S&Pi?(a.flags=S&-65537|Mt,(a.mode&It)!==He&&wy(a),a):null}case Le:return nu(a),null;case b:return eu(a),null;case A:var E=a.type._context;return zv(E,a),null;case Re:case be:return pb(a),null;case ye:return null;default:return null}}function CE(n,a,u){switch(Nv(a),a.tag){case p:{var c=a.type.childContextTypes;c!=null&&uh(a);break}case v:{a.stateNode,eu(a),bv(a),Yv();break}case x:{Wv(a);break}case b:eu(a);break;case K:nu(a);break;case Le:nu(a);break;case A:var h=a.type._context;zv(h,a);break;case Re:case be:pb(a);break}}var _E=null;_E=new Set;var tp=!1,cr=!1,EL=typeof WeakSet=="function"?WeakSet:Set,Oe=null,lu=null,uu=null;function DL(n){Xm(null,function(){throw n}),Zm()}var CL=function(n,a){if(a.props=n.memoizedProps,a.state=n.memoizedState,n.mode&It)try{va(),a.componentWillUnmount()}finally{ga(n)}else a.componentWillUnmount()};function TE(n,a){try{Ts(An,n)}catch(u){Yt(n,a,u)}}function Xy(n,a,u){try{CL(n,u)}catch(c){Yt(n,a,c)}}function _L(n,a,u){try{u.componentDidMount()}catch(c){Yt(n,a,c)}}function kE(n,a){try{OE(n)}catch(u){Yt(n,a,u)}}function cu(n,a){var u=n.ref;if(u!==null)if(typeof u=="function"){var c;try{if(Ut&&Nt&&n.mode&It)try{va(),c=u(null)}finally{ga(n)}else c=u(null)}catch(h){Yt(n,a,h)}typeof c=="function"&&l("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",rt(n))}else u.current=null}function np(n,a,u){try{u()}catch(c){Yt(n,a,c)}}var RE=!1;function TL(n,a){IA(n.containerInfo),Oe=a,kL();var u=RE;return RE=!1,u}function kL(){for(;Oe!==null;){var n=Oe,a=n.child;(n.subtreeFlags&ag)!==Ke&&a!==null?(a.return=n,Oe=a):RL()}}function RL(){for(;Oe!==null;){var n=Oe;un(n);try{OL(n)}catch(u){Yt(n,n.return,u)}qn();var a=n.sibling;if(a!==null){a.return=n.return,Oe=a;return}Oe=n.return}}function OL(n){var a=n.alternate,u=n.flags;if((u&kl)!==Ke){switch(un(n),n.tag){case f:case F:case L:break;case p:{if(a!==null){var c=a.memoizedProps,h=a.memoizedState,g=n.stateNode;n.type===n.elementType&&!Io&&(g.props!==n.memoizedProps&&l("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",rt(n)||"instance"),g.state!==n.memoizedState&&l("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",rt(n)||"instance"));var y=g.getSnapshotBeforeUpdate(n.elementType===n.type?c:Gi(n.type,c),h);{var S=_E;y===void 0&&!S.has(n.type)&&(S.add(n.type),l("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",rt(n)))}g.__reactInternalSnapshotBeforeUpdate=y}break}case v:{{var E=n.stateNode;dU(E.containerInfo)}break}case x:case w:case b:case re:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}qn()}}function Ki(n,a,u){var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next,y=g;do{if((y.tag&n)===n){var S=y.destroy;y.destroy=void 0,S!==void 0&&((n&lr)!==qr?WR(a):(n&An)!==qr&&bw(a),(n&ha)!==qr&&Cd(!0),np(a,u,S),(n&ha)!==qr&&Cd(!1),(n&lr)!==qr?GR():(n&An)!==qr&&xw())}y=y.next}while(y!==g)}}function Ts(n,a){var u=a.updateQueue,c=u!==null?u.lastEffect:null;if(c!==null){var h=c.next,g=h;do{if((g.tag&n)===n){(n&lr)!==qr?HR(a):(n&An)!==qr&&JR(a);var y=g.create;(n&ha)!==qr&&Cd(!0),g.destroy=y(),(n&ha)!==qr&&Cd(!1),(n&lr)!==qr?qR():(n&An)!==qr&&KR();{var S=g.destroy;if(S!==void 0&&typeof S!="function"){var E=void 0;(g.tag&An)!==Ke?E="useLayoutEffect":(g.tag&ha)!==Ke?E="useInsertionEffect":E="useEffect";var T=void 0;S===null?T=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof S.then=="function"?T=`

It looks like you wrote `+E+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+E+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:T=" You returned: "+S,l("%s must not return anything besides a function, which is used for clean-up.%s",E,T)}}}g=g.next}while(g!==h)}}function ML(n,a){if((a.flags&Rt)!==Ke)switch(a.tag){case P:{var u=a.stateNode.passiveEffectDuration,c=a.memoizedProps,h=c.id,g=c.onPostCommit,y=WN(),S=a.alternate===null?"mount":"update";qN()&&(S="nested-update"),typeof g=="function"&&g(h,S,u,y);var E=a.return;e:for(;E!==null;){switch(E.tag){case v:var T=E.stateNode;T.passiveEffectDuration+=u;break e;case P:var R=E.stateNode;R.passiveEffectDuration+=u;break e}E=E.return}break}}}function AL(n,a,u,c){if((u.flags&lc)!==Ke)switch(u.tag){case f:case F:case L:{if(!cr)if(u.mode&It)try{va(),Ts(An|Mn,u)}finally{ga(u)}else Ts(An|Mn,u);break}case p:{var h=u.stateNode;if(u.flags&Rt&&!cr)if(a===null)if(u.type===u.elementType&&!Io&&(h.props!==u.memoizedProps&&l("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",rt(u)||"instance"),h.state!==u.memoizedState&&l("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",rt(u)||"instance")),u.mode&It)try{va(),h.componentDidMount()}finally{ga(u)}else h.componentDidMount();else{var g=u.elementType===u.type?a.memoizedProps:Gi(u.type,a.memoizedProps),y=a.memoizedState;if(u.type===u.elementType&&!Io&&(h.props!==u.memoizedProps&&l("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",rt(u)||"instance"),h.state!==u.memoizedState&&l("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",rt(u)||"instance")),u.mode&It)try{va(),h.componentDidUpdate(g,y,h.__reactInternalSnapshotBeforeUpdate)}finally{ga(u)}else h.componentDidUpdate(g,y,h.__reactInternalSnapshotBeforeUpdate)}var S=u.updateQueue;S!==null&&(u.type===u.elementType&&!Io&&(h.props!==u.memoizedProps&&l("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",rt(u)||"instance"),h.state!==u.memoizedState&&l("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",rt(u)||"instance")),gN(u,S,h));break}case v:{var E=u.updateQueue;if(E!==null){var T=null;if(u.child!==null)switch(u.child.tag){case x:T=u.child.stateNode;break;case p:T=u.child.stateNode;break}gN(u,E,T)}break}case x:{var R=u.stateNode;if(a===null&&u.flags&Rt){var V=u.type,z=u.memoizedProps;QA(R,V,z)}break}case w:break;case b:break;case P:{{var q=u.memoizedProps,J=q.onCommit,Q=q.onRender,Se=u.stateNode.effectDuration,Fe=WN(),je=a===null?"mount":"update";qN()&&(je="nested-update"),typeof Q=="function"&&Q(u.memoizedProps.id,je,u.actualDuration,u.treeBaseDuration,u.actualStartTime,Fe);{typeof J=="function"&&J(u.memoizedProps.id,je,Se,Fe),Rz(u);var St=u.return;e:for(;St!==null;){switch(St.tag){case v:var ht=St.stateNode;ht.effectDuration+=Se;break e;case P:var $=St.stateNode;$.effectDuration+=Se;break e}St=St.return}}}break}case K:{FL(n,u);break}case Le:case re:case ze:case Re:case be:case $e:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}cr||u.flags&yo&&OE(u)}function UL(n){switch(n.tag){case f:case F:case L:{if(n.mode&It)try{va(),TE(n,n.return)}finally{ga(n)}else TE(n,n.return);break}case p:{var a=n.stateNode;typeof a.componentDidMount=="function"&&_L(n,n.return,a),kE(n,n.return);break}case x:{kE(n,n.return);break}}}function jL(n,a){for(var u=null,c=n;;){if(c.tag===x){if(u===null){u=c;try{var h=c.stateNode;a?oU(h):uU(c.stateNode,c.memoizedProps)}catch(y){Yt(n,n.return,y)}}}else if(c.tag===w){if(u===null)try{var g=c.stateNode;a?lU(g):cU(g,c.memoizedProps)}catch(y){Yt(n,n.return,y)}}else if(!((c.tag===Re||c.tag===be)&&c.memoizedState!==null&&c!==n)){if(c.child!==null){c.child.return=c,c=c.child;continue}}if(c===n)return;for(;c.sibling===null;){if(c.return===null||c.return===n)return;u===c&&(u=null),c=c.return}u===c&&(u=null),c.sibling.return=c.return,c=c.sibling}}function OE(n){var a=n.ref;if(a!==null){var u=n.stateNode,c;switch(n.tag){case x:c=u;break;default:c=u}if(typeof a=="function"){var h;if(n.mode&It)try{va(),h=a(c)}finally{ga(n)}else h=a(c);typeof h=="function"&&l("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",rt(n))}else a.hasOwnProperty("current")||l("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",rt(n)),a.current=c}}function LL(n){var a=n.alternate;a!==null&&(a.return=null),n.return=null}function ME(n){var a=n.alternate;a!==null&&(n.alternate=null,ME(a));{if(n.child=null,n.deletions=null,n.sibling=null,n.tag===x){var u=n.stateNode;u!==null&&$U(u)}n.stateNode=null,n._debugOwner=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}}function zL(n){for(var a=n.return;a!==null;){if(AE(a))return a;a=a.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function AE(n){return n.tag===x||n.tag===v||n.tag===b}function UE(n){var a=n;e:for(;;){for(;a.sibling===null;){if(a.return===null||AE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==x&&a.tag!==w&&a.tag!==ve;){if(a.flags&Wn||a.child===null||a.tag===b)continue e;a.child.return=a,a=a.child}if(!(a.flags&Wn))return a.stateNode}}function VL(n){var a=zL(n);switch(a.tag){case x:{var u=a.stateNode;a.flags&Df&&(LS(u),a.flags&=-33);var c=UE(n);eb(n,c,u);break}case v:case b:{var h=a.stateNode.containerInfo,g=UE(n);Zy(n,g,h);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function Zy(n,a,u){var c=n.tag,h=c===x||c===w;if(h){var g=n.stateNode;a?rU(u,g,a):tU(u,g)}else if(c!==b){var y=n.child;if(y!==null){Zy(y,a,u);for(var S=y.sibling;S!==null;)Zy(S,a,u),S=S.sibling}}}function eb(n,a,u){var c=n.tag,h=c===x||c===w;if(h){var g=n.stateNode;a?nU(u,g,a):eU(u,g)}else if(c!==b){var y=n.child;if(y!==null){eb(y,a,u);for(var S=y.sibling;S!==null;)eb(S,a,u),S=S.sibling}}}var dr=null,Yi=!1;function PL(n,a,u){{var c=a;e:for(;c!==null;){switch(c.tag){case x:{dr=c.stateNode,Yi=!1;break e}case v:{dr=c.stateNode.containerInfo,Yi=!0;break e}case b:{dr=c.stateNode.containerInfo,Yi=!0;break e}}c=c.return}if(dr===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");jE(n,a,u),dr=null,Yi=!1}LL(u)}function ks(n,a,u){for(var c=u.child;c!==null;)jE(n,a,c),c=c.sibling}function jE(n,a,u){switch(IR(u),u.tag){case x:cr||cu(u,a);case w:{{var c=dr,h=Yi;dr=null,ks(n,a,u),dr=c,Yi=h,dr!==null&&(Yi?aU(dr,u.stateNode):iU(dr,u.stateNode))}return}case ve:{dr!==null&&(Yi?sU(dr,u.stateNode):dv(dr,u.stateNode));return}case b:{{var g=dr,y=Yi;dr=u.stateNode.containerInfo,Yi=!0,ks(n,a,u),dr=g,Yi=y}return}case f:case F:case le:case L:{if(!cr){var S=u.updateQueue;if(S!==null){var E=S.lastEffect;if(E!==null){var T=E.next,R=T;do{var V=R,z=V.destroy,q=V.tag;z!==void 0&&((q&ha)!==qr?np(u,a,z):(q&An)!==qr&&(bw(u),u.mode&It?(va(),np(u,a,z),ga(u)):np(u,a,z),xw())),R=R.next}while(R!==T)}}}ks(n,a,u);return}case p:{if(!cr){cu(u,a);var J=u.stateNode;typeof J.componentWillUnmount=="function"&&Xy(u,a,J)}ks(n,a,u);return}case ze:{ks(n,a,u);return}case Re:{if(u.mode&xt){var Q=cr;cr=Q||u.memoizedState!==null,ks(n,a,u),cr=Q}else ks(n,a,u);break}default:{ks(n,a,u);return}}}function IL(n){n.memoizedState}function FL(n,a){var u=a.memoizedState;if(u===null){var c=a.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&DU(g)}}}}function LE(n){var a=n.updateQueue;if(a!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new EL),a.forEach(function(c){var h=zz.bind(null,n,c);if(!u.has(c)){if(u.add(c),Ii)if(lu!==null&&uu!==null)Dd(uu,lu);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");c.then(h,h)}})}}function $L(n,a,u){lu=u,uu=n,un(a),zE(a,n),un(a),lu=null,uu=null}function Qi(n,a,u){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{PL(n,a,g)}catch(E){Yt(g,a,E)}}var y=pf();if(a.subtreeFlags&sg)for(var S=a.child;S!==null;)un(S),zE(S,n),S=S.sibling;un(y)}function zE(n,a,u){var c=n.alternate,h=n.flags;switch(n.tag){case f:case F:case le:case L:{if(Qi(a,n),ya(n),h&Rt){try{Ki(ha|Mn,n,n.return),Ts(ha|Mn,n)}catch(Qe){Yt(n,n.return,Qe)}if(n.mode&It){try{va(),Ki(An|Mn,n,n.return)}catch(Qe){Yt(n,n.return,Qe)}ga(n)}else try{Ki(An|Mn,n,n.return)}catch(Qe){Yt(n,n.return,Qe)}}return}case p:{Qi(a,n),ya(n),h&yo&&c!==null&&cu(c,c.return);return}case x:{Qi(a,n),ya(n),h&yo&&c!==null&&cu(c,c.return);{if(n.flags&Df){var g=n.stateNode;try{LS(g)}catch(Qe){Yt(n,n.return,Qe)}}if(h&Rt){var y=n.stateNode;if(y!=null){var S=n.memoizedProps,E=c!==null?c.memoizedProps:S,T=n.type,R=n.updateQueue;if(n.updateQueue=null,R!==null)try{XA(y,R,T,E,S,n)}catch(Qe){Yt(n,n.return,Qe)}}}}return}case w:{if(Qi(a,n),ya(n),h&Rt){if(n.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var V=n.stateNode,z=n.memoizedProps,q=c!==null?c.memoizedProps:z;try{ZA(V,q,z)}catch(Qe){Yt(n,n.return,Qe)}}return}case v:{if(Qi(a,n),ya(n),h&Rt&&c!==null){var J=c.memoizedState;if(J.isDehydrated)try{EU(a.containerInfo)}catch(Qe){Yt(n,n.return,Qe)}}return}case b:{Qi(a,n),ya(n);return}case K:{Qi(a,n),ya(n);var Q=n.child;if(Q.flags&xo){var Se=Q.stateNode,Fe=Q.memoizedState,je=Fe!==null;if(Se.isHidden=je,je){var St=Q.alternate!==null&&Q.alternate.memoizedState!==null;St||Sz()}}if(h&Rt){try{IL(n)}catch(Qe){Yt(n,n.return,Qe)}LE(n)}return}case Re:{var ht=c!==null&&c.memoizedState!==null;if(n.mode&xt){var $=cr;cr=$||ht,Qi(a,n),cr=$}else Qi(a,n);if(ya(n),h&xo){var X=n.stateNode,B=n.memoizedState,he=B!==null,_e=n;if(X.isHidden=he,he&&!ht&&(_e.mode&xt)!==He){Oe=_e;for(var Ne=_e.child;Ne!==null;)Oe=Ne,HL(Ne),Ne=Ne.sibling}jL(_e,he)}return}case Le:{Qi(a,n),ya(n),h&Rt&&LE(n);return}case ze:return;default:{Qi(a,n),ya(n);return}}}function ya(n){var a=n.flags;if(a&Wn){try{VL(n)}catch(u){Yt(n,n.return,u)}n.flags&=-3}a&bo&&(n.flags&=-4097)}function BL(n,a,u){lu=u,uu=a,Oe=n,VE(n,a,u),lu=null,uu=null}function VE(n,a,u){for(var c=(n.mode&xt)!==He;Oe!==null;){var h=Oe,g=h.child;if(h.tag===Re&&c){var y=h.memoizedState!==null,S=y||tp;if(S){tb(n,a,u);continue}else{var E=h.alternate,T=E!==null&&E.memoizedState!==null,R=T||cr,V=tp,z=cr;tp=S,cr=R,cr&&!z&&(Oe=h,qL(h));for(var q=g;q!==null;)Oe=q,VE(q,a,u),q=q.sibling;Oe=h,tp=V,cr=z,tb(n,a,u);continue}}(h.subtreeFlags&lc)!==Ke&&g!==null?(g.return=h,Oe=g):tb(n,a,u)}}function tb(n,a,u){for(;Oe!==null;){var c=Oe;if((c.flags&lc)!==Ke){var h=c.alternate;un(c);try{AL(a,h,c,u)}catch(y){Yt(c,c.return,y)}qn()}if(c===n){Oe=null;return}var g=c.sibling;if(g!==null){g.return=c.return,Oe=g;return}Oe=c.return}}function HL(n){for(;Oe!==null;){var a=Oe,u=a.child;switch(a.tag){case f:case F:case le:case L:{if(a.mode&It)try{va(),Ki(An,a,a.return)}finally{ga(a)}else Ki(An,a,a.return);break}case p:{cu(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Xy(a,a.return,c);break}case x:{cu(a,a.return);break}case Re:{var h=a.memoizedState!==null;if(h){PE(n);continue}break}}u!==null?(u.return=a,Oe=u):PE(n)}}function PE(n){for(;Oe!==null;){var a=Oe;if(a===n){Oe=null;return}var u=a.sibling;if(u!==null){u.return=a.return,Oe=u;return}Oe=a.return}}function qL(n){for(;Oe!==null;){var a=Oe,u=a.child;if(a.tag===Re){var c=a.memoizedState!==null;if(c){IE(n);continue}}u!==null?(u.return=a,Oe=u):IE(n)}}function IE(n){for(;Oe!==null;){var a=Oe;un(a);try{UL(a)}catch(c){Yt(a,a.return,c)}if(qn(),a===n){Oe=null;return}var u=a.sibling;if(u!==null){u.return=a.return,Oe=u;return}Oe=a.return}}function WL(n,a,u,c){Oe=a,GL(a,n,u,c)}function GL(n,a,u,c){for(;Oe!==null;){var h=Oe,g=h.child;(h.subtreeFlags&Rl)!==Ke&&g!==null?(g.return=h,Oe=g):JL(n,a,u,c)}}function JL(n,a,u,c){for(;Oe!==null;){var h=Oe;if((h.flags&cs)!==Ke){un(h);try{KL(a,h,u,c)}catch(y){Yt(h,h.return,y)}qn()}if(h===n){Oe=null;return}var g=h.sibling;if(g!==null){g.return=h.return,Oe=g;return}Oe=h.return}}function KL(n,a,u,c){switch(a.tag){case f:case F:case L:{if(a.mode&It){xy();try{Ts(lr|Mn,a)}finally{by(a)}}else Ts(lr|Mn,a);break}}}function YL(n){Oe=n,QL()}function QL(){for(;Oe!==null;){var n=Oe,a=n.child;if((Oe.flags&go)!==Ke){var u=n.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];Oe=h,ez(h,n)}{var g=n.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}}Oe=n}}(n.subtreeFlags&Rl)!==Ke&&a!==null?(a.return=n,Oe=a):XL()}}function XL(){for(;Oe!==null;){var n=Oe;(n.flags&cs)!==Ke&&(un(n),ZL(n),qn());var a=n.sibling;if(a!==null){a.return=n.return,Oe=a;return}Oe=n.return}}function ZL(n){switch(n.tag){case f:case F:case L:{n.mode&It?(xy(),Ki(lr|Mn,n,n.return),by(n)):Ki(lr|Mn,n,n.return);break}}}function ez(n,a){for(;Oe!==null;){var u=Oe;un(u),nz(u,a),qn();var c=u.child;c!==null?(c.return=u,Oe=c):tz(n)}}function tz(n){for(;Oe!==null;){var a=Oe,u=a.sibling,c=a.return;if(ME(a),a===n){Oe=null;return}if(u!==null){u.return=c,Oe=u;return}Oe=c}}function nz(n,a){switch(n.tag){case f:case F:case L:{n.mode&It?(xy(),Ki(lr,n,a),by(n)):Ki(lr,n,a);break}}}function rz(n){switch(n.tag){case f:case F:case L:{try{Ts(An|Mn,n)}catch(u){Yt(n,n.return,u)}break}case p:{var a=n.stateNode;try{a.componentDidMount()}catch(u){Yt(n,n.return,u)}break}}}function iz(n){switch(n.tag){case f:case F:case L:{try{Ts(lr|Mn,n)}catch(a){Yt(n,n.return,a)}break}}}function az(n){switch(n.tag){case f:case F:case L:{try{Ki(An|Mn,n,n.return)}catch(u){Yt(n,n.return,u)}break}case p:{var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Xy(n,n.return,a);break}}}function sz(n){switch(n.tag){case f:case F:case L:try{Ki(lr|Mn,n,n.return)}catch(a){Yt(n,n.return,a)}}}if(typeof Symbol=="function"&&Symbol.for){var pd=Symbol.for;pd("selector.component"),pd("selector.has_pseudo_class"),pd("selector.role"),pd("selector.test_id"),pd("selector.text")}var oz=[];function lz(){oz.forEach(function(n){return n()})}var uz=t.ReactCurrentActQueue;function cz(n){{var a=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,u=typeof jest<"u";return u&&a!==!1}}function FE(){{var n=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!n&&uz.current!==null&&l("The current testing environment is not configured to support act(...)"),n}}var dz=Math.ceil,nb=t.ReactCurrentDispatcher,rb=t.ReactCurrentOwner,fr=t.ReactCurrentBatchConfig,Xi=t.ReactCurrentActQueue,Ln=0,$E=1,hr=2,_i=4,Ja=0,md=1,Fo=2,rp=3,gd=4,BE=5,ib=6,wt=Ln,Mr=null,hn=null,zn=oe,ba=oe,ab=bs(oe),Vn=Ja,vd=null,ip=oe,yd=oe,ap=oe,bd=null,Wr=null,sb=0,HE=500,qE=1/0,fz=500,Ka=null;function xd(){qE=Gn()+fz}function WE(){return qE}var sp=!1,ob=null,du=null,$o=!1,Rs=null,wd=oe,lb=[],ub=null,hz=50,Sd=0,cb=null,db=!1,op=!1,pz=50,fu=0,lp=null,Nd=tn,up=oe,GE=!1;function cp(){return Mr}function Ar(){return(wt&(hr|_i))!==Ln?Gn():(Nd!==tn||(Nd=Gn()),Nd)}function Os(n){var a=n.mode;if((a&xt)===He)return Ze;if((wt&hr)!==Ln&&zn!==oe)return mc(zn);var u=uj()!==lj;if(u){if(fr.transition!==null){var c=fr.transition;c._updatedFibers||(c._updatedFibers=new Set),c._updatedFibers.add(n)}return up===Kn&&(up=Tw()),up}var h=Fi();if(h!==Kn)return h;var g=GA();return g}function mz(n){var a=n.mode;return(a&xt)===He?Ze:vO()}function Pn(n,a,u,c){Pz(),GE&&l("useInsertionEffect must not schedule updates."),db&&(op=!0),gc(n,u,c),(wt&hr)!==oe&&n===Mr?$z(a):(Ii&&Ow(n,a,u),Bz(a),n===Mr&&((wt&hr)===Ln&&(yd=lt(yd,u)),Vn===gd&&Ms(n,zn)),Gr(n,c),u===Ze&&wt===Ln&&(a.mode&xt)===He&&!Xi.isBatchingLegacy&&(xd(),GS()))}function gz(n,a,u){var c=n.current;c.lanes=a,gc(n,a,u),Gr(n,u)}function vz(n){return(wt&hr)!==Ln}function Gr(n,a){var u=n.callbackNode;dO(n,a);var c=Of(n,n===Mr?zn:oe);if(c===oe){u!==null&&u1(u),n.callbackNode=null,n.callbackPriority=Kn;return}var h=Co(c),g=n.callbackPriority;if(g===h&&!(Xi.current!==null&&u!==yb)){u==null&&g!==Ze&&l("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}u!=null&&u1(u);var y;if(h===Ze)n.tag===xs?(Xi.isBatchingLegacy!==null&&(Xi.didScheduleLegacyUpdate=!0),qU(YE.bind(null,n))):WS(YE.bind(null,n)),Xi.current!==null?Xi.current.push(ws):KA(function(){(wt&(hr|_i))===Ln&&ws()}),y=null;else{var S;switch(Uw(c)){case ai:S=_f;break;case Pa:S=og;break;case Ia:S=No;break;case Uf:S=lg;break;default:S=No;break}y=bb(S,JE.bind(null,n))}n.callbackPriority=h,n.callbackNode=y}function JE(n,a){if(jj(),Nd=tn,up=oe,(wt&(hr|_i))!==Ln)throw new Error("Should not already be working.");var u=n.callbackNode,c=Qa();if(c&&n.callbackNode!==u)return null;var h=Of(n,n===Mr?zn:oe);if(h===oe)return null;var g=!Mf(n,h)&&!gO(n,h)&&!a,y=g?_z(n,h):fp(n,h);if(y!==Ja){if(y===Fo){var S=Rg(n);S!==oe&&(h=S,y=fb(n,S))}if(y===md){var E=vd;throw Bo(n,oe),Ms(n,h),Gr(n,Gn()),E}if(y===ib)Ms(n,h);else{var T=!Mf(n,h),R=n.current.alternate;if(T&&!bz(R)){if(y=fp(n,h),y===Fo){var V=Rg(n);V!==oe&&(h=V,y=fb(n,V))}if(y===md){var z=vd;throw Bo(n,oe),Ms(n,h),Gr(n,Gn()),z}}n.finishedWork=R,n.finishedLanes=h,yz(n,y,h)}}return Gr(n,Gn()),n.callbackNode===u?JE.bind(null,n):null}function fb(n,a){var u=bd;if(jf(n)){var c=Bo(n,a);c.flags|=vo,VU(n.containerInfo)}var h=fp(n,a);if(h!==Fo){var g=Wr;Wr=u,g!==null&&KE(g)}return h}function KE(n){Wr===null?Wr=n:Wr.push.apply(Wr,n)}function yz(n,a,u){switch(a){case Ja:case md:throw new Error("Root did not complete. This is a bug in React.");case Fo:{Ho(n,Wr,Ka);break}case rp:{if(Ms(n,u),Cw(u)&&!c1()){var c=sb+HE-Gn();if(c>10){var h=Of(n,oe);if(h!==oe)break;var g=n.suspendedLanes;if(!Ll(g,u)){Ar(),Rw(n,g);break}n.timeoutHandle=uv(Ho.bind(null,n,Wr,Ka),c);break}}Ho(n,Wr,Ka);break}case gd:{if(Ms(n,u),mO(u))break;if(!c1()){var y=uO(n,u),S=y,E=Gn()-S,T=Vz(E)-E;if(T>10){n.timeoutHandle=uv(Ho.bind(null,n,Wr,Ka),T);break}}Ho(n,Wr,Ka);break}case BE:{Ho(n,Wr,Ka);break}default:throw new Error("Unknown root exit status.")}}function bz(n){for(var a=n;;){if(a.flags&eg){var u=a.updateQueue;if(u!==null){var c=u.stores;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],y=g.getSnapshot,S=g.value;try{if(!oi(y(),S))return!1}catch{return!1}}}}var E=a.child;if(a.subtreeFlags&eg&&E!==null){E.return=a,a=E;continue}if(a===n)return!0;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}return!0}function Ms(n,a){a=Af(a,ap),a=Af(a,yd),bO(n,a)}function YE(n){if(Lj(),(wt&(hr|_i))!==Ln)throw new Error("Should not already be working.");Qa();var a=Of(n,oe);if(!ii(a,Ze))return Gr(n,Gn()),null;var u=fp(n,a);if(n.tag!==xs&&u===Fo){var c=Rg(n);c!==oe&&(a=c,u=fb(n,c))}if(u===md){var h=vd;throw Bo(n,oe),Ms(n,a),Gr(n,Gn()),h}if(u===ib)throw new Error("Root did not complete. This is a bug in React.");var g=n.current.alternate;return n.finishedWork=g,n.finishedLanes=a,Ho(n,Wr,Ka),Gr(n,Gn()),null}function xz(n,a){a!==oe&&(Ug(n,lt(a,Ze)),Gr(n,Gn()),(wt&(hr|_i))===Ln&&(xd(),ws()))}function hb(n,a){var u=wt;wt|=$E;try{return n(a)}finally{wt=u,wt===Ln&&!Xi.isBatchingLegacy&&(xd(),GS())}}function wz(n,a,u,c,h){var g=Fi(),y=fr.transition;try{return fr.transition=null,Yn(ai),n(a,u,c,h)}finally{Yn(g),fr.transition=y,wt===Ln&&xd()}}function Ya(n){Rs!==null&&Rs.tag===xs&&(wt&(hr|_i))===Ln&&Qa();var a=wt;wt|=$E;var u=fr.transition,c=Fi();try{return fr.transition=null,Yn(ai),n?n():void 0}finally{Yn(c),fr.transition=u,wt=a,(wt&(hr|_i))===Ln&&ws()}}function QE(){return(wt&(hr|_i))!==Ln}function dp(n,a){wr(ab,ba,n),ba=lt(ba,a)}function pb(n){ba=ab.current,xr(ab,n)}function Bo(n,a){n.finishedWork=null,n.finishedLanes=oe;var u=n.timeoutHandle;if(u!==cv&&(n.timeoutHandle=cv,JA(u)),hn!==null)for(var c=hn.return;c!==null;){var h=c.alternate;CE(h,c),c=c.return}Mr=n;var g=qo(n.current,null);return hn=g,zn=ba=a,Vn=Ja,vd=null,ip=oe,yd=oe,ap=oe,bd=null,Wr=null,gj(),Hi.discardPendingWarnings(),g}function XE(n,a){do{var u=hn;try{if(wh(),SN(),qn(),rb.current=null,u===null||u.return===null){Vn=md,vd=a,hn=null;return}if(Ut&&u.mode&It&&Yh(u,!0),rn)if(Ml(),a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a;QR(u,c,zn)}else YR(u,a,zn);qj(n,u.return,u,a,zn),n1(u)}catch(h){a=h,hn===u&&u!==null?(u=u.return,hn=u):u=hn;continue}return}while(!0)}function ZE(){var n=nb.current;return nb.current=qh,n===null?qh:n}function e1(n){nb.current=n}function Sz(){sb=Gn()}function Ed(n){ip=lt(n,ip)}function Nz(){Vn===Ja&&(Vn=rp)}function mb(){(Vn===Ja||Vn===rp||Vn===Fo)&&(Vn=gd),Mr!==null&&(Og(ip)||Og(yd))&&Ms(Mr,zn)}function Ez(n){Vn!==gd&&(Vn=Fo),bd===null?bd=[n]:bd.push(n)}function Dz(){return Vn===Ja}function fp(n,a){var u=wt;wt|=hr;var c=ZE();if(Mr!==n||zn!==a){if(Ii){var h=n.memoizedUpdaters;h.size>0&&(Dd(n,zn),h.clear()),Mw(n,a)}Ka=Aw(),Bo(n,a)}ww(a);do try{Cz();break}catch(g){XE(n,g)}while(!0);if(wh(),wt=u,e1(c),hn!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return Sw(),Mr=null,zn=oe,Vn}function Cz(){for(;hn!==null;)t1(hn)}function _z(n,a){var u=wt;wt|=hr;var c=ZE();if(Mr!==n||zn!==a){if(Ii){var h=n.memoizedUpdaters;h.size>0&&(Dd(n,zn),h.clear()),Mw(n,a)}Ka=Aw(),xd(),Bo(n,a)}ww(a);do try{Tz();break}catch(g){XE(n,g)}while(!0);return wh(),e1(c),wt=u,hn!==null?(nO(),Ja):(Sw(),Mr=null,zn=oe,Vn)}function Tz(){for(;hn!==null&&!RR();)t1(hn)}function t1(n){var a=n.alternate;un(n);var u;(n.mode&It)!==He?(yy(n),u=gb(a,n,ba),Yh(n,!0)):u=gb(a,n,ba),qn(),n.memoizedProps=n.pendingProps,u===null?n1(n):hn=u,rb.current=null}function n1(n){var a=n;do{var u=a.alternate,c=a.return;if((a.flags&Cf)===Ke){un(a);var h=void 0;if((a.mode&It)===He?h=DE(u,a,ba):(yy(a),h=DE(u,a,ba),Yh(a,!1)),qn(),h!==null){hn=h;return}}else{var g=NL(u,a);if(g!==null){g.flags&=ER,hn=g;return}if((a.mode&It)!==He){Yh(a,!1);for(var y=a.actualDuration,S=a.child;S!==null;)y+=S.actualDuration,S=S.sibling;a.actualDuration=y}if(c!==null)c.flags|=Cf,c.subtreeFlags=Ke,c.deletions=null;else{Vn=ib,hn=null;return}}var E=a.sibling;if(E!==null){hn=E;return}a=c,hn=a}while(a!==null);Vn===Ja&&(Vn=BE)}function Ho(n,a,u){var c=Fi(),h=fr.transition;try{fr.transition=null,Yn(ai),kz(n,a,u,c)}finally{fr.transition=h,Yn(c)}return null}function kz(n,a,u,c){do Qa();while(Rs!==null);if(Iz(),(wt&(hr|_i))!==Ln)throw new Error("Should not already be working.");var h=n.finishedWork,g=n.finishedLanes;if(BR(g),h===null)return yw(),null;if(g===oe&&l("root.finishedLanes should not be empty during a commit. This is a bug in React."),n.finishedWork=null,n.finishedLanes=oe,h===n.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");n.callbackNode=null,n.callbackPriority=Kn;var y=lt(h.lanes,h.childLanes);xO(n,y),n===Mr&&(Mr=null,hn=null,zn=oe),((h.subtreeFlags&Rl)!==Ke||(h.flags&Rl)!==Ke)&&($o||($o=!0,ub=u,bb(No,function(){return Qa(),null})));var S=(h.subtreeFlags&(ag|sg|lc|Rl))!==Ke,E=(h.flags&(ag|sg|lc|Rl))!==Ke;if(S||E){var T=fr.transition;fr.transition=null;var R=Fi();Yn(ai);var V=wt;wt|=_i,rb.current=null,TL(n,h),GN(),$L(n,h,g),FA(n.containerInfo),n.current=h,XR(g),BL(h,n,g),ZR(),OR(),wt=V,Yn(R),fr.transition=T}else n.current=h,GN();var z=$o;if($o?($o=!1,Rs=n,wd=g):(fu=0,lp=null),y=n.pendingLanes,y===oe&&(du=null),z||s1(n.current,!1),VR(h.stateNode,c),Ii&&n.memoizedUpdaters.clear(),lz(),Gr(n,Gn()),a!==null)for(var q=n.onRecoverableError,J=0;J<a.length;J++){var Q=a[J],Se=Q.stack,Fe=Q.digest;q(Q.value,{componentStack:Se,digest:Fe})}if(sp){sp=!1;var je=ob;throw ob=null,je}return ii(wd,Ze)&&n.tag!==xs&&Qa(),y=n.pendingLanes,ii(y,Ze)?(Uj(),n===cb?Sd++:(Sd=0,cb=n)):Sd=0,ws(),yw(),null}function Qa(){if(Rs!==null){var n=Uw(wd),a=EO(Ia,n),u=fr.transition,c=Fi();try{return fr.transition=null,Yn(a),Oz()}finally{Yn(c),fr.transition=u}}return!1}function Rz(n){lb.push(n),$o||($o=!0,bb(No,function(){return Qa(),null}))}function Oz(){if(Rs===null)return!1;var n=ub;ub=null;var a=Rs,u=wd;if(Rs=null,wd=oe,(wt&(hr|_i))!==Ln)throw new Error("Cannot flush passive effects while already rendering.");db=!0,op=!1,eO(u);var c=wt;wt|=_i,YL(a.current),WL(a,a.current,u,n);{var h=lb;lb=[];for(var g=0;g<h.length;g++){var y=h[g];ML(a,y)}}tO(),s1(a.current,!0),wt=c,ws(),op?a===lp?fu++:(fu=0,lp=a):fu=0,db=!1,op=!1,PR(a);{var S=a.current.stateNode;S.effectDuration=0,S.passiveEffectDuration=0}return!0}function r1(n){return du!==null&&du.has(n)}function Mz(n){du===null?du=new Set([n]):du.add(n)}function Az(n){sp||(sp=!0,ob=n)}var Uz=Az;function i1(n,a,u){var c=Po(u,a),h=tE(n,c,Ze),g=Ns(n,h,Ze),y=Ar();g!==null&&(gc(g,Ze,y),Gr(g,y))}function Yt(n,a,u){if(DL(u),Cd(!1),n.tag===v){i1(n,n,u);return}var c=null;for(c=a;c!==null;){if(c.tag===v){i1(c,n,u);return}else if(c.tag===p){var h=c.type,g=c.stateNode;if(typeof h.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&!r1(g)){var y=Po(u,n),S=Ly(c,y,Ze),E=Ns(c,S,Ze),T=Ar();E!==null&&(gc(E,Ze,T),Gr(E,T));return}}c=c.return}l(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,u)}function jz(n,a,u){var c=n.pingCache;c!==null&&c.delete(a);var h=Ar();Rw(n,u),Hz(n),Mr===n&&Ll(zn,u)&&(Vn===gd||Vn===rp&&Cw(zn)&&Gn()-sb<HE?Bo(n,oe):ap=lt(ap,u)),Gr(n,h)}function a1(n,a){a===Kn&&(a=mz(n));var u=Ar(),c=Hr(n,a);c!==null&&(gc(c,a,u),Gr(c,u))}function Lz(n){var a=n.memoizedState,u=Kn;a!==null&&(u=a.retryLane),a1(n,u)}function zz(n,a){var u=Kn,c;switch(n.tag){case K:c=n.stateNode;var h=n.memoizedState;h!==null&&(u=h.retryLane);break;case Le:c=n.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}c!==null&&c.delete(a),a1(n,u)}function Vz(n){return n<120?120:n<480?480:n<1080?1080:n<1920?1920:n<3e3?3e3:n<4320?4320:dz(n/1960)*1960}function Pz(){if(Sd>hz)throw Sd=0,cb=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");fu>pz&&(fu=0,lp=null,l("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function Iz(){Hi.flushLegacyContextWarning(),Hi.flushPendingUnsafeLifecycleWarnings()}function s1(n,a){un(n),hp(n,ds,az),a&&hp(n,ig,sz),hp(n,ds,rz),a&&hp(n,ig,iz),qn()}function hp(n,a,u){for(var c=n,h=null;c!==null;){var g=c.subtreeFlags&a;c!==h&&c.child!==null&&g!==Ke?c=c.child:((c.flags&a)!==Ke&&u(c),c.sibling!==null?c=c.sibling:c=h=c.return)}}var pp=null;function o1(n){{if((wt&hr)!==Ln||!(n.mode&xt))return;var a=n.tag;if(a!==m&&a!==v&&a!==p&&a!==f&&a!==F&&a!==le&&a!==L)return;var u=rt(n)||"ReactComponent";if(pp!==null){if(pp.has(u))return;pp.add(u)}else pp=new Set([u]);var c=Tr;try{un(n),l("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{c?un(n):qn()}}}var gb;{var Fz=null;gb=function(n,a,u){var c=m1(Fz,a);try{return xE(n,a,u)}catch(g){if(ZU()||g!==null&&typeof g=="object"&&typeof g.then=="function")throw g;if(wh(),SN(),CE(n,a),m1(a,c),a.mode&It&&yy(a),Xm(null,xE,null,n,a,u),wR()){var h=Zm();typeof h=="object"&&h!==null&&h._suppressLogging&&typeof g=="object"&&g!==null&&!g._suppressLogging&&(g._suppressLogging=!0)}throw g}}}var l1=!1,vb;vb=new Set;function $z(n){if(fo&&!Oj())switch(n.tag){case f:case F:case L:{var a=hn&&rt(hn)||"Unknown",u=a;if(!vb.has(u)){vb.add(u);var c=rt(n)||"Unknown";l("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",c,a,a)}break}case p:{l1||(l("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),l1=!0);break}}}function Dd(n,a){if(Ii){var u=n.memoizedUpdaters;u.forEach(function(c){Ow(n,c,a)})}}var yb={};function bb(n,a){{var u=Xi.current;return u!==null?(u.push(a),yb):vw(n,a)}}function u1(n){if(n!==yb)return kR(n)}function c1(){return Xi.current!==null}function Bz(n){{if(n.mode&xt){if(!FE())return}else if(!cz()||wt!==Ln||n.tag!==f&&n.tag!==F&&n.tag!==L)return;if(Xi.current===null){var a=Tr;try{un(n),l(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,rt(n))}finally{a?un(n):qn()}}}}function Hz(n){n.tag!==xs&&FE()&&Xi.current===null&&l(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function Cd(n){GE=n}var Ti=null,hu=null,qz=function(n){Ti=n};function pu(n){{if(Ti===null)return n;var a=Ti(n);return a===void 0?n:a.current}}function xb(n){return pu(n)}function wb(n){{if(Ti===null)return n;var a=Ti(n);if(a===void 0){if(n!=null&&typeof n.render=="function"){var u=pu(n.render);if(n.render!==u){var c={$$typeof:ee,render:u};return n.displayName!==void 0&&(c.displayName=n.displayName),c}}return n}return a.current}}function d1(n,a){{if(Ti===null)return!1;var u=n.elementType,c=a.type,h=!1,g=typeof c=="object"&&c!==null?c.$$typeof:null;switch(n.tag){case p:{typeof c=="function"&&(h=!0);break}case f:{(typeof c=="function"||g===pe)&&(h=!0);break}case F:{(g===ee||g===pe)&&(h=!0);break}case le:case L:{(g===ce||g===pe)&&(h=!0);break}default:return!1}if(h){var y=Ti(u);if(y!==void 0&&y===Ti(c))return!0}return!1}}function f1(n){{if(Ti===null||typeof WeakSet!="function")return;hu===null&&(hu=new WeakSet),hu.add(n)}}var Wz=function(n,a){{if(Ti===null)return;var u=a.staleFamilies,c=a.updatedFamilies;Qa(),Ya(function(){Sb(n.current,c,u)})}},Gz=function(n,a){{if(n.context!==li)return;Qa(),Ya(function(){_d(a,n,null,null)})}};function Sb(n,a,u){{var c=n.alternate,h=n.child,g=n.sibling,y=n.tag,S=n.type,E=null;switch(y){case f:case L:case p:E=S;break;case F:E=S.render;break}if(Ti===null)throw new Error("Expected resolveFamily to be set during hot reload.");var T=!1,R=!1;if(E!==null){var V=Ti(E);V!==void 0&&(u.has(V)?R=!0:a.has(V)&&(y===p?R=!0:T=!0))}if(hu!==null&&(hu.has(n)||c!==null&&hu.has(c))&&(R=!0),R&&(n._debugNeedsRemount=!0),R||T){var z=Hr(n,Ze);z!==null&&Pn(z,n,Ze,tn)}h!==null&&!R&&Sb(h,a,u),g!==null&&Sb(g,a,u)}}var Jz=function(n,a){{var u=new Set,c=new Set(a.map(function(h){return h.current}));return Nb(n.current,c,u),u}};function Nb(n,a,u){{var c=n.child,h=n.sibling,g=n.tag,y=n.type,S=null;switch(g){case f:case L:case p:S=y;break;case F:S=y.render;break}var E=!1;S!==null&&a.has(S)&&(E=!0),E?Kz(n,u):c!==null&&Nb(c,a,u),h!==null&&Nb(h,a,u)}}function Kz(n,a){{var u=Yz(n,a);if(u)return;for(var c=n;;){switch(c.tag){case x:a.add(c.stateNode);return;case b:a.add(c.stateNode.containerInfo);return;case v:a.add(c.stateNode.containerInfo);return}if(c.return===null)throw new Error("Expected to reach root first.");c=c.return}}}function Yz(n,a){for(var u=n,c=!1;;){if(u.tag===x)c=!0,a.add(u.stateNode);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)return c;for(;u.sibling===null;){if(u.return===null||u.return===n)return c;u=u.return}u.sibling.return=u.return,u=u.sibling}return!1}var Eb;{Eb=!1;try{var h1=Object.preventExtensions({})}catch{Eb=!0}}function Qz(n,a,u,c){this.tag=n,this.key=u,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=a,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=c,this.flags=Ke,this.subtreeFlags=Ke,this.deletions=null,this.lanes=oe,this.childLanes=oe,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!Eb&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var ui=function(n,a,u,c){return new Qz(n,a,u,c)};function Db(n){var a=n.prototype;return!!(a&&a.isReactComponent)}function Xz(n){return typeof n=="function"&&!Db(n)&&n.defaultProps===void 0}function Zz(n){if(typeof n=="function")return Db(n)?p:f;if(n!=null){var a=n.$$typeof;if(a===ee)return F;if(a===ce)return le}return m}function qo(n,a){var u=n.alternate;u===null?(u=ui(n.tag,a,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u._debugSource=n._debugSource,u._debugOwner=n._debugOwner,u._debugHookTypes=n._debugHookTypes,u.alternate=n,n.alternate=u):(u.pendingProps=a,u.type=n.type,u.flags=Ke,u.subtreeFlags=Ke,u.deletions=null,u.actualDuration=0,u.actualStartTime=-1),u.flags=n.flags&za,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue;var c=n.dependencies;switch(u.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u.selfBaseDuration=n.selfBaseDuration,u.treeBaseDuration=n.treeBaseDuration,u._debugNeedsRemount=n._debugNeedsRemount,u.tag){case m:case f:case L:u.type=pu(n.type);break;case p:u.type=xb(n.type);break;case F:u.type=wb(n.type);break}return u}function eV(n,a){n.flags&=za|Wn;var u=n.alternate;if(u===null)n.childLanes=oe,n.lanes=a,n.child=null,n.subtreeFlags=Ke,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null,n.selfBaseDuration=0,n.treeBaseDuration=0;else{n.childLanes=u.childLanes,n.lanes=u.lanes,n.child=u.child,n.subtreeFlags=Ke,n.deletions=null,n.memoizedProps=u.memoizedProps,n.memoizedState=u.memoizedState,n.updateQueue=u.updateQueue,n.type=u.type;var c=u.dependencies;n.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},n.selfBaseDuration=u.selfBaseDuration,n.treeBaseDuration=u.treeBaseDuration}return n}function tV(n,a,u){var c;return n===dh?(c=xt,a===!0&&(c|=vn,c|=ua)):c=He,Ii&&(c|=It),ui(v,null,null,c)}function Cb(n,a,u,c,h,g){var y=m,S=n;if(typeof n=="function")Db(n)?(y=p,S=xb(S)):S=pu(S);else if(typeof n=="string")y=x;else e:switch(n){case W:return As(u.children,h,g,a);case se:y=_,h|=vn,(h&xt)!==He&&(h|=ua);break;case k:return nV(u,h,g,a);case fe:return rV(u,h,g,a);case ie:return iV(u,h,g,a);case Je:return p1(u,h,g,a);case Xe:case Be:case Tt:case Hn:case st:default:{if(typeof n=="object"&&n!==null)switch(n.$$typeof){case H:y=A;break e;case Z:y=O;break e;case ee:y=F,S=wb(S);break e;case ce:y=le;break e;case pe:y=ne,S=null;break e}var E="";{(n===void 0||typeof n=="object"&&n!==null&&Object.keys(n).length===0)&&(E+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var T=c?rt(c):null;T&&(E+=`

Check the render method of \``+T+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(n==null?n:typeof n)+"."+E))}}var R=ui(y,u,a,h);return R.elementType=n,R.type=S,R.lanes=g,R._debugOwner=c,R}function _b(n,a,u){var c=null;c=n._owner;var h=n.type,g=n.key,y=n.props,S=Cb(h,g,y,c,a,u);return S._debugSource=n._source,S._debugOwner=n._owner,S}function As(n,a,u,c){var h=ui(C,n,c,a);return h.lanes=u,h}function nV(n,a,u,c){typeof n.id!="string"&&l('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof n.id);var h=ui(P,n,c,a|It);return h.elementType=k,h.lanes=u,h.stateNode={effectDuration:0,passiveEffectDuration:0},h}function rV(n,a,u,c){var h=ui(K,n,c,a);return h.elementType=fe,h.lanes=u,h}function iV(n,a,u,c){var h=ui(Le,n,c,a);return h.elementType=ie,h.lanes=u,h}function p1(n,a,u,c){var h=ui(Re,n,c,a);h.elementType=Je,h.lanes=u;var g={isHidden:!1};return h.stateNode=g,h}function Tb(n,a,u){var c=ui(w,n,null,a);return c.lanes=u,c}function aV(){var n=ui(x,null,null,He);return n.elementType="DELETED",n}function sV(n){var a=ui(ve,null,null,He);return a.stateNode=n,a}function kb(n,a,u){var c=n.children!==null?n.children:[],h=ui(b,c,n.key,a);return h.lanes=u,h.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},h}function m1(n,a){return n===null&&(n=ui(m,null,null,He)),n.tag=a.tag,n.key=a.key,n.elementType=a.elementType,n.type=a.type,n.stateNode=a.stateNode,n.return=a.return,n.child=a.child,n.sibling=a.sibling,n.index=a.index,n.ref=a.ref,n.pendingProps=a.pendingProps,n.memoizedProps=a.memoizedProps,n.updateQueue=a.updateQueue,n.memoizedState=a.memoizedState,n.dependencies=a.dependencies,n.mode=a.mode,n.flags=a.flags,n.subtreeFlags=a.subtreeFlags,n.deletions=a.deletions,n.lanes=a.lanes,n.childLanes=a.childLanes,n.alternate=a.alternate,n.actualDuration=a.actualDuration,n.actualStartTime=a.actualStartTime,n.selfBaseDuration=a.selfBaseDuration,n.treeBaseDuration=a.treeBaseDuration,n._debugSource=a._debugSource,n._debugOwner=a._debugOwner,n._debugNeedsRemount=a._debugNeedsRemount,n._debugHookTypes=a._debugHookTypes,n}function oV(n,a,u,c,h){this.tag=a,this.containerInfo=n,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=cv,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=Kn,this.eventTimes=Ag(oe),this.expirationTimes=Ag(tn),this.pendingLanes=oe,this.suspendedLanes=oe,this.pingedLanes=oe,this.expiredLanes=oe,this.mutableReadLanes=oe,this.finishedLanes=oe,this.entangledLanes=oe,this.entanglements=Ag(oe),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var g=this.pendingUpdatersLaneMap=[],y=0;y<cg;y++)g.push(new Set)}switch(a){case dh:this._debugRootType=u?"hydrateRoot()":"createRoot()";break;case xs:this._debugRootType=u?"hydrate()":"render()";break}}function g1(n,a,u,c,h,g,y,S,E,T){var R=new oV(n,a,u,S,E),V=tV(a,g);R.current=V,V.stateNode=R;{var z={element:c,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null};V.memoizedState=z}return $v(V),R}var Rb="18.3.1";function lV(n,a,u){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return yr(c),{$$typeof:I,key:c==null?null:""+c,children:n,containerInfo:a,implementation:u}}var Ob,Mb;Ob=!1,Mb={};function v1(n){if(!n)return li;var a=_l(n),u=HU(a);if(a.tag===p){var c=a.type;if(fa(c))return HS(a,c,u)}return u}function uV(n,a){{var u=_l(n);if(u===void 0){if(typeof n.render=="function")throw new Error("Unable to find node on an unmounted component.");var c=Object.keys(n).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+c)}var h=pw(u);if(h===null)return null;if(h.mode&vn){var g=rt(u)||"Component";if(!Mb[g]){Mb[g]=!0;var y=Tr;try{un(h),u.mode&vn?l("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",a,a,g):l("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",a,a,g)}finally{y?un(y):qn()}}}return h.stateNode}}function y1(n,a,u,c,h,g,y,S){var E=!1,T=null;return g1(n,a,E,T,u,c,h,g,y)}function b1(n,a,u,c,h,g,y,S,E,T){var R=!0,V=g1(u,c,R,n,h,g,y,S,E);V.context=v1(null);var z=V.current,q=Ar(),J=Os(z),Q=Wa(q,J);return Q.callback=a??null,Ns(z,Q,J),gz(V,J,q),V}function _d(n,a,u,c){zR(a,n);var h=a.current,g=Ar(),y=Os(h);rO(y);var S=v1(u);a.context===null?a.context=S:a.pendingContext=S,fo&&Tr!==null&&!Ob&&(Ob=!0,l(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,rt(Tr)||"Unknown"));var E=Wa(g,y);E.payload={element:n},c=c===void 0?null:c,c!==null&&(typeof c!="function"&&l("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",c),E.callback=c);var T=Ns(h,E,y);return T!==null&&(Pn(T,h,y,g),Ch(T,h,y)),y}function mp(n){var a=n.current;if(!a.child)return null;switch(a.child.tag){case x:return a.child.stateNode;default:return a.child.stateNode}}function cV(n){switch(n.tag){case v:{var a=n.stateNode;if(jf(a)){var u=fO(a);xz(a,u)}break}case K:{Ya(function(){var h=Hr(n,Ze);if(h!==null){var g=Ar();Pn(h,n,Ze,g)}});var c=Ze;Ab(n,c);break}}}function x1(n,a){var u=n.memoizedState;u!==null&&u.dehydrated!==null&&(u.retryLane=yO(u.retryLane,a))}function Ab(n,a){x1(n,a);var u=n.alternate;u&&x1(u,a)}function dV(n){if(n.tag===K){var a=fc,u=Hr(n,a);if(u!==null){var c=Ar();Pn(u,n,a,c)}Ab(n,a)}}function fV(n){if(n.tag===K){var a=Os(n),u=Hr(n,a);if(u!==null){var c=Ar();Pn(u,n,a,c)}Ab(n,a)}}function w1(n){var a=TR(n);return a===null?null:a.stateNode}var S1=function(n){return null};function hV(n){return S1(n)}var N1=function(n){return!1};function pV(n){return N1(n)}var E1=null,D1=null,C1=null,_1=null,T1=null,k1=null,R1=null,O1=null,M1=null;{var A1=function(n,a,u){var c=a[u],h=ft(n)?n.slice():at({},n);return u+1===a.length?(ft(h)?h.splice(c,1):delete h[c],h):(h[c]=A1(n[c],a,u+1),h)},U1=function(n,a){return A1(n,a,0)},j1=function(n,a,u,c){var h=a[c],g=ft(n)?n.slice():at({},n);if(c+1===a.length){var y=u[c];g[y]=g[h],ft(g)?g.splice(h,1):delete g[h]}else g[h]=j1(n[h],a,u,c+1);return g},L1=function(n,a,u){if(a.length!==u.length){o("copyWithRename() expects paths of the same length");return}else for(var c=0;c<u.length-1;c++)if(a[c]!==u[c]){o("copyWithRename() expects paths to be the same except for the deepest key");return}return j1(n,a,u,0)},z1=function(n,a,u,c){if(u>=a.length)return c;var h=a[u],g=ft(n)?n.slice():at({},n);return g[h]=z1(n[h],a,u+1,c),g},V1=function(n,a,u){return z1(n,a,0,u)},Ub=function(n,a){for(var u=n.memoizedState;u!==null&&a>0;)u=u.next,a--;return u};E1=function(n,a,u,c){var h=Ub(n,a);if(h!==null){var g=V1(h.memoizedState,u,c);h.memoizedState=g,h.baseState=g,n.memoizedProps=at({},n.memoizedProps);var y=Hr(n,Ze);y!==null&&Pn(y,n,Ze,tn)}},D1=function(n,a,u){var c=Ub(n,a);if(c!==null){var h=U1(c.memoizedState,u);c.memoizedState=h,c.baseState=h,n.memoizedProps=at({},n.memoizedProps);var g=Hr(n,Ze);g!==null&&Pn(g,n,Ze,tn)}},C1=function(n,a,u,c){var h=Ub(n,a);if(h!==null){var g=L1(h.memoizedState,u,c);h.memoizedState=g,h.baseState=g,n.memoizedProps=at({},n.memoizedProps);var y=Hr(n,Ze);y!==null&&Pn(y,n,Ze,tn)}},_1=function(n,a,u){n.pendingProps=V1(n.memoizedProps,a,u),n.alternate&&(n.alternate.pendingProps=n.pendingProps);var c=Hr(n,Ze);c!==null&&Pn(c,n,Ze,tn)},T1=function(n,a){n.pendingProps=U1(n.memoizedProps,a),n.alternate&&(n.alternate.pendingProps=n.pendingProps);var u=Hr(n,Ze);u!==null&&Pn(u,n,Ze,tn)},k1=function(n,a,u){n.pendingProps=L1(n.memoizedProps,a,u),n.alternate&&(n.alternate.pendingProps=n.pendingProps);var c=Hr(n,Ze);c!==null&&Pn(c,n,Ze,tn)},R1=function(n){var a=Hr(n,Ze);a!==null&&Pn(a,n,Ze,tn)},O1=function(n){S1=n},M1=function(n){N1=n}}function mV(n){var a=pw(n);return a===null?null:a.stateNode}function gV(n){return null}function vV(){return Tr}function yV(n){var a=n.findFiberByHostInstance,u=t.ReactCurrentDispatcher;return LR({bundleType:n.bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:E1,overrideHookStateDeletePath:D1,overrideHookStateRenamePath:C1,overrideProps:_1,overridePropsDeletePath:T1,overridePropsRenamePath:k1,setErrorHandler:O1,setSuspenseHandler:M1,scheduleUpdate:R1,currentDispatcherRef:u,findHostInstanceByFiber:mV,findFiberByHostInstance:a||gV,findHostInstancesForRefresh:Jz,scheduleRefresh:Wz,scheduleRoot:Gz,setRefreshHandler:qz,getCurrentFiber:vV,reconcilerVersion:Rb})}var P1=typeof reportError=="function"?reportError:function(n){console.error(n)};function jb(n){this._internalRoot=n}gp.prototype.render=jb.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?l("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):vp(arguments[1])?l("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&l("You passed a second argument to root.render(...) but it only accepts one argument.");var u=a.containerInfo;if(u.nodeType!==_n){var c=w1(a.current);c&&c.parentNode!==u&&l("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}_d(n,a,null,null)},gp.prototype.unmount=jb.prototype.unmount=function(){typeof arguments[0]=="function"&&l("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;QE()&&l("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Ya(function(){_d(null,n,null,null)}),PS(a)}};function bV(n,a){if(!vp(n))throw new Error("createRoot(...): Target container is not a DOM element.");I1(n);var u=!1,c=!1,h="",g=P1;a!=null&&(a.hydrate?o("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof a=="object"&&a!==null&&a.$$typeof===j&&l(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError),a.transitionCallbacks!==void 0&&a.transitionCallbacks);var y=y1(n,dh,null,u,c,h,g);ih(y.current,n);var S=n.nodeType===_n?n.parentNode:n;return Ac(S),new jb(y)}function gp(n){this._internalRoot=n}function xV(n){n&&jO(n)}gp.prototype.unstable_scheduleHydration=xV;function wV(n,a,u){if(!vp(n))throw new Error("hydrateRoot(...): Target container is not a DOM element.");I1(n),a===void 0&&l("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var c=u??null,h=u!=null&&u.hydratedSources||null,g=!1,y=!1,S="",E=P1;u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(S=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError));var T=b1(a,null,n,dh,c,g,y,S,E);if(ih(T.current,n),Ac(n),h)for(var R=0;R<h.length;R++){var V=h[R];Dj(T,V)}return new gp(T)}function vp(n){return!!(n&&(n.nodeType===$r||n.nodeType===La||n.nodeType===Fm))}function Td(n){return!!(n&&(n.nodeType===$r||n.nodeType===La||n.nodeType===Fm||n.nodeType===_n&&n.nodeValue===" react-mount-point-unstable "))}function I1(n){n.nodeType===$r&&n.tagName&&n.tagName.toUpperCase()==="BODY"&&l("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),Hc(n)&&(n._reactRootContainer?l("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):l("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var SV=t.ReactCurrentOwner,F1;F1=function(n){if(n._reactRootContainer&&n.nodeType!==_n){var a=w1(n._reactRootContainer.current);a&&a.parentNode!==n&&l("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var u=!!n._reactRootContainer,c=Lb(n),h=!!(c&&ys(c));h&&!u&&l("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),n.nodeType===$r&&n.tagName&&n.tagName.toUpperCase()==="BODY"&&l("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function Lb(n){return n?n.nodeType===La?n.documentElement:n.firstChild:null}function $1(){}function NV(n,a,u,c,h){if(h){if(typeof c=="function"){var g=c;c=function(){var z=mp(y);g.call(z)}}var y=b1(a,c,n,xs,null,!1,!1,"",$1);n._reactRootContainer=y,ih(y.current,n);var S=n.nodeType===_n?n.parentNode:n;return Ac(S),Ya(),y}else{for(var E;E=n.lastChild;)n.removeChild(E);if(typeof c=="function"){var T=c;c=function(){var z=mp(R);T.call(z)}}var R=y1(n,xs,null,!1,!1,"",$1);n._reactRootContainer=R,ih(R.current,n);var V=n.nodeType===_n?n.parentNode:n;return Ac(V),Ya(function(){_d(a,R,u,c)}),R}}function EV(n,a){n!==null&&typeof n!="function"&&l("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",a,n)}function yp(n,a,u,c,h){F1(u),EV(h===void 0?null:h,"render");var g=u._reactRootContainer,y;if(!g)y=NV(u,a,n,h,c);else{if(y=g,typeof h=="function"){var S=h;h=function(){var E=mp(y);S.call(E)}}_d(a,y,n,h)}return mp(y)}var B1=!1;function DV(n){{B1||(B1=!0,l("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var a=SV.current;if(a!==null&&a.stateNode!==null){var u=a.stateNode._warnedAboutRefsInRender;u||l("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",kt(a.type)||"A component"),a.stateNode._warnedAboutRefsInRender=!0}}return n==null?null:n.nodeType===$r?n:uV(n,"findDOMNode")}function CV(n,a,u){if(l("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Td(a))throw new Error("Target container is not a DOM element.");{var c=Hc(a)&&a._reactRootContainer===void 0;c&&l("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return yp(null,n,a,!0,u)}function _V(n,a,u){if(l("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Td(a))throw new Error("Target container is not a DOM element.");{var c=Hc(a)&&a._reactRootContainer===void 0;c&&l("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return yp(null,n,a,!1,u)}function TV(n,a,u,c){if(l("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Td(u))throw new Error("Target container is not a DOM element.");if(n==null||!SR(n))throw new Error("parentComponent must be a valid React Component");return yp(n,a,u,!1,c)}var H1=!1;function kV(n){if(H1||(H1=!0,l("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!Td(n))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var a=Hc(n)&&n._reactRootContainer===void 0;a&&l("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(n._reactRootContainer){{var u=Lb(n),c=u&&!ys(u);c&&l("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return Ya(function(){yp(null,null,n,!1,function(){n._reactRootContainer=null,PS(n)})}),!0}else{{var h=Lb(n),g=!!(h&&ys(h)),y=n.nodeType===$r&&Td(n.parentNode)&&!!n.parentNode._reactRootContainer;g&&l("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",y?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}DO(cV),_O(dV),TO(fV),kO(Fi),RO(SO),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&l("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),dR(OA),pR(hb,wz,Ya);function RV(n,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!vp(a))throw new Error("Target container is not a DOM element.");return lV(n,a,null,u)}function OV(n,a,u,c){return TV(n,a,u,c)}var zb={usingClientEntryPoint:!1,Events:[ys,ql,ah,tw,nw,hb]};function MV(n,a){return zb.usingClientEntryPoint||l('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),bV(n,a)}function AV(n,a,u){return zb.usingClientEntryPoint||l('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),wV(n,a,u)}function UV(n){return QE()&&l("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),Ya(n)}var jV=yV({findFiberByHostInstance:Ro,bundleType:1,version:Rb,rendererPackageName:"react-dom"});if(!jV&&an&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var q1=window.location.protocol;/^(https?|file):$/.test(q1)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(q1==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zb,di.createPortal=RV,di.createRoot=MV,di.findDOMNode=DV,di.flushSync=UV,di.hydrate=CV,di.hydrateRoot=AV,di.render=_V,di.unmountComponentAtNode=kV,di.unstable_batchedUpdates=hb,di.unstable_renderSubtreeIntoContainer=OV,di.version=Rb,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();GC.exports=di;var J0=GC.exports;const YC=HC(J0),$V=BC({__proto__:null,default:YC},[J0]);var QC,W1=J0;{var G1=W1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;QC=function(r,e){G1.usingClientEntryPoint=!0;try{return W1.createRoot(r,e)}finally{G1.usingClientEntryPoint=!1}}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dn(){return dn=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},dn.apply(this,arguments)}var kn;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(kn||(kn={}));const J1="popstate";function BV(r){r===void 0&&(r={});function e(i,s){let{pathname:o,search:l,hash:d}=i.location;return qd("",{pathname:o,search:l,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Xs(s)}return qV(e,t,null,r)}function mt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function er(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HV(){return Math.random().toString(36).substr(2,8)}function K1(r,e){return{usr:r.state,key:r.key,idx:e}}function qd(r,e,t,i){return t===void 0&&(t=null),dn({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?no(e):e,{state:t,key:e&&e.key||i||HV()})}function Xs(r){let{pathname:e="/",search:t="",hash:i=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function no(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}function qV(r,e,t,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,d=kn.Pop,f=null,p=m();p==null&&(p=0,l.replaceState(dn({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function v(){d=kn.Pop;let _=m(),O=_==null?null:_-p;p=_,f&&f({action:d,location:C.location,delta:O})}function b(_,O){d=kn.Push;let A=qd(C.location,_,O);p=m()+1;let F=K1(A,p),P=C.createHref(A);try{l.pushState(F,"",P)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;s.location.assign(P)}o&&f&&f({action:d,location:C.location,delta:1})}function x(_,O){d=kn.Replace;let A=qd(C.location,_,O);p=m();let F=K1(A,p),P=C.createHref(A);l.replaceState(F,"",P),o&&f&&f({action:d,location:C.location,delta:0})}function w(_){let O=s.location.origin!=="null"?s.location.origin:s.location.href,A=typeof _=="string"?_:Xs(_);return A=A.replace(/ $/,"%20"),mt(O,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,O)}let C={get action(){return d},get location(){return r(s,l)},listen(_){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(J1,v),f=_,()=>{s.removeEventListener(J1,v),f=null}},createHref(_){return e(s,_)},createURL:w,encodeLocation(_){let O=w(_);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:x,go(_){return l.go(_)}};return C}var Bt;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Bt||(Bt={}));const WV=new Set(["lazy","caseSensitive","path","id","index","children"]);function GV(r){return r.index===!0}function Fp(r,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),r.map((s,o)=>{let l=[...t,String(o)],d=typeof s.id=="string"?s.id:l.join("-");if(mt(s.index!==!0||!s.children,"Cannot specify children on an index route"),mt(!i[d],'Found a route id collision on id "'+d+`".  Route id's must be globally unique within Data Router usages`),GV(s)){let f=dn({},s,e(s),{id:d});return i[d]=f,f}else{let f=dn({},s,e(s),{id:d,children:void 0});return i[d]=f,s.children&&(f.children=Fp(s.children,e,l,i)),f}})}function Jo(r,e,t){return t===void 0&&(t="/"),Mp(r,e,t,!1)}function Mp(r,e,t,i){let s=typeof e=="string"?no(e):e,o=na(s.pathname||"/",t);if(o==null)return null;let l=XC(r);KV(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let p=sP(o);d=iP(l[f],p,i)}return d}function JV(r,e){let{route:t,pathname:i,params:s}=r;return{id:t.id,pathname:i,params:s,data:e[t.id],handle:t.handle}}function XC(r,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let s=(o,l,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(mt(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let p=Da([i,f.relativePath]),m=t.concat(f);o.children&&o.children.length>0&&(mt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),XC(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:nP(p,o.index),routesMeta:m})};return r.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,l);else for(let f of ZC(o.path))s(o,l,f)}),e}function ZC(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=ZC(i.join("/")),d=[];return d.push(...l.map(f=>f===""?o:[o,f].join("/"))),s&&d.push(...l),d.map(f=>r.startsWith("/")&&f===""?"/":f)}function KV(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:rP(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const YV=/^:[\w-]+$/,QV=3,XV=2,ZV=1,eP=10,tP=-2,Y1=r=>r==="*";function nP(r,e){let t=r.split("/"),i=t.length;return t.some(Y1)&&(i+=tP),e&&(i+=XV),t.filter(s=>!Y1(s)).reduce((s,o)=>s+(YV.test(o)?QV:o===""?ZV:eP),i)}function rP(r,e){return r.length===e.length&&r.slice(0,-1).every((i,s)=>i===e[s])?r[r.length-1]-e[e.length-1]:0}function iP(r,e,t){t===void 0&&(t=!1);let{routesMeta:i}=r,s={},o="/",l=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",v=$p({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),b=f.route;if(!v&&p&&t&&!i[i.length-1].route.index&&(v=$p({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:Da([o,v.pathname]),pathnameBase:uP(Da([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=Da([o,v.pathnameBase]))}return l}function $p(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=aP(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((p,m,v)=>{let{paramName:b,isOptional:x}=m;if(b==="*"){let C=d[v]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const w=d[v];return x&&!w?p[b]=void 0:p[b]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:r}}function aP(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),er(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function sP(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function na(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function oP(r,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:s=""}=typeof r=="string"?no(r):r;return{pathname:t?t.startsWith("/")?t:lP(t,e):e,search:cP(i),hash:dP(s)}}function lP(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Vb(r,e,t,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function e_(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function K0(r,e){let t=e_(r);return e?t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Y0(r,e,t,i){i===void 0&&(i=!1);let s;typeof r=="string"?s=no(r):(s=dn({},r),mt(!s.pathname||!s.pathname.includes("?"),Vb("?","pathname","search",s)),mt(!s.pathname||!s.pathname.includes("#"),Vb("#","pathname","hash",s)),mt(!s.search||!s.search.includes("#"),Vb("#","search","hash",s)));let o=r===""||s.pathname==="",l=o?"/":s.pathname,d;if(l==null)d=t;else{let v=e.length-1;if(!i&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),v-=1;s.pathname=b.join("/")}d=v>=0?e[v]:"/"}let f=oP(s,d),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}const Da=r=>r.join("/").replace(/\/\/+/g,"/"),uP=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),cP=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,dP=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;class Bp{constructor(e,t,i,s){s===void 0&&(s=!1),this.status=e,this.statusText=t||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Wd(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const t_=["post","put","patch","delete"],fP=new Set(t_),hP=["get",...t_],pP=new Set(hP),mP=new Set([301,302,303,307,308]),gP=new Set([307,308]),Pb={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Rd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yP=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),n_="remix-router-transitions";function bP(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;mt(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(r.mapRouteProperties)s=r.mapRouteProperties;else if(r.detectErrorBoundary){let j=r.detectErrorBoundary;s=I=>({hasErrorBoundary:j(I)})}else s=yP;let o={},l=Fp(r.routes,s,void 0,o),d,f=r.basename||"/",p=r.dataStrategy||NP,m=r.patchRoutesOnNavigation,v=dn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},r.future),b=null,x=new Set,w=null,C=null,_=null,O=r.hydrationData!=null,A=Jo(l,r.history.location,f),F=!1,P=null;if(A==null&&!m){let j=Kr(404,{pathname:r.history.location.pathname}),{matches:I,route:W}=oD(l);A=I,P={[W.id]:j}}A&&!r.hydrationData&&Ui(A,l,r.history.location.pathname).active&&(A=null);let K;if(A)if(A.some(j=>j.route.lazy))K=!1;else if(!A.some(j=>j.route.loader))K=!0;else if(v.v7_partialHydration){let j=r.hydrationData?r.hydrationData.loaderData:null,I=r.hydrationData?r.hydrationData.errors:null;if(I){let W=A.findIndex(se=>I[se.route.id]!==void 0);K=A.slice(0,W+1).every(se=>!v0(se.route,j,I))}else K=A.every(W=>!v0(W.route,j,I))}else K=r.hydrationData!=null;else if(K=!1,A=[],v.v7_partialHydration){let j=Ui(null,l,r.history.location.pathname);j.active&&j.matches&&(F=!0,A=j.matches)}let le,L={historyAction:r.history.action,location:r.history.location,matches:A,initialized:K,navigation:Pb,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||P,fetchers:new Map,blockers:new Map},ne=kn.Pop,re=!1,ve,Le=!1,ze=new Map,Re=null,be=!1,ye=!1,$e=[],Ee=new Set,Ie=new Map,jt=0,Lt=-1,Dt=new Map,gt=new Set,rn=new Map,Ut=new Map,Nt=new Set,ln=new Map,zt=new Map,pn;function xn(){if(b=r.history.listen(j=>{let{action:I,location:W,delta:se}=j;if(pn){pn(),pn=void 0;return}er(zt.size===0||se!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let k=qt({currentLocation:L.location,nextLocation:W,historyAction:I});if(k&&se!=null){let H=new Promise(Z=>{pn=Z});r.history.go(se*-1),vt(k,{state:"blocked",location:W,proceed(){vt(k,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),H.then(()=>r.history.go(se))},reset(){let Z=new Map(L.blockers);Z.set(k,Rd),Ot({blockers:Z})}});return}return Ht(I,W)}),t){zP(e,ze);let j=()=>VP(e,ze);e.addEventListener("pagehide",j),Re=()=>e.removeEventListener("pagehide",j)}return L.initialized||Ht(kn.Pop,L.location,{initialHydration:!0}),le}function mn(){b&&b(),Re&&Re(),x.clear(),ve&&ve.abort(),L.fetchers.forEach((j,I)=>we(I)),L.blockers.forEach((j,I)=>Vt(I))}function an(j){return x.add(j),()=>x.delete(j)}function Ot(j,I){I===void 0&&(I={}),L=dn({},L,j);let W=[],se=[];v.v7_fetcherPersist&&L.fetchers.forEach((k,H)=>{k.state==="idle"&&(Nt.has(H)?se.push(H):W.push(H))}),Nt.forEach(k=>{!L.fetchers.has(k)&&!Ie.has(k)&&se.push(k)}),[...x].forEach(k=>k(L,{deletedFetchers:se,viewTransitionOpts:I.viewTransitionOpts,flushSync:I.flushSync===!0})),v.v7_fetcherPersist?(W.forEach(k=>L.fetchers.delete(k)),se.forEach(k=>we(k))):se.forEach(k=>Nt.delete(k))}function Gt(j,I,W){var se,k;let{flushSync:H}=W===void 0?{}:W,Z=L.actionData!=null&&L.navigation.formMethod!=null&&Zi(L.navigation.formMethod)&&L.navigation.state==="loading"&&((se=j.state)==null?void 0:se._isRedirect)!==!0,ee;I.actionData?Object.keys(I.actionData).length>0?ee=I.actionData:ee=null:Z?ee=L.actionData:ee=null;let fe=I.loaderData?aD(L.loaderData,I.loaderData,I.matches||[],I.errors):L.loaderData,ie=L.blockers;ie.size>0&&(ie=new Map(ie),ie.forEach((Be,st)=>ie.set(st,Rd)));let ce=re===!0||L.navigation.formMethod!=null&&Zi(L.navigation.formMethod)&&((k=j.state)==null?void 0:k._isRedirect)!==!0;d&&(l=d,d=void 0),be||ne===kn.Pop||(ne===kn.Push?r.history.push(j,j.state):ne===kn.Replace&&r.history.replace(j,j.state));let pe;if(ne===kn.Pop){let Be=ze.get(L.location.pathname);Be&&Be.has(j.pathname)?pe={currentLocation:L.location,nextLocation:j}:ze.has(j.pathname)&&(pe={currentLocation:j,nextLocation:L.location})}else if(Le){let Be=ze.get(L.location.pathname);Be?Be.add(j.pathname):(Be=new Set([j.pathname]),ze.set(L.location.pathname,Be)),pe={currentLocation:L.location,nextLocation:j}}Ot(dn({},I,{actionData:ee,loaderData:fe,historyAction:ne,location:j,initialized:!0,navigation:Pb,revalidation:"idle",restoreScrollPosition:sa(j,I.matches||L.matches),preventScrollReset:ce,blockers:ie}),{viewTransitionOpts:pe,flushSync:H===!0}),ne=kn.Pop,re=!1,Le=!1,be=!1,ye=!1,$e=[]}async function Nn(j,I){if(typeof j=="number"){r.history.go(j);return}let W=g0(L.location,L.matches,f,v.v7_prependBasename,j,v.v7_relativeSplatPath,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:se,submission:k,error:H}=Q1(v.v7_normalizeFormMethod,!1,W,I),Z=L.location,ee=qd(L.location,se,I&&I.state);ee=dn({},ee,r.history.encodeLocation(ee));let fe=I&&I.replace!=null?I.replace:void 0,ie=kn.Push;fe===!0?ie=kn.Replace:fe===!1||k!=null&&Zi(k.formMethod)&&k.formAction===L.location.pathname+L.location.search&&(ie=kn.Replace);let ce=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,pe=(I&&I.flushSync)===!0,Be=qt({currentLocation:Z,nextLocation:ee,historyAction:ie});if(Be){vt(Be,{state:"blocked",location:ee,proceed(){vt(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Nn(j,I)},reset(){let st=new Map(L.blockers);st.set(Be,Rd),Ot({blockers:st})}});return}return await Ht(ie,ee,{submission:k,pendingError:H,preventScrollReset:ce,replace:I&&I.replace,enableViewTransition:I&&I.viewTransition,flushSync:pe})}function fn(){if(me(),Ot({revalidation:"loading"}),L.navigation.state!=="submitting"){if(L.navigation.state==="idle"){Ht(L.historyAction,L.location,{startUninterruptedRevalidation:!0});return}Ht(ne||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:Le===!0})}}async function Ht(j,I,W){ve&&ve.abort(),ve=null,ne=j,be=(W&&W.startUninterruptedRevalidation)===!0,so(L.location,L.matches),re=(W&&W.preventScrollReset)===!0,Le=(W&&W.enableViewTransition)===!0;let se=d||l,k=W&&W.overrideNavigation,H=W!=null&&W.initialHydration&&L.matches&&L.matches.length>0&&!F?L.matches:Jo(se,I,f),Z=(W&&W.flushSync)===!0;if(H&&L.initialized&&!ye&&kP(L.location,I)&&!(W&&W.submission&&Zi(W.submission.formMethod))){Gt(I,{matches:H},{flushSync:Z});return}let ee=Ui(H,se,I.pathname);if(ee.active&&ee.matches&&(H=ee.matches),!H){let{error:Je,notFoundMatches:Xe,route:Tt}=Bn(I.pathname);Gt(I,{matches:Xe,loaderData:{},errors:{[Tt.id]:Je}},{flushSync:Z});return}ve=new AbortController;let fe=gu(r.history,I,ve.signal,W&&W.submission),ie;if(W&&W.pendingError)ie=[Ko(H).route.id,{type:Bt.error,error:W.pendingError}];else if(W&&W.submission&&Zi(W.submission.formMethod)){let Je=await yr(fe,I,W.submission,H,ee.active,{replace:W.replace,flushSync:Z});if(Je.shortCircuited)return;if(Je.pendingActionResult){let[Xe,Tt]=Je.pendingActionResult;if(hi(Tt)&&Wd(Tt.error)&&Tt.error.status===404){ve=null,Gt(I,{matches:Je.matches,loaderData:{},errors:{[Xe]:Tt.error}});return}}H=Je.matches||H,ie=Je.pendingActionResult,k=Ib(I,W.submission),Z=!1,ee.active=!1,fe=gu(r.history,fe.url,fe.signal)}let{shortCircuited:ce,matches:pe,loaderData:Be,errors:st}=await ei(fe,I,H,ee.active,k,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Z,ie);ce||(ve=null,Gt(I,dn({matches:pe||H},sD(ie),{loaderData:Be,errors:st})))}async function yr(j,I,W,se,k,H){H===void 0&&(H={}),me();let Z=jP(I,W);if(Ot({navigation:Z},{flushSync:H.flushSync===!0}),k){let ie=await ji(se,I.pathname,j.signal);if(ie.type==="aborted")return{shortCircuited:!0};if(ie.type==="error"){let ce=Ko(ie.partialMatches).route.id;return{matches:ie.partialMatches,pendingActionResult:[ce,{type:Bt.error,error:ie.error}]}}else if(ie.matches)se=ie.matches;else{let{notFoundMatches:ce,error:pe,route:Be}=Bn(I.pathname);return{matches:ce,pendingActionResult:[Be.id,{type:Bt.error,error:pe}]}}}let ee,fe=jd(se,I);if(!fe.route.action&&!fe.route.lazy)ee={type:Bt.error,error:Kr(405,{method:j.method,pathname:I.pathname,routeId:fe.route.id})};else if(ee=(await Jt("action",L,j,[fe],se,null))[fe.route.id],j.signal.aborted)return{shortCircuited:!0};if(Zo(ee)){let ie;return H&&H.replace!=null?ie=H.replace:ie=nD(ee.response.headers.get("Location"),new URL(j.url),f)===L.location.pathname+L.location.search,await Dn(j,ee,!0,{submission:W,replace:ie}),{shortCircuited:!0}}if(Bs(ee))throw Kr(400,{type:"defer-action"});if(hi(ee)){let ie=Ko(se,fe.route.id);return(H&&H.replace)!==!0&&(ne=kn.Push),{matches:se,pendingActionResult:[ie.route.id,ee]}}return{matches:se,pendingActionResult:[fe.route.id,ee]}}async function ei(j,I,W,se,k,H,Z,ee,fe,ie,ce){let pe=k||Ib(I,H),Be=H||Z||uD(pe),st=!be&&(!v.v7_partialHydration||!fe);if(se){if(st){let Wt=Fn(ce);Ot(dn({navigation:pe},Wt!==void 0?{actionData:Wt}:{}),{flushSync:ie})}let yt=await ji(W,I.pathname,j.signal);if(yt.type==="aborted")return{shortCircuited:!0};if(yt.type==="error"){let Wt=Ko(yt.partialMatches).route.id;return{matches:yt.partialMatches,loaderData:{},errors:{[Wt]:yt.error}}}else if(yt.matches)W=yt.matches;else{let{error:Wt,notFoundMatches:bi,route:Li}=Bn(I.pathname);return{matches:bi,loaderData:{},errors:{[Li.id]:Wt}}}}let Je=d||l,[Xe,Tt]=Z1(r.history,L,W,Be,I,v.v7_partialHydration&&fe===!0,v.v7_skipActionErrorRevalidation,ye,$e,Ee,Nt,rn,gt,Je,f,ce);if(ir(yt=>!(W&&W.some(Wt=>Wt.route.id===yt))||Xe&&Xe.some(Wt=>Wt.route.id===yt)),Lt=++jt,Xe.length===0&&Tt.length===0){let yt=Ye();return Gt(I,dn({matches:W,loaderData:{},errors:ce&&hi(ce[1])?{[ce[0]]:ce[1].error}:null},sD(ce),yt?{fetchers:new Map(L.fetchers)}:{}),{flushSync:ie}),{shortCircuited:!0}}if(st){let yt={};if(!se){yt.navigation=pe;let Wt=Fn(ce);Wt!==void 0&&(yt.actionData=Wt)}Tt.length>0&&(yt.fetchers=$n(Tt)),Ot(yt,{flushSync:ie})}Tt.forEach(yt=>{Ge(yt.key),yt.controller&&Ie.set(yt.key,yt.controller)});let Hn=()=>Tt.forEach(yt=>Ge(yt.key));ve&&ve.signal.addEventListener("abort",Hn);let{loaderResults:sn,fetcherResults:ar}=await ue(L,W,Xe,Tt,j);if(j.signal.aborted)return{shortCircuited:!0};ve&&ve.signal.removeEventListener("abort",Hn),Tt.forEach(yt=>Ie.delete(yt.key));let gn=bp(sn);if(gn)return await Dn(j,gn.result,!0,{replace:ee}),{shortCircuited:!0};if(gn=bp(ar),gn)return gt.add(gn.key),await Dn(j,gn.result,!0,{replace:ee}),{shortCircuited:!0};let{loaderData:at,errors:ni}=iD(L,W,sn,ce,Tt,ar,ln);ln.forEach((yt,Wt)=>{yt.subscribe(bi=>{(bi||yt.done)&&ln.delete(Wt)})}),v.v7_partialHydration&&fe&&L.errors&&(ni=dn({},L.errors,ni));let yi=Ye(),Ra=ot(Lt),ri=yi||Ra||Tt.length>0;return dn({matches:W,loaderData:at,errors:ni},ri?{fetchers:new Map(L.fetchers)}:{})}function Fn(j){if(j&&!hi(j[1]))return{[j[0]]:j[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function $n(j){return j.forEach(I=>{let W=L.fetchers.get(I.key),se=Od(void 0,W?W.data:void 0);L.fetchers.set(I.key,se)}),new Map(L.fetchers)}function En(j,I,W,se){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ge(j);let k=(se&&se.flushSync)===!0,H=d||l,Z=g0(L.location,L.matches,f,v.v7_prependBasename,W,v.v7_relativeSplatPath,I,se==null?void 0:se.relative),ee=Jo(H,Z,f),fe=Ui(ee,H,Z);if(fe.active&&fe.matches&&(ee=fe.matches),!ee){Ve(j,I,Kr(404,{pathname:Z}),{flushSync:k});return}let{path:ie,submission:ce,error:pe}=Q1(v.v7_normalizeFormMethod,!0,Z,se);if(pe){Ve(j,I,pe,{flushSync:k});return}let Be=jd(ee,ie),st=(se&&se.preventScrollReset)===!0;if(ce&&Zi(ce.formMethod)){wn(j,I,ie,Be,ee,fe.active,k,st,ce);return}rn.set(j,{routeId:I,path:ie}),On(j,I,ie,Be,ee,fe.active,k,st,ce)}async function wn(j,I,W,se,k,H,Z,ee,fe){me(),rn.delete(j);function ie(Xt){if(!Xt.route.action&&!Xt.route.lazy){let zi=Kr(405,{method:fe.formMethod,pathname:W,routeId:I});return Ve(j,I,zi,{flushSync:Z}),!0}return!1}if(!H&&ie(se))return;let ce=L.fetchers.get(j);Ue(j,LP(fe,ce),{flushSync:Z});let pe=new AbortController,Be=gu(r.history,W,pe.signal,fe);if(H){let Xt=await ji(k,new URL(Be.url).pathname,Be.signal,j);if(Xt.type==="aborted")return;if(Xt.type==="error"){Ve(j,I,Xt.error,{flushSync:Z});return}else if(Xt.matches){if(k=Xt.matches,se=jd(k,W),ie(se))return}else{Ve(j,I,Kr(404,{pathname:W}),{flushSync:Z});return}}Ie.set(j,pe);let st=jt,Xe=(await Jt("action",L,Be,[se],k,j))[se.route.id];if(Be.signal.aborted){Ie.get(j)===pe&&Ie.delete(j);return}if(v.v7_fetcherPersist&&Nt.has(j)){if(Zo(Xe)||hi(Xe)){Ue(j,Us(void 0));return}}else{if(Zo(Xe))if(Ie.delete(j),Lt>st){Ue(j,Us(void 0));return}else return gt.add(j),Ue(j,Od(fe)),Dn(Be,Xe,!1,{fetcherSubmission:fe,preventScrollReset:ee});if(hi(Xe)){Ve(j,I,Xe.error);return}}if(Bs(Xe))throw Kr(400,{type:"defer-action"});let Tt=L.navigation.location||L.location,Hn=gu(r.history,Tt,pe.signal),sn=d||l,ar=L.navigation.state!=="idle"?Jo(sn,L.navigation.location,f):L.matches;mt(ar,"Didn't find any matches after fetcher action");let gn=++jt;Dt.set(j,gn);let at=Od(fe,Xe.data);L.fetchers.set(j,at);let[ni,yi]=Z1(r.history,L,ar,fe,Tt,!1,v.v7_skipActionErrorRevalidation,ye,$e,Ee,Nt,rn,gt,sn,f,[se.route.id,Xe]);yi.filter(Xt=>Xt.key!==j).forEach(Xt=>{let zi=Xt.key,oo=L.fetchers.get(zi),as=Od(void 0,oo?oo.data:void 0);L.fetchers.set(zi,as),Ge(zi),Xt.controller&&Ie.set(zi,Xt.controller)}),Ot({fetchers:new Map(L.fetchers)});let Ra=()=>yi.forEach(Xt=>Ge(Xt.key));pe.signal.addEventListener("abort",Ra);let{loaderResults:ri,fetcherResults:yt}=await ue(L,ar,ni,yi,Hn);if(pe.signal.aborted)return;pe.signal.removeEventListener("abort",Ra),Dt.delete(j),Ie.delete(j),yi.forEach(Xt=>Ie.delete(Xt.key));let Wt=bp(ri);if(Wt)return Dn(Hn,Wt.result,!1,{preventScrollReset:ee});if(Wt=bp(yt),Wt)return gt.add(Wt.key),Dn(Hn,Wt.result,!1,{preventScrollReset:ee});let{loaderData:bi,errors:Li}=iD(L,ar,ri,void 0,yi,yt,ln);if(L.fetchers.has(j)){let Xt=Us(Xe.data);L.fetchers.set(j,Xt)}ot(gn),L.navigation.state==="loading"&&gn>Lt?(mt(ne,"Expected pending action"),ve&&ve.abort(),Gt(L.navigation.location,{matches:ar,loaderData:bi,errors:Li,fetchers:new Map(L.fetchers)})):(Ot({errors:Li,loaderData:aD(L.loaderData,bi,ar,Li),fetchers:new Map(L.fetchers)}),ye=!1)}async function On(j,I,W,se,k,H,Z,ee,fe){let ie=L.fetchers.get(j);Ue(j,Od(fe,ie?ie.data:void 0),{flushSync:Z});let ce=new AbortController,pe=gu(r.history,W,ce.signal);if(H){let Xe=await ji(k,new URL(pe.url).pathname,pe.signal,j);if(Xe.type==="aborted")return;if(Xe.type==="error"){Ve(j,I,Xe.error,{flushSync:Z});return}else if(Xe.matches)k=Xe.matches,se=jd(k,W);else{Ve(j,I,Kr(404,{pathname:W}),{flushSync:Z});return}}Ie.set(j,ce);let Be=jt,Je=(await Jt("loader",L,pe,[se],k,j))[se.route.id];if(Bs(Je)&&(Je=await X0(Je,pe.signal,!0)||Je),Ie.get(j)===ce&&Ie.delete(j),!pe.signal.aborted){if(Nt.has(j)){Ue(j,Us(void 0));return}if(Zo(Je))if(Lt>Be){Ue(j,Us(void 0));return}else{gt.add(j),await Dn(pe,Je,!1,{preventScrollReset:ee});return}if(hi(Je)){Ve(j,I,Je.error);return}mt(!Bs(Je),"Unhandled fetcher deferred data"),Ue(j,Us(Je.data))}}async function Dn(j,I,W,se){let{submission:k,fetcherSubmission:H,preventScrollReset:Z,replace:ee}=se===void 0?{}:se;I.response.headers.has("X-Remix-Revalidate")&&(ye=!0);let fe=I.response.headers.get("Location");mt(fe,"Expected a Location header on the redirect Response"),fe=nD(fe,new URL(j.url),f);let ie=qd(L.location,fe,{_isRedirect:!0});if(t){let Xe=!1;if(I.response.headers.has("X-Remix-Reload-Document"))Xe=!0;else if(Q0.test(fe)){const Tt=r.history.createURL(fe);Xe=Tt.origin!==e.location.origin||na(Tt.pathname,f)==null}if(Xe){ee?e.location.replace(fe):e.location.assign(fe);return}}ve=null;let ce=ee===!0||I.response.headers.has("X-Remix-Replace")?kn.Replace:kn.Push,{formMethod:pe,formAction:Be,formEncType:st}=L.navigation;!k&&!H&&pe&&Be&&st&&(k=uD(L.navigation));let Je=k||H;if(gP.has(I.response.status)&&Je&&Zi(Je.formMethod))await Ht(ce,ie,{submission:dn({},Je,{formAction:fe}),preventScrollReset:Z||re,enableViewTransition:W?Le:void 0});else{let Xe=Ib(ie,k);await Ht(ce,ie,{overrideNavigation:Xe,fetcherSubmission:H,preventScrollReset:Z||re,enableViewTransition:W?Le:void 0})}}async function Jt(j,I,W,se,k,H){let Z,ee={};try{Z=await EP(p,j,I,W,se,k,H,o,s)}catch(fe){return se.forEach(ie=>{ee[ie.route.id]={type:Bt.error,error:fe}}),ee}for(let[fe,ie]of Object.entries(Z))if(RP(ie)){let ce=ie.result;ee[fe]={type:Bt.redirect,response:_P(ce,W,fe,k,f,v.v7_relativeSplatPath)}}else ee[fe]=await CP(ie);return ee}async function ue(j,I,W,se,k){let H=j.matches,Z=Jt("loader",j,k,W,I,null),ee=Promise.all(se.map(async ce=>{if(ce.matches&&ce.match&&ce.controller){let Be=(await Jt("loader",j,gu(r.history,ce.path,ce.controller.signal),[ce.match],ce.matches,ce.key))[ce.match.route.id];return{[ce.key]:Be}}else return Promise.resolve({[ce.key]:{type:Bt.error,error:Kr(404,{pathname:ce.path})}})})),fe=await Z,ie=(await ee).reduce((ce,pe)=>Object.assign(ce,pe),{});return await Promise.all([AP(I,fe,k.signal,H,j.loaderData),UP(I,ie,se)]),{loaderResults:fe,fetcherResults:ie}}function me(){ye=!0,$e.push(...ir()),rn.forEach((j,I)=>{Ie.has(I)&&Ee.add(I),Ge(I)})}function Ue(j,I,W){W===void 0&&(W={}),L.fetchers.set(j,I),Ot({fetchers:new Map(L.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function Ve(j,I,W,se){se===void 0&&(se={});let k=Ko(L.matches,I);we(j),Ot({errors:{[k.route.id]:W},fetchers:new Map(L.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function ae(j){return Ut.set(j,(Ut.get(j)||0)+1),Nt.has(j)&&Nt.delete(j),L.fetchers.get(j)||vP}function we(j){let I=L.fetchers.get(j);Ie.has(j)&&!(I&&I.state==="loading"&&Dt.has(j))&&Ge(j),rn.delete(j),Dt.delete(j),gt.delete(j),v.v7_fetcherPersist&&Nt.delete(j),Ee.delete(j),L.fetchers.delete(j)}function Pe(j){let I=(Ut.get(j)||0)-1;I<=0?(Ut.delete(j),Nt.add(j),v.v7_fetcherPersist||we(j)):Ut.set(j,I),Ot({fetchers:new Map(L.fetchers)})}function Ge(j){let I=Ie.get(j);I&&(I.abort(),Ie.delete(j))}function ut(j){for(let I of j){let W=ae(I),se=Us(W.data);L.fetchers.set(I,se)}}function Ye(){let j=[],I=!1;for(let W of gt){let se=L.fetchers.get(W);mt(se,"Expected fetcher: "+W),se.state==="loading"&&(gt.delete(W),j.push(W),I=!0)}return ut(j),I}function ot(j){let I=[];for(let[W,se]of Dt)if(se<j){let k=L.fetchers.get(W);mt(k,"Expected fetcher: "+W),k.state==="loading"&&(Ge(W),Dt.delete(W),I.push(W))}return ut(I),I.length>0}function Kt(j,I){let W=L.blockers.get(j)||Rd;return zt.get(j)!==I&&zt.set(j,I),W}function Vt(j){L.blockers.delete(j),zt.delete(j)}function vt(j,I){let W=L.blockers.get(j)||Rd;mt(W.state==="unblocked"&&I.state==="blocked"||W.state==="blocked"&&I.state==="blocked"||W.state==="blocked"&&I.state==="proceeding"||W.state==="blocked"&&I.state==="unblocked"||W.state==="proceeding"&&I.state==="unblocked","Invalid blocker state transition: "+W.state+" -> "+I.state);let se=new Map(L.blockers);se.set(j,I),Ot({blockers:se})}function qt(j){let{currentLocation:I,nextLocation:W,historyAction:se}=j;if(zt.size===0)return;zt.size>1&&er(!1,"A router only supports one blocker at a time");let k=Array.from(zt.entries()),[H,Z]=k[k.length-1],ee=L.blockers.get(H);if(!(ee&&ee.state==="proceeding")&&Z({currentLocation:I,nextLocation:W,historyAction:se}))return H}function Bn(j){let I=Kr(404,{pathname:j}),W=d||l,{matches:se,route:k}=oD(W);return ir(),{notFoundMatches:se,route:k,error:I}}function ir(j){let I=[];return ln.forEach((W,se)=>{(!j||j(se))&&(W.cancel(),I.push(se),ln.delete(se))}),I}function Fr(j,I,W){if(w=j,_=I,C=W||null,!O&&L.navigation===Pb){O=!0;let se=sa(L.location,L.matches);se!=null&&Ot({restoreScrollPosition:se})}return()=>{w=null,_=null,C=null}}function vi(j,I){return C&&C(j,I.map(se=>JV(se,L.loaderData)))||j.key}function so(j,I){if(w&&_){let W=vi(j,I);w[W]=_()}}function sa(j,I){if(w){let W=vi(j,I),se=w[W];if(typeof se=="number")return se}return null}function Ui(j,I,W){if(m)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:Mp(I,W,f,!0)}}else return{active:!0,matches:Mp(I,W,f,!0)||[]};return{active:!1,matches:null}}async function ji(j,I,W,se){if(!m)return{type:"success",matches:j};let k=j;for(;;){let H=d==null,Z=d||l,ee=o;try{await m({signal:W,path:I,matches:k,fetcherKey:se,patch:(ce,pe)=>{W.aborted||tD(ce,pe,Z,ee,s)}})}catch(ce){return{type:"error",error:ce,partialMatches:k}}finally{H&&!W.aborted&&(l=[...l])}if(W.aborted)return{type:"aborted"};let fe=Jo(Z,I,f);if(fe)return{type:"success",matches:fe};let ie=Mp(Z,I,f,!0);if(!ie||k.length===ie.length&&k.every((ce,pe)=>ce.route.id===ie[pe].route.id))return{type:"success",matches:null};k=ie}}function ka(j){o={},d=Fp(j,s,void 0,o)}function ti(j,I){let W=d==null;tD(j,I,d||l,o,s),W&&(l=[...l],Ot({}))}return le={get basename(){return f},get future(){return v},get state(){return L},get routes(){return l},get window(){return e},initialize:xn,subscribe:an,enableScrollRestoration:Fr,navigate:Nn,fetch:En,revalidate:fn,createHref:j=>r.history.createHref(j),encodeLocation:j=>r.history.encodeLocation(j),getFetcher:ae,deleteFetcher:Pe,dispose:mn,getBlocker:Kt,deleteBlocker:Vt,patchRoutes:ti,_internalFetchControllers:Ie,_internalActiveDeferreds:ln,_internalSetRoutes:ka},le}function xP(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function g0(r,e,t,i,s,o,l,d){let f,p;if(l){f=[];for(let v of e)if(f.push(v),v.route.id===l){p=v;break}}else f=e,p=e[e.length-1];let m=Y0(s||".",K0(f,o),na(r.pathname,t)||r.pathname,d==="path");if(s==null&&(m.search=r.search,m.hash=r.hash),(s==null||s===""||s===".")&&p){let v=Z0(m.search);if(p.route.index&&!v)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&v){let b=new URLSearchParams(m.search),x=b.getAll("index");b.delete("index"),x.filter(C=>C).forEach(C=>b.append("index",C));let w=b.toString();m.search=w?"?"+w:""}}return i&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Da([t,m.pathname])),Xs(m)}function Q1(r,e,t,i){if(!i||!xP(i))return{path:t};if(i.formMethod&&!MP(i.formMethod))return{path:t,error:Kr(405,{method:i.formMethod})};let s=()=>({path:t,error:Kr(400,{type:"invalid-body"})}),o=i.formMethod||"get",l=r?o.toUpperCase():o.toLowerCase(),d=a_(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Zi(l))return s();let b=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((x,w)=>{let[C,_]=w;return""+x+C+"="+_+`
`},""):String(i.body);return{path:t,submission:{formMethod:l,formAction:d,formEncType:i.formEncType,formData:void 0,json:void 0,text:b}}}else if(i.formEncType==="application/json"){if(!Zi(l))return s();try{let b=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:l,formAction:d,formEncType:i.formEncType,formData:void 0,json:b,text:void 0}}}catch{return s()}}}mt(typeof FormData=="function","FormData is not available in this environment");let f,p;if(i.formData)f=y0(i.formData),p=i.formData;else if(i.body instanceof FormData)f=y0(i.body),p=i.body;else if(i.body instanceof URLSearchParams)f=i.body,p=rD(f);else if(i.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(i.body),p=rD(f)}catch{return s()}let m={formMethod:l,formAction:d,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Zi(m.formMethod))return{path:t,submission:m};let v=no(t);return e&&v.search&&Z0(v.search)&&f.append("index",""),v.search="?"+f,{path:Xs(v),submission:m}}function X1(r,e,t){t===void 0&&(t=!1);let i=r.findIndex(s=>s.route.id===e);return i>=0?r.slice(0,t?i+1:i):r}function Z1(r,e,t,i,s,o,l,d,f,p,m,v,b,x,w,C){let _=C?hi(C[1])?C[1].error:C[1].data:void 0,O=r.createURL(e.location),A=r.createURL(s),F=t;o&&e.errors?F=X1(t,Object.keys(e.errors)[0],!0):C&&hi(C[1])&&(F=X1(t,C[0]));let P=C?C[1].statusCode:void 0,K=l&&P&&P>=400,le=F.filter((ne,re)=>{let{route:ve}=ne;if(ve.lazy)return!0;if(ve.loader==null)return!1;if(o)return v0(ve,e.loaderData,e.errors);if(wP(e.loaderData,e.matches[re],ne)||f.some(Re=>Re===ne.route.id))return!0;let Le=e.matches[re],ze=ne;return eD(ne,dn({currentUrl:O,currentParams:Le.params,nextUrl:A,nextParams:ze.params},i,{actionResult:_,actionStatus:P,defaultShouldRevalidate:K?!1:d||O.pathname+O.search===A.pathname+A.search||O.search!==A.search||r_(Le,ze)}))}),L=[];return v.forEach((ne,re)=>{if(o||!t.some(be=>be.route.id===ne.routeId)||m.has(re))return;let ve=Jo(x,ne.path,w);if(!ve){L.push({key:re,routeId:ne.routeId,path:ne.path,matches:null,match:null,controller:null});return}let Le=e.fetchers.get(re),ze=jd(ve,ne.path),Re=!1;b.has(re)?Re=!1:p.has(re)?(p.delete(re),Re=!0):Le&&Le.state!=="idle"&&Le.data===void 0?Re=d:Re=eD(ze,dn({currentUrl:O,currentParams:e.matches[e.matches.length-1].params,nextUrl:A,nextParams:t[t.length-1].params},i,{actionResult:_,actionStatus:P,defaultShouldRevalidate:K?!1:d})),Re&&L.push({key:re,routeId:ne.routeId,path:ne.path,matches:ve,match:ze,controller:new AbortController})}),[le,L]}function v0(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let i=e!=null&&e[r.id]!==void 0,s=t!=null&&t[r.id]!==void 0;return!i&&s?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!i&&!s}function wP(r,e,t){let i=!e||t.route.id!==e.route.id,s=r[t.route.id]===void 0;return i||s}function r_(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function eD(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function tD(r,e,t,i,s){var o;let l;if(r){let p=i[r];mt(p,"No route found to patch children into: routeId = "+r),p.children||(p.children=[]),l=p.children}else l=t;let d=e.filter(p=>!l.some(m=>i_(p,m))),f=Fp(d,s,[r||"_","patch",String(((o=l)==null?void 0:o.length)||"0")],i);l.push(...f)}function i_(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,i)=>{var s;return(s=e.children)==null?void 0:s.some(o=>i_(t,o))}):!1}async function SP(r,e,t){if(!r.lazy)return;let i=await r.lazy();if(!r.lazy)return;let s=t[r.id];mt(s,"No route found in manifest");let o={};for(let l in i){let f=s[l]!==void 0&&l!=="hasErrorBoundary";er(!f,'Route "'+s.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!f&&!WV.has(l)&&(o[l]=i[l])}Object.assign(s,o),Object.assign(s,dn({},e(s),{lazy:void 0}))}async function NP(r){let{matches:e}=r,t=e.filter(s=>s.shouldLoad);return(await Promise.all(t.map(s=>s.resolve()))).reduce((s,o,l)=>Object.assign(s,{[t[l].route.id]:o}),{})}async function EP(r,e,t,i,s,o,l,d,f,p){let m=o.map(x=>x.route.lazy?SP(x.route,f,d):void 0),v=o.map((x,w)=>{let C=m[w],_=s.some(A=>A.route.id===x.route.id);return dn({},x,{shouldLoad:_,resolve:async A=>(A&&i.method==="GET"&&(x.route.lazy||x.route.loader)&&(_=!0),_?DP(e,i,x,C,A,p):Promise.resolve({type:Bt.data,result:void 0}))})}),b=await r({matches:v,request:i,params:o[0].params,fetcherKey:l,context:p});try{await Promise.all(m)}catch{}return b}async function DP(r,e,t,i,s,o){let l,d,f=p=>{let m,v=new Promise((w,C)=>m=C);d=()=>m(),e.signal.addEventListener("abort",d);let b=w=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+r+'" [routeId: '+t.route.id+"]"))):p({request:e,params:t.params,context:o},...w!==void 0?[w]:[]),x=(async()=>{try{return{type:"data",result:await(s?s(C=>b(C)):b())}}catch(w){return{type:"error",result:w}}})();return Promise.race([x,v])};try{let p=t.route[r];if(i)if(p){let m,[v]=await Promise.all([f(p).catch(b=>{m=b}),i]);if(m!==void 0)throw m;l=v}else if(await i,p=t.route[r],p)l=await f(p);else if(r==="action"){let m=new URL(e.url),v=m.pathname+m.search;throw Kr(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:Bt.data,result:void 0};else if(p)l=await f(p);else{let m=new URL(e.url),v=m.pathname+m.search;throw Kr(404,{pathname:v})}mt(l.result!==void 0,"You defined "+(r==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+r+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:Bt.error,result:p}}finally{d&&e.signal.removeEventListener("abort",d)}return l}async function CP(r){let{result:e,type:t}=r;if(s_(e)){let v;try{let b=e.headers.get("Content-Type");b&&/\bapplication\/json\b/.test(b)?e.body==null?v=null:v=await e.json():v=await e.text()}catch(b){return{type:Bt.error,error:b}}return t===Bt.error?{type:Bt.error,error:new Bp(e.status,e.statusText,v),statusCode:e.status,headers:e.headers}:{type:Bt.data,data:v,statusCode:e.status,headers:e.headers}}if(t===Bt.error){if(lD(e)){var i,s;if(e.data instanceof Error){var o,l;return{type:Bt.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Bt.error,error:new Bp(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:Wd(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:Bt.error,error:e,statusCode:Wd(e)?e.status:void 0}}if(OP(e)){var d,f;return{type:Bt.deferred,deferredData:e,statusCode:(d=e.init)==null?void 0:d.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(lD(e)){var p,m;return{type:Bt.data,data:e.data,statusCode:(p=e.init)==null?void 0:p.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}}return{type:Bt.data,data:e}}function _P(r,e,t,i,s,o){let l=r.headers.get("Location");if(mt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Q0.test(l)){let d=i.slice(0,i.findIndex(f=>f.route.id===t)+1);l=g0(new URL(e.url),d,s,!0,l,o),r.headers.set("Location",l)}return r}function nD(r,e,t){if(Q0.test(r)){let i=r,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),o=na(s.pathname,t)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return r}function gu(r,e,t,i){let s=r.createURL(a_(e)).toString(),o={signal:t};if(i&&Zi(i.formMethod)){let{formMethod:l,formEncType:d}=i;o.method=l.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(i.json)):d==="text/plain"?o.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?o.body=y0(i.formData):o.body=i.formData}return new Request(s,o)}function y0(r){let e=new URLSearchParams;for(let[t,i]of r.entries())e.append(t,typeof i=="string"?i:i.name);return e}function rD(r){let e=new FormData;for(let[t,i]of r.entries())e.append(t,i);return e}function TP(r,e,t,i,s){let o={},l=null,d,f=!1,p={},m=t&&hi(t[1])?t[1].error:void 0;return r.forEach(v=>{if(!(v.route.id in e))return;let b=v.route.id,x=e[b];if(mt(!Zo(x),"Cannot handle redirect results in processLoaderData"),hi(x)){let w=x.error;m!==void 0&&(w=m,m=void 0),l=l||{};{let C=Ko(r,b);l[C.route.id]==null&&(l[C.route.id]=w)}o[b]=void 0,f||(f=!0,d=Wd(x.error)?x.error.status:500),x.headers&&(p[b]=x.headers)}else Bs(x)?(i.set(b,x.deferredData),o[b]=x.deferredData.data,x.statusCode!=null&&x.statusCode!==200&&!f&&(d=x.statusCode),x.headers&&(p[b]=x.headers)):(o[b]=x.data,x.statusCode&&x.statusCode!==200&&!f&&(d=x.statusCode),x.headers&&(p[b]=x.headers))}),m!==void 0&&t&&(l={[t[0]]:m},o[t[0]]=void 0),{loaderData:o,errors:l,statusCode:d||200,loaderHeaders:p}}function iD(r,e,t,i,s,o,l){let{loaderData:d,errors:f}=TP(e,t,i,l);return s.forEach(p=>{let{key:m,match:v,controller:b}=p,x=o[m];if(mt(x,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(hi(x)){let w=Ko(r.matches,v==null?void 0:v.route.id);f&&f[w.route.id]||(f=dn({},f,{[w.route.id]:x.error})),r.fetchers.delete(m)}else if(Zo(x))mt(!1,"Unhandled fetcher revalidation redirect");else if(Bs(x))mt(!1,"Unhandled fetcher deferred data");else{let w=Us(x.data);r.fetchers.set(m,w)}}),{loaderData:d,errors:f}}function aD(r,e,t,i){let s=dn({},e);for(let o of t){let l=o.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(s[l]=e[l]):r[l]!==void 0&&o.route.loader&&(s[l]=r[l]),i&&i.hasOwnProperty(l))break}return s}function sD(r){return r?hi(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Ko(r,e){return(e?r.slice(0,r.findIndex(i=>i.route.id===e)+1):[...r]).reverse().find(i=>i.route.hasErrorBoundary===!0)||r[0]}function oD(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Kr(r,e){let{pathname:t,routeId:i,method:s,type:o,message:l}=e===void 0?{}:e,d="Unknown Server Error",f="Unknown @remix-run/router error";return r===400?(d="Bad Request",s&&t&&i?f="You made a "+s+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":o==="defer-action"?f="defer() is not supported in actions":o==="invalid-body"&&(f="Unable to encode submission body")):r===403?(d="Forbidden",f='Route "'+i+'" does not match URL "'+t+'"'):r===404?(d="Not Found",f='No route matches URL "'+t+'"'):r===405&&(d="Method Not Allowed",s&&t&&i?f="You made a "+s.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":s&&(f='Invalid request method "'+s.toUpperCase()+'"')),new Bp(r||500,d,new Error(f),!0)}function bp(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(Zo(s))return{key:i,result:s}}}function a_(r){let e=typeof r=="string"?no(r):r;return Xs(dn({},e,{hash:""}))}function kP(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function RP(r){return s_(r.result)&&mP.has(r.result.status)}function Bs(r){return r.type===Bt.deferred}function hi(r){return r.type===Bt.error}function Zo(r){return(r&&r.type)===Bt.redirect}function lD(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function OP(r){let e=r;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function s_(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function MP(r){return pP.has(r.toLowerCase())}function Zi(r){return fP.has(r.toLowerCase())}async function AP(r,e,t,i,s){let o=Object.entries(e);for(let l=0;l<o.length;l++){let[d,f]=o[l],p=r.find(b=>(b==null?void 0:b.route.id)===d);if(!p)continue;let m=i.find(b=>b.route.id===p.route.id),v=m!=null&&!r_(m,p)&&(s&&s[p.route.id])!==void 0;Bs(f)&&v&&await X0(f,t,!1).then(b=>{b&&(e[d]=b)})}}async function UP(r,e,t){for(let i=0;i<t.length;i++){let{key:s,routeId:o,controller:l}=t[i],d=e[s];r.find(p=>(p==null?void 0:p.route.id)===o)&&Bs(d)&&(mt(l,"Expected an AbortController for revalidating fetcher deferred result"),await X0(d,l.signal,!0).then(p=>{p&&(e[s]=p)}))}}async function X0(r,e,t){if(t===void 0&&(t=!1),!await r.deferredData.resolveData(e)){if(t)try{return{type:Bt.data,data:r.deferredData.unwrappedData}}catch(s){return{type:Bt.error,error:s}}return{type:Bt.data,data:r.deferredData.data}}}function Z0(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function jd(r,e){let t=typeof e=="string"?no(e).search:e.search;if(r[r.length-1].route.index&&Z0(t||""))return r[r.length-1];let i=e_(r);return i[i.length-1]}function uD(r){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:o,json:l}=r;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:l,text:void 0}}}function Ib(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jP(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Od(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function LP(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Us(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function zP(r,e){try{let t=r.sessionStorage.getItem(n_);if(t){let i=JSON.parse(t);for(let[s,o]of Object.entries(i||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function VP(r,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{r.sessionStorage.setItem(n_,JSON.stringify(t))}catch(i){er(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hp(){return Hp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Hp.apply(this,arguments)}const Iu=U.createContext(null);Iu.displayName="DataRouter";const om=U.createContext(null);om.displayName="DataRouterState";const PP=U.createContext(null);PP.displayName="Await";const ia=U.createContext(null);ia.displayName="Navigation";const lm=U.createContext(null);lm.displayName="Location";const aa=U.createContext({outlet:null,matches:[],isDataRoute:!1});aa.displayName="Route";const ex=U.createContext(null);ex.displayName="RouteError";function IP(r,e){let{relative:t}=e===void 0?{}:e;af()||mt(!1,"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=U.useContext(ia),{hash:o,pathname:l,search:d}=sf(r,{relative:t}),f=l;return i!=="/"&&(f=l==="/"?i:Da([i,l])),s.createHref({pathname:f,search:d,hash:o})}function af(){return U.useContext(lm)!=null}function dl(){return af()||mt(!1,"useLocation() may be used only in the context of a <Router> component."),U.useContext(lm).location}const o_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function l_(r){U.useContext(ia).static||U.useLayoutEffect(r)}function fl(){let{isDataRoute:r}=U.useContext(aa);return r?tI():FP()}function FP(){af()||mt(!1,"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(Iu),{basename:e,future:t,navigator:i}=U.useContext(ia),{matches:s}=U.useContext(aa),{pathname:o}=dl(),l=JSON.stringify(K0(s,t.v7_relativeSplatPath)),d=U.useRef(!1);return l_(()=>{d.current=!0}),U.useCallback(function(p,m){if(m===void 0&&(m={}),er(d.current,o_),!d.current)return;if(typeof p=="number"){i.go(p);return}let v=Y0(p,JSON.parse(l),o,m.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Da([e,v.pathname])),(m.replace?i.replace:i.push)(v,m.state,m)},[e,i,l,o,r])}const $P=U.createContext(null);function BP(r){let e=U.useContext(aa).outlet;return e&&U.createElement($P.Provider,{value:r},e)}function tx(){let{matches:r}=U.useContext(aa),e=r[r.length-1];return e?e.params:{}}function sf(r,e){let{relative:t}=e===void 0?{}:e,{future:i}=U.useContext(ia),{matches:s}=U.useContext(aa),{pathname:o}=dl(),l=JSON.stringify(K0(s,i.v7_relativeSplatPath));return U.useMemo(()=>Y0(r,JSON.parse(l),o,t==="path"),[r,l,o,t])}function HP(r,e,t,i){af()||mt(!1,"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=U.useContext(ia),{matches:l}=U.useContext(aa),d=l[l.length-1],f=d?d.params:{},p=d?d.pathname:"/",m=d?d.pathnameBase:"/",v=d&&d.route;{let A=v&&v.path||"";c_(p,!v||A.endsWith("*"),"You rendered descendant <Routes> (or called `useRoutes()`) at "+('"'+p+'" (under <Route path="'+A+'">) but the ')+`parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

`+('Please change the parent <Route path="'+A+'"> to <Route ')+('path="'+(A==="/"?"*":A+"/*")+'">.'))}let b=dl(),x;x=b;let w=x.pathname||"/",C=w;if(m!=="/"){let A=m.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=!o&&t&&t.matches&&t.matches.length>0?t.matches:Jo(r,{pathname:C});return er(v||_!=null,'No routes matched location "'+x.pathname+x.search+x.hash+'" '),er(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,'Matched leaf route at location "'+x.pathname+x.search+x.hash+'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'),KP(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:Da([m,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:Da([m,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),l,t,i)}function qP(){let r=eI(),e=Wd(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:s},t):null,l)}const WP=U.createElement(qP,null);class GP extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?U.createElement(aa.Provider,{value:this.props.routeContext},U.createElement(ex.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JP(r){let{routeContext:e,match:t,children:i}=r,s=U.useContext(Iu);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(aa.Provider,{value:e},i)}function KP(r,e,t,i){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),r==null){var o;if(!t)return null;if(t.errors)r=t.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,d=(s=t)==null?void 0:s.errors;if(d!=null){let m=l.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);m>=0||mt(!1,"Could not find a matching route for errors on route IDs: "+Object.keys(d).join(",")),l=l.slice(0,Math.min(l.length,m+1))}let f=!1,p=-1;if(t&&i&&i.v7_partialHydration)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:b,errors:x}=t,w=v.route.loader&&b[v.route.id]===void 0&&(!x||x[v.route.id]===void 0);if(v.route.lazy||w){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,v,b)=>{let x,w=!1,C=null,_=null;t&&(x=d&&v.route.id?d[v.route.id]:void 0,C=v.route.errorElement||WP,f&&(p<0&&b===0?(c_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):p===b&&(w=!0,_=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,b+1)),A=()=>{let F;return x?F=C:w?F=_:v.route.Component?F=U.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=m,U.createElement(JP,{match:v,routeContext:{outlet:m,matches:O,isDataRoute:t!=null},children:F})};return t&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?U.createElement(GP,{location:t.location,revalidation:t.revalidation,component:C,error:x,children:A(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):A()},null)}var u_=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(u_||{}),Gd=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Gd||{});function nx(r){return r+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function YP(r){let e=U.useContext(Iu);return e||mt(!1,nx(r)),e}function QP(r){let e=U.useContext(om);return e||mt(!1,nx(r)),e}function XP(r){let e=U.useContext(aa);return e||mt(!1,nx(r)),e}function rx(r){let e=XP(r),t=e.matches[e.matches.length-1];return t.route.id||mt(!1,r+' can only be used on routes that contain a unique "id"'),t.route.id}function ZP(){return rx(Gd.UseRouteId)}function eI(){var r;let e=U.useContext(ex),t=QP(Gd.UseRouteError),i=rx(Gd.UseRouteError);return e!==void 0?e:(r=t.errors)==null?void 0:r[i]}function tI(){let{router:r}=YP(u_.UseNavigateStable),e=rx(Gd.UseNavigateStable),t=U.useRef(!1);return l_(()=>{t.current=!0}),U.useCallback(function(s,o){o===void 0&&(o={}),er(t.current,o_),t.current&&(typeof s=="number"?r.navigate(s):r.navigate(s,Hp({fromRouteId:e},o)))},[r,e])}const cD={};function c_(r,e,t){!e&&!cD[r]&&(cD[r]=!0,er(!1,t))}const dD={};function nI(r,e){dD[e]||(dD[e]=!0,console.warn(e))}const vu=(r,e,t)=>nI(r," React Router Future Flag Warning: "+e+". "+("You can use the `"+r+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function rI(r,e){(r==null?void 0:r.v7_startTransition)===void 0&&vu("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(r==null?void 0:r.v7_relativeSplatPath)===void 0&&(!e||!e.v7_relativeSplatPath)&&vu("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist===void 0&&vu("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod===void 0&&vu("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration===void 0&&vu("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation===void 0&&vu("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function iI(r){return BP(r.context)}function aI(r){let{basename:e="/",children:t=null,location:i,navigationType:s=kn.Pop,navigator:o,static:l=!1,future:d}=r;af()&&mt(!1,"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:f,navigator:o,static:l,future:Hp({v7_relativeSplatPath:!1},d)}),[f,d,o,l]);typeof i=="string"&&(i=no(i));let{pathname:m="/",search:v="",hash:b="",state:x=null,key:w="default"}=i,C=U.useMemo(()=>{let _=na(m,f);return _==null?null:{location:{pathname:_,search:v,hash:b,state:x,key:w},navigationType:s}},[f,m,v,b,x,w,s]);return er(C!=null,'<Router basename="'+f+'"> is not able to match the URL '+('"'+m+v+b+'" because it does not start with the ')+"basename, so the <Router> won't render anything."),C==null?null:U.createElement(ia.Provider,{value:p},U.createElement(lm.Provider,{children:t,value:C}))}new Promise(()=>{});function sI(r){let e={hasErrorBoundary:r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&er(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:U.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&er(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:U.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&er(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:U.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zs(){return Zs=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Zs.apply(this,arguments)}function ix(r,e){if(r==null)return{};var t={},i=Object.keys(r),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}const Ap="get",Up="application/x-www-form-urlencoded";function um(r){return r!=null&&typeof r.tagName=="string"}function oI(r){return um(r)&&r.tagName.toLowerCase()==="button"}function lI(r){return um(r)&&r.tagName.toLowerCase()==="form"}function uI(r){return um(r)&&r.tagName.toLowerCase()==="input"}function cI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dI(r,e){return r.button===0&&(!e||e==="_self")&&!cI(r)}let xp=null;function fI(){if(xp===null)try{new FormData(document.createElement("form"),0),xp=!1}catch{xp=!0}return xp}const hI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fb(r){return r!=null&&!hI.has(r)?(er(!1,'"'+r+'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` '+('and will default to "'+Up+'"')),null):r}function pI(r,e){let t,i,s,o,l;if(lI(r)){let d=r.getAttribute("action");i=d?na(d,e):null,t=r.getAttribute("method")||Ap,s=Fb(r.getAttribute("enctype"))||Up,o=new FormData(r)}else if(oI(r)||uI(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||d.getAttribute("action");if(i=f?na(f,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Ap,s=Fb(r.getAttribute("formenctype"))||Fb(d.getAttribute("enctype"))||Up,o=new FormData(d,r),!fI()){let{name:p,type:m,value:v}=r;if(m==="image"){let b=p?p+".":"";o.append(b+"x","0"),o.append(b+"y","0")}else p&&o.append(p,v)}}else{if(um(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ap,i=null,s=Up,l=r}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:l}}const mI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gI=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],vI=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],yI="6";try{window.__reactRouterVersion=yI}catch{}function bI(r,e){return bP({basename:void 0,future:Zs({},void 0,{v7_prependBasename:!0}),history:BV({window:void 0}),hydrationData:xI(),routes:r,mapRouteProperties:sI,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function xI(){var r;let e=(r=window)==null?void 0:r.__staticRouterHydrationData;return e&&e.errors&&(e=Zs({},e,{errors:wI(e.errors)})),e}function wI(r){if(!r)return null;let e=Object.entries(r),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new Bp(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let l=new o(s.message);l.stack="",t[i]=l}catch{}}if(t[i]==null){let o=new Error(s.message);o.stack="",t[i]=o}}else t[i]=s;return t}const ax=U.createContext({isTransitioning:!1});ax.displayName="ViewTransition";const d_=U.createContext(new Map);d_.displayName="Fetchers";const SI="startTransition",fD=IV[SI],NI="flushSync",hD=$V[NI];function EI(r){fD?fD(r):r()}function Md(r){hD?hD(r):r()}let DI=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function CI(r){let{fallbackElement:e,router:t,future:i}=r,[s,o]=U.useState(t.state),[l,d]=U.useState(),[f,p]=U.useState({isTransitioning:!1}),[m,v]=U.useState(),[b,x]=U.useState(),[w,C]=U.useState(),_=U.useRef(new Map),{v7_startTransition:O}=i||{},A=U.useCallback(ne=>{O?EI(ne):ne()},[O]),F=U.useCallback((ne,re)=>{let{deletedFetchers:ve,flushSync:Le,viewTransitionOpts:ze}=re;ne.fetchers.forEach((be,ye)=>{be.data!==void 0&&_.current.set(ye,be.data)}),ve.forEach(be=>_.current.delete(be));let Re=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!ze||Re){Le?Md(()=>o(ne)):A(()=>o(ne));return}if(Le){Md(()=>{b&&(m&&m.resolve(),b.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:ze.currentLocation,nextLocation:ze.nextLocation})});let be=t.window.document.startViewTransition(()=>{Md(()=>o(ne))});be.finished.finally(()=>{Md(()=>{v(void 0),x(void 0),d(void 0),p({isTransitioning:!1})})}),Md(()=>x(be));return}b?(m&&m.resolve(),b.skipTransition(),C({state:ne,currentLocation:ze.currentLocation,nextLocation:ze.nextLocation})):(d(ne),p({isTransitioning:!0,flushSync:!1,currentLocation:ze.currentLocation,nextLocation:ze.nextLocation}))},[t.window,b,m,_,A]);U.useLayoutEffect(()=>t.subscribe(F),[t,F]),U.useEffect(()=>{f.isTransitioning&&!f.flushSync&&v(new DI)},[f]),U.useEffect(()=>{if(m&&l&&t.window){let ne=l,re=m.promise,ve=t.window.document.startViewTransition(async()=>{A(()=>o(ne)),await re});ve.finished.finally(()=>{v(void 0),x(void 0),d(void 0),p({isTransitioning:!1})}),x(ve)}},[A,l,m,t.window]),U.useEffect(()=>{m&&l&&s.location.key===l.location.key&&m.resolve()},[m,b,s.location,l]),U.useEffect(()=>{!f.isTransitioning&&w&&(d(w.state),p({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),C(void 0))},[f.isTransitioning,w]),U.useEffect(()=>{er(e==null||!t.future.v7_partialHydration,"`<RouterProvider fallbackElement>` is deprecated when using `v7_partialHydration`, use a `HydrateFallback` component instead")},[]);let P=U.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:ne=>t.navigate(ne),push:(ne,re,ve)=>t.navigate(ne,{state:re,preventScrollReset:ve==null?void 0:ve.preventScrollReset}),replace:(ne,re,ve)=>t.navigate(ne,{replace:!0,state:re,preventScrollReset:ve==null?void 0:ve.preventScrollReset})}),[t]),K=t.basename||"/",le=U.useMemo(()=>({router:t,navigator:P,static:!1,basename:K}),[t,P,K]),L=U.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return U.useEffect(()=>rI(i,t.future),[i,t.future]),U.createElement(U.Fragment,null,U.createElement(Iu.Provider,{value:le},U.createElement(om.Provider,{value:s},U.createElement(d_.Provider,{value:_.current},U.createElement(ax.Provider,{value:f},U.createElement(aI,{basename:K,location:s.location,navigationType:s.historyAction,navigator:P,future:L},s.initialized||t.future.v7_partialHydration?U.createElement(_I,{routes:t.routes,future:t.future,state:s}):e))))),null)}const _I=U.memo(TI);function TI(r){let{routes:e,future:t,state:i}=r;return HP(e,void 0,i,t)}const kI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pi=U.forwardRef(function(e,t){let{onClick:i,relative:s,reloadDocument:o,replace:l,state:d,target:f,to:p,preventScrollReset:m,viewTransition:v}=e,b=ix(e,mI),{basename:x}=U.useContext(ia),w,C=!1;if(typeof p=="string"&&RI.test(p)&&(w=p,kI))try{let F=new URL(window.location.href),P=p.startsWith("//")?new URL(F.protocol+p):new URL(p),K=na(P.pathname,x);P.origin===F.origin&&K!=null?p=K+P.search+P.hash:C=!0}catch{er(!1,'<Link to="'+p+'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.')}let _=IP(p,{relative:s}),O=UI(p,{replace:l,state:d,target:f,preventScrollReset:m,relative:s,viewTransition:v});function A(F){i&&i(F),F.defaultPrevented||O(F)}return U.createElement("a",Zs({},b,{href:w||_,onClick:C||o?i:A,ref:t,target:f}))});pi.displayName="Link";const OI=U.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:s=!1,className:o="",end:l=!1,style:d,to:f,viewTransition:p,children:m}=e,v=ix(e,gI),b=sf(f,{relative:v.relative}),x=dl(),w=U.useContext(om),{navigator:C,basename:_}=U.useContext(ia),O=w!=null&&II(b)&&p===!0,A=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,F=x.pathname,P=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(F=F.toLowerCase(),P=P?P.toLowerCase():null,A=A.toLowerCase()),P&&_&&(P=na(P,_)||P);const K=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let le=F===A||!l&&F.startsWith(A)&&F.charAt(K)==="/",L=P!=null&&(P===A||!l&&P.startsWith(A)&&P.charAt(A.length)==="/"),ne={isActive:le,isPending:L,isTransitioning:O},re=le?i:void 0,ve;typeof o=="function"?ve=o(ne):ve=[o,le?"active":null,L?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let Le=typeof d=="function"?d(ne):d;return U.createElement(pi,Zs({},v,{"aria-current":re,className:ve,ref:t,style:Le,to:f,viewTransition:p}),typeof m=="function"?m(ne):m)});OI.displayName="NavLink";const MI=U.forwardRef((r,e)=>{let{fetcherKey:t,navigate:i,reloadDocument:s,replace:o,state:l,method:d=Ap,action:f,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:b}=r,x=ix(r,vI),w=VI(),C=PI(f,{relative:m}),_=d.toLowerCase()==="get"?"get":"post",O=A=>{if(p&&p(A),A.defaultPrevented)return;A.preventDefault();let F=A.nativeEvent.submitter,P=(F==null?void 0:F.getAttribute("formmethod"))||d;w(F||A.currentTarget,{fetcherKey:t,method:P,navigate:i,replace:o,state:l,relative:m,preventScrollReset:v,viewTransition:b})};return U.createElement("form",Zs({ref:e,method:_,action:C,onSubmit:s?p:O},x))});MI.displayName="Form";var qp;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(qp||(qp={}));var pD;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(pD||(pD={}));function AI(r){return r+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function f_(r){let e=U.useContext(Iu);return e||mt(!1,AI(r)),e}function UI(r,e){let{target:t,replace:i,state:s,preventScrollReset:o,relative:l,viewTransition:d}=e===void 0?{}:e,f=fl(),p=dl(),m=sf(r,{relative:l});return U.useCallback(v=>{if(dI(v,t)){v.preventDefault();let b=i!==void 0?i:Xs(p)===Xs(m);f(r,{replace:b,state:s,preventScrollReset:o,relative:l,viewTransition:d})}},[p,f,m,i,s,t,r,o,l,d])}function jI(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let LI=0,zI=()=>"__"+String(++LI)+"__";function VI(){let{router:r}=f_(qp.UseSubmit),{basename:e}=U.useContext(ia),t=ZP();return U.useCallback(function(i,s){s===void 0&&(s={}),jI();let{action:o,method:l,encType:d,formData:f,body:p}=pI(i,e);if(s.navigate===!1){let m=s.fetcherKey||zI();r.fetch(m,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||d,flushSync:s.flushSync})}else r.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function PI(r,e){let{relative:t}=e===void 0?{}:e,{basename:i}=U.useContext(ia),s=U.useContext(aa);s||mt(!1,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l=Zs({},sf(r||".",{relative:t})),d=dl();if(r==null){l.search=d.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?"?"+v:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(l.pathname=l.pathname==="/"?i:Da([i,l.pathname])),Xs(l)}function II(r,e){e===void 0&&(e={});let t=U.useContext(ax);t==null&&mt(!1,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=f_(qp.useViewTransitionState),s=sf(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=na(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=na(t.nextLocation.pathname,i)||t.nextLocation.pathname;return $p(s.pathname,l)!=null||$p(s.pathname,o)!=null}const FI="modulepreload",$I=function(r){return"/"+r},mD={},Ou=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(t.map(f=>{if(f=$I(f),f in mD)return;mD[f]=!0;const p=f.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":FI,p||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),p)return new Promise((b,x)=>{v.addEventListener("load",b),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return s.then(l=>{for(const d of l||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})},BI=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ou(async()=>{const{default:i}=await Promise.resolve().then(()=>Fu);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class sx extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class HI extends sx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class qI extends sx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class WI extends sx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var b0;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(b0||(b0={}));var GI=function(r,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function d(m){try{p(i.next(m))}catch(v){l(v)}}function f(m){try{p(i.throw(m))}catch(v){l(v)}}function p(m){m.done?o(m.value):s(m.value).then(d,f)}p((i=i.apply(r,e||[])).next())})};class JI{constructor(e,{headers:t={},customFetch:i,region:s=b0.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=BI(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return GI(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:l}=t;let d={},{region:f}=t;f||(f=this.region),f&&f!=="any"&&(d["x-region"]=f);let p;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(d["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(d["Content-Type"]="application/json",p=JSON.stringify(l)));const m=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:p}).catch(w=>{throw new HI(w)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new qI(m);if(!m.ok)throw new WI(m);let b=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),x;return b==="application/json"?x=yield m.json():b==="application/octet-stream"?x=yield m.blob():b==="text/event-stream"?x=m:b==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null}}catch(s){return{data:null,error:s}}})}}var Yr={},ox={},cm={},of={},dm={},fm={},KI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mu=KI();const YI=Mu.fetch,h_=Mu.fetch.bind(Mu),p_=Mu.Headers,QI=Mu.Request,XI=Mu.Response,Fu=Object.freeze(Object.defineProperty({__proto__:null,Headers:p_,Request:QI,Response:XI,default:h_,fetch:YI},Symbol.toStringTag,{value:"Module"})),ZI=VV(Fu);var hm={};Object.defineProperty(hm,"__esModule",{value:!0});let eF=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};hm.default=eF;var m_=Ai&&Ai.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fm,"__esModule",{value:!0});const tF=m_(ZI),nF=m_(hm);let rF=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=tF.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var l,d,f;let p=null,m=null,v=null,b=o.status,x=o.statusText;if(o.ok){if(this.method!=="HEAD"){const O=await o.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=O:m=JSON.parse(O))}const C=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),_=(d=o.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");C&&_&&_.length>1&&(v=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,v=null,b=406,x="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const C=await o.text();try{p=JSON.parse(C),Array.isArray(p)&&o.status===404&&(m=[],p=null,b=200,x="OK")}catch{o.status===404&&C===""?(b=204,x="No Content"):p={message:C}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,b=200,x="OK"),p&&this.shouldThrowOnError)throw new nF.default(p)}return{error:p,data:m,count:v,status:b,statusText:x}});return this.shouldThrowOnError||(s=s.catch(o=>{var l,d,f;return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(d=o==null?void 0:o.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=o==null?void 0:o.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}};fm.default=rF;var iF=Ai&&Ai.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dm,"__esModule",{value:!0});const aF=iF(fm);let sF=class extends aF.default{select(e){let t=!1;const i=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:i,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",d=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${d?`${d},`:""}${e}.${t?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:i=t}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(l,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:i=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var d;const f=[e?"analyze":null,t?"verbose":null,i?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${p}"; options=${f};`,l==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};dm.default=sF;var oF=Ai&&Ai.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(of,"__esModule",{value:!0});const lF=oF(dm);let uF=class extends lF.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const i=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:i,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${o}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,i])=>{this.url.searchParams.append(t,`eq.${i}`)}),this}not(e,t,i){return this.url.searchParams.append(e,`not.${t}.${i}`),this}or(e,{foreignTable:t,referencedTable:i=t}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,i){return this.url.searchParams.append(e,`${t}.${i}`),this}};of.default=uF;var cF=Ai&&Ai.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cm,"__esModule",{value:!0});const Ad=cF(of);let dF=class{constructor(e,{headers:t={},schema:i,fetch:s}){this.url=e,this.headers=t,this.schema=i,this.fetch=s}select(e,{head:t=!1,count:i}={}){const s=t?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",l),i&&(this.headers.Prefer=`count=${i}`),new Ad.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:i=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(l.length>0){const d=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ad.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:i=!1,count:s,defaultToNull:o=!0}={}){const l="POST",d=[`resolution=${i?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&d.push(this.headers.Prefer),s&&d.push(`count=${s}`),o||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(e)){const f=e.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new Ad.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const i="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new Ad.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",i=[];return e&&i.push(`count=${e}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Ad.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};cm.default=dF;var pm={},mm={};Object.defineProperty(mm,"__esModule",{value:!0});mm.version=void 0;mm.version="0.0.0-automated";Object.defineProperty(pm,"__esModule",{value:!0});pm.DEFAULT_HEADERS=void 0;const fF=mm;pm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fF.version}`};var g_=Ai&&Ai.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ox,"__esModule",{value:!0});const hF=g_(cm),pF=g_(of),mF=pm;let gF=class v_{constructor(e,{headers:t={},schema:i,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},mF.DEFAULT_HEADERS),t),this.schemaName=i,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new hF.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new v_(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,get:s=!1,count:o}={}){let l;const d=new URL(`${this.url}/rpc/${e}`);let f;i||s?(l=i?"HEAD":"GET",Object.entries(t).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{d.searchParams.append(m,v)})):(l="POST",f=t);const p=Object.assign({},this.headers);return o&&(p.Prefer=`count=${o}`),new pF.default({method:l,url:d,headers:p,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}};ox.default=gF;var $u=Ai&&Ai.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.PostgrestError=Yr.PostgrestBuilder=Yr.PostgrestTransformBuilder=Yr.PostgrestFilterBuilder=Yr.PostgrestQueryBuilder=Yr.PostgrestClient=void 0;const y_=$u(ox);Yr.PostgrestClient=y_.default;const b_=$u(cm);Yr.PostgrestQueryBuilder=b_.default;const x_=$u(of);Yr.PostgrestFilterBuilder=x_.default;const w_=$u(dm);Yr.PostgrestTransformBuilder=w_.default;const S_=$u(fm);Yr.PostgrestBuilder=S_.default;const N_=$u(hm);Yr.PostgrestError=N_.default;var vF=Yr.default={PostgrestClient:y_.default,PostgrestQueryBuilder:b_.default,PostgrestFilterBuilder:x_.default,PostgrestTransformBuilder:w_.default,PostgrestBuilder:S_.default,PostgrestError:N_.default};const{PostgrestClient:yF,PostgrestQueryBuilder:I6,PostgrestFilterBuilder:F6,PostgrestTransformBuilder:$6,PostgrestBuilder:B6,PostgrestError:H6}=vF,bF="2.11.2",xF={"X-Client-Info":`realtime-js/${bF}`},wF="1.0.0",E_=1e4,SF=1e3;var Tu;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Tu||(Tu={}));var fi;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(fi||(fi={}));var ea;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ea||(ea={}));var x0;(function(r){r.websocket="websocket"})(x0||(x0={}));var Yo;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Yo||(Yo={}));class NF{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const s=t.getUint8(1),o=t.getUint8(2);let l=this.HEADER_LENGTH+2;const d=i.decode(e.slice(l,l+s));l=l+s;const f=i.decode(e.slice(l,l+o));l=l+o;const p=JSON.parse(i.decode(e.slice(l,e.byteLength)));return{ref:null,topic:d,event:f,payload:p}}}class D_{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nn;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(nn||(nn={}));const gD=(r,e,t={})=>{var i;const s=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((o,l)=>(o[l]=EF(l,r,e,s),o),{})},EF=(r,e,t,i)=>{const s=e.find(d=>d.name===r),o=s==null?void 0:s.type,l=t[r];return o&&!i.includes(o)?C_(o,l):w0(l)},C_=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return TF(e,t)}switch(r){case nn.bool:return DF(e);case nn.float4:case nn.float8:case nn.int2:case nn.int4:case nn.int8:case nn.numeric:case nn.oid:return CF(e);case nn.json:case nn.jsonb:return _F(e);case nn.timestamp:return kF(e);case nn.abstime:case nn.date:case nn.daterange:case nn.int4range:case nn.int8range:case nn.money:case nn.reltime:case nn.text:case nn.time:case nn.timestamptz:case nn.timetz:case nn.tsrange:case nn.tstzrange:return w0(e);default:return w0(e)}},w0=r=>r,DF=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},CF=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},_F=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},TF=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,i=r[t];if(r[0]==="{"&&i==="}"){let o;const l=r.slice(1,t);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(d=>C_(e,d))}return r},kF=r=>typeof r=="string"?r.replace(" ","T"):r,__=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class $b{constructor(e,t,i={},s=E_){this.channel=e,this.event=t,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var vD;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(vD||(vD={}));class Id{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Id.syncState(this.state,s,o,l),this.pendingDiffs.forEach(f=>{this.state=Id.syncDiff(this.state,f,o,l)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Id.syncDiff(this.state,s,o,l),d())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,s){const o=this.cloneDeep(e),l=this.transformState(t),d={},f={};return this.map(o,(p,m)=>{l[p]||(f[p]=m)}),this.map(l,(p,m)=>{const v=o[p];if(v){const b=m.map(_=>_.presence_ref),x=v.map(_=>_.presence_ref),w=m.filter(_=>x.indexOf(_.presence_ref)<0),C=v.filter(_=>b.indexOf(_.presence_ref)<0);w.length>0&&(d[p]=w),C.length>0&&(f[p]=C)}else d[p]=m}),this.syncDiff(o,{joins:d,leaves:f},i,s)}static syncDiff(e,t,i,s){const{joins:o,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(d,f)=>{var p;const m=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(f),m.length>0){const v=e[d].map(x=>x.presence_ref),b=m.filter(x=>v.indexOf(x.presence_ref)<0);e[d].unshift(...b)}i(d,m,f)}),this.map(l,(d,f)=>{let p=e[d];if(!p)return;const m=f.map(v=>v.presence_ref);p=p.filter(v=>m.indexOf(v.presence_ref)<0),e[d]=p,s(d,p,f),p.length===0&&delete e[d]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const s=e[i];return"metas"in s?t[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[i]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yD;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(yD||(yD={}));var bD;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(bD||(bD={}));var es;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(es||(es={}));class lx{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=fi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new $b(this,ea.join,this.params,this.timeout),this.rejoinTimer=new D_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fi.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ea.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Id(this),this.broadcastEndpointURL=__(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:l,private:d}}=this.params;this._onError(m=>e==null?void 0:e(es.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(es.CLOSED));const f={},p={broadcast:o,presence:l,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(m=>m.filter))!==null&&s!==void 0?s:[],private:d};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){e==null||e(es.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,x=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,w=[];for(let C=0;C<x;C++){const _=b[C],{filter:{event:O,schema:A,table:F,filter:P}}=_,K=m&&m[C];if(K&&K.event===O&&K.schema===A&&K.table===F&&K.filter===P)w.push(Object.assign(Object.assign({},_),{id:K.id}));else{this.unsubscribe(),e==null||e(es.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(es.SUBSCRIBED);return}}).receive("error",m=>{e==null||e(es.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(es.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this._on(e,t,i)}async send(e,t={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=p.body)===null||s===void 0?void 0:s.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,d,f;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=fi.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ea.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const s=new $b(this,ea.leave,{},e);s.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,t,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(o),l}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $b(this,e,t,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var s,o;const l=e.toLocaleLowerCase(),{close:d,error:f,leave:p,join:m}=ea;if(i&&[d,f,p,m].indexOf(l)>=0&&i!==this._joinRef())return;let b=this._onMessage(l,t,i);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var w,C,_;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(C=x.filter)===null||C===void 0?void 0:C.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(x=>x.callback(b,i)):(o=this.bindings[l])===null||o===void 0||o.filter(x=>{var w,C,_,O,A,F;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const P=x.id,K=(w=x.filter)===null||w===void 0?void 0:w.event;return P&&((C=t.ids)===null||C===void 0?void 0:C.includes(P))&&(K==="*"||(K==null?void 0:K.toLocaleLowerCase())===((_=t.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const P=(A=(O=x==null?void 0:x.filter)===null||O===void 0?void 0:O.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return P==="*"||P===((F=t==null?void 0:t.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof b=="object"&&"ids"in b){const w=b.data,{schema:C,table:_,commit_timestamp:O,type:A,errors:F}=w;b=Object.assign(Object.assign({},{schema:C,table:_,commit_timestamp:O,eventType:A,new:{},old:{},errors:F}),this._getPayloadRecords(w))}x.callback(b,i)})}_isClosed(){return this.state===fi.closed}_isJoined(){return this.state===fi.joined}_isJoining(){return this.state===fi.joining}_isLeaving(){return this.state===fi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const s=e.toLocaleLowerCase(),o={type:s,filter:t,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&lx.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ea.close,{},e)}_onError(e){this._on(ea.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=gD(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=gD(e.columns,e.old_record)),t}}const RF=()=>{},OF=typeof WebSocket<"u",MF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AF{constructor(e,t){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=xF,this.params={},this.timeout=E_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=RF,this.conn=null,this.sendBuffer=[],this.serializer=new NF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...d)=>Ou(async()=>{const{default:f}=await Promise.resolve().then(()=>Fu);return{default:f}},void 0).then(({default:f})=>f(...d)):l=fetch,(...d)=>l(...d)},this.endPoint=`${e}/${x0.websocket}`,this.httpEndpoint=__(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(i=t==null?void 0:t.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(o,l)=>l(JSON.stringify(o)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new D_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(OF){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new UF(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ou(async()=>{const{default:e}=await import("./browser-CJ9-8_NZ.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wF}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Tu.connecting:return Yo.Connecting;case Tu.open:return Yo.Open;case Tu.closing:return Yo.Closing;default:return Yo.Closed}}isConnected(){return this.connectionState()===Yo.Open}channel(e,t={config:{}}){const i=new lx(`realtime:${e}`,t,this);return this.channels.push(i),i}push(e){const{topic:t,event:i,payload:s,ref:o}=e,l=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${t} ${i} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let i=null;try{i=JSON.parse(atob(t.split(".")[1]))}catch{}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`);this.accessTokenValue=t,this.channels.forEach(s=>{t&&s.updateJoinPayload({access_token:t}),s.joinedOnce&&s._isJoined()&&s._push(ea.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(SF,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:i,event:s,payload:o,ref:l}=t;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${i} ${s} ${l&&"("+l+")"||""}`,o),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(s,o,l)),this.stateChangeCallbacks.message.forEach(d=>d(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ea.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${i}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([MF],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}}class UF{constructor(e,t,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Tu.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}}class ux extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Qn(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class jF extends ux{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class S0 extends ux{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var LF=function(r,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function d(m){try{p(i.next(m))}catch(v){l(v)}}function f(m){try{p(i.throw(m))}catch(v){l(v)}}function p(m){m.done?o(m.value):s(m.value).then(d,f)}p((i=i.apply(r,e||[])).next())})};const T_=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ou(async()=>{const{default:i}=await Promise.resolve().then(()=>Fu);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},zF=()=>LF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ou(()=>Promise.resolve().then(()=>Fu),void 0)).Response:Response}),N0=r=>{if(Array.isArray(r))return r.map(t=>N0(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,i])=>{const s=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=N0(i)}),e};var hl=function(r,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function d(m){try{p(i.next(m))}catch(v){l(v)}}function f(m){try{p(i.throw(m))}catch(v){l(v)}}function p(m){m.done?o(m.value):s(m.value).then(d,f)}p((i=i.apply(r,e||[])).next())})};const Bb=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),VF=(r,e,t)=>hl(void 0,void 0,void 0,function*(){const i=yield zF();r instanceof i&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{e(new jF(Bb(s),r.status||500))}).catch(s=>{e(new S0(Bb(s),s))}):e(new S0(Bb(r),r))}),PF=(r,e,t,i)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),t))};function lf(r,e,t,i,s,o){return hl(this,void 0,void 0,function*(){return new Promise((l,d)=>{r(t,PF(e,i,s,o)).then(f=>{if(!f.ok)throw f;return i!=null&&i.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>VF(f,d,i))})})}function Wp(r,e,t,i){return hl(this,void 0,void 0,function*(){return lf(r,"GET",e,t,i)})}function Vs(r,e,t,i,s){return hl(this,void 0,void 0,function*(){return lf(r,"POST",e,i,s,t)})}function IF(r,e,t,i,s){return hl(this,void 0,void 0,function*(){return lf(r,"PUT",e,i,s,t)})}function FF(r,e,t,i){return hl(this,void 0,void 0,function*(){return lf(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function k_(r,e,t,i,s){return hl(this,void 0,void 0,function*(){return lf(r,"DELETE",e,i,s,t)})}var Jr=function(r,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function d(m){try{p(i.next(m))}catch(v){l(v)}}function f(m){try{p(i.throw(m))}catch(v){l(v)}}function p(m){m.done?o(m.value):s(m.value).then(d,f)}p((i=i.apply(r,e||[])).next())})};const $F={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class BF{constructor(e,t={},i,s){this.url=e,this.headers=t,this.bucketId=i,this.fetch=T_(s)}uploadOrUpdate(e,t,i,s){return Jr(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},xD),s);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f))):(o=i,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),s!=null&&s.headers&&(d=Object.assign(Object.assign({},d),s.headers));const p=this._removeEmptyFolders(t),m=this._getFinalPath(p),v=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:e,body:o,headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{})),b=yield v.json();return v.ok?{data:{path:p,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(o){if(Qn(o))return{data:null,error:o};throw o}})}upload(e,t,i){return Jr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,s){return Jr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",t);try{let f;const p=Object.assign({upsert:xD.upsert},s),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",p.cacheControl)):(f=i,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const v=yield this.fetch(d.toString(),{method:"PUT",body:f,headers:m}),b=yield v.json();return v.ok?{data:{path:o,fullPath:b.Key},error:null}:{data:null,error:b}}catch(f){if(Qn(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,t){return Jr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=yield Vs(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(this.url+o.url),d=l.searchParams.get("token");if(!d)throw new ux("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:d},error:null}}catch(i){if(Qn(i))return{data:null,error:i};throw i}})}update(e,t,i){return Jr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return Jr(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Qn(s))return{data:null,error:s};throw s}})}copy(e,t,i){return Jr(this,void 0,void 0,function*(){try{return{data:{path:(yield Vs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Qn(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,i){return Jr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Vs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if(Qn(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,i){return Jr(this,void 0,void 0,function*(){try{const s=yield Vs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if(Qn(s))return{data:null,error:s};throw s}})}download(e,t){return Jr(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=o?`?${o}`:"";try{const d=this._getFinalPath(e);return{data:yield(yield Wp(this.fetch,`${this.url}/${s}/${d}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(Qn(d))return{data:null,error:d};throw d}})}info(e){return Jr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield Wp(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:N0(i),error:null}}catch(i){if(Qn(i))return{data:null,error:i};throw i}})}exists(e){return Jr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield FF(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Qn(i)&&i instanceof S0){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),s=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&s.push(o);const d=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});f!==""&&s.push(f);let p=s.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${p}`)}}}remove(e){return Jr(this,void 0,void 0,function*(){try{return{data:yield k_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Qn(t))return{data:null,error:t};throw t}})}list(e,t,i){return Jr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},$F),t),{prefix:e||""});return{data:yield Vs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(Qn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const HF="2.7.1",qF={"X-Client-Info":`storage-js/${HF}`};var yu=function(r,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function d(m){try{p(i.next(m))}catch(v){l(v)}}function f(m){try{p(i.throw(m))}catch(v){l(v)}}function p(m){m.done?o(m.value):s(m.value).then(d,f)}p((i=i.apply(r,e||[])).next())})};class WF{constructor(e,t={},i){this.url=e,this.headers=Object.assign(Object.assign({},qF),t),this.fetch=T_(i)}listBuckets(){return yu(this,void 0,void 0,function*(){try{return{data:yield Wp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Qn(e))return{data:null,error:e};throw e}})}getBucket(e){return yu(this,void 0,void 0,function*(){try{return{data:yield Wp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Qn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return yu(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Qn(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return yu(this,void 0,void 0,function*(){try{return{data:yield IF(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Qn(i))return{data:null,error:i};throw i}})}emptyBucket(e){return yu(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Qn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return yu(this,void 0,void 0,function*(){try{return{data:yield k_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Qn(t))return{data:null,error:t};throw t}})}}class GF extends WF{constructor(e,t={},i){super(e,t,i)}from(e){return new BF(this.url,this.headers,e,this.fetch)}}const JF="2.49.1";let Ld="";typeof Deno<"u"?Ld="deno":typeof document<"u"?Ld="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ld="react-native":Ld="node";const KF={"X-Client-Info":`supabase-js-${Ld}/${JF}`},YF={headers:KF},QF={schema:"public"},XF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZF={};var e$=function(r,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function d(m){try{p(i.next(m))}catch(v){l(v)}}function f(m){try{p(i.throw(m))}catch(v){l(v)}}function p(m){m.done?o(m.value):s(m.value).then(d,f)}p((i=i.apply(r,e||[])).next())})};const t$=r=>{let e;return r?e=r:typeof fetch>"u"?e=h_:e=fetch,(...t)=>e(...t)},n$=()=>typeof Headers>"u"?p_:Headers,r$=(r,e,t)=>{const i=t$(t),s=n$();return(o,l)=>e$(void 0,void 0,void 0,function*(){var d;const f=(d=yield e())!==null&&d!==void 0?d:r;let p=new s(l==null?void 0:l.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),i(o,Object.assign(Object.assign({},l),{headers:p}))})};var i$=function(r,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function d(m){try{p(i.next(m))}catch(v){l(v)}}function f(m){try{p(i.throw(m))}catch(v){l(v)}}function p(m){m.done?o(m.value):s(m.value).then(d,f)}p((i=i.apply(r,e||[])).next())})};function a$(r){return r.replace(/\/$/,"")}function s$(r,e){const{db:t,auth:i,realtime:s,global:o}=r,{db:l,auth:d,realtime:f,global:p}=e,m={db:Object.assign(Object.assign({},l),t),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},f),s),global:Object.assign(Object.assign({},p),o),accessToken:()=>i$(this,void 0,void 0,function*(){return""})};return r.accessToken?m.accessToken=r.accessToken:delete m.accessToken,m}const R_="2.68.0",Nu=30*1e3,E0=3,Hb=E0*Nu,o$="http://localhost:9999",l$="supabase.auth.token",u$={"X-Client-Info":`gotrue-js/${R_}`},D0="X-Supabase-Api-Version",O_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function c$(r){return Math.round(Date.now()/1e3)+r}function d$(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const wa=()=>typeof window<"u"&&typeof document<"u",Wo={tested:!1,writable:!1},Fd=()=>{if(!wa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wo.tested)return Wo.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Wo.tested=!0,Wo.writable=!0}catch{Wo.tested=!0,Wo.writable=!1}return Wo.writable};function f$(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return t.searchParams.forEach((i,s)=>{e[s]=i}),e}const M_=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>Ou(async()=>{const{default:i}=await Promise.resolve().then(()=>Fu);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},h$=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",A_=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},wp=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Sp=async(r,e)=>{await r.removeItem(e)};function p$(r){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",i,s,o,l,d,f,p,m=0;for(r=r.replace("-","+").replace("_","/");m<r.length;)l=e.indexOf(r.charAt(m++)),d=e.indexOf(r.charAt(m++)),f=e.indexOf(r.charAt(m++)),p=e.indexOf(r.charAt(m++)),i=l<<2|d>>4,s=(d&15)<<4|f>>2,o=(f&3)<<6|p,t=t+String.fromCharCode(i),f!=64&&s!=0&&(t=t+String.fromCharCode(s)),p!=64&&o!=0&&(t=t+String.fromCharCode(o));return t}class gm{constructor(){this.promise=new gm.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}gm.promiseConstructor=Promise;function wD(r){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=r.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const i=t[1];return JSON.parse(p$(i))}async function m$(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function g$(r,e){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await r(o);if(!e(o,null,l)){i(l);return}}catch(l){if(!e(o,l)){s(l);return}}})()})}function v$(r){return("0"+r.toString(16)).substr(-2)}function y$(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let s="";for(let o=0;o<56;o++)s+=t.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,v$).join("")}async function b$(r){const t=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}function x$(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function w$(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await b$(r);return x$(t)}async function bu(r,e,t=!1){const i=y$();let s=i;t&&(s+="/PASSWORD_RECOVERY"),await A_(r,`${e}-code-verifier`,s);const o=await w$(i);return[o,i===o?"plain":"s256"]}const S$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function N$(r){const e=r.headers.get(D0);if(!e||!e.match(S$))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class cx extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function dt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class E$ extends cx{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function D$(r){return dt(r)&&r.name==="AuthApiError"}class U_ extends cx{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class pl extends cx{constructor(e,t,i,s){super(e,i,s),this.name=t,this.status=i}}class js extends pl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function C$(r){return dt(r)&&r.name==="AuthSessionMissingError"}class qb extends pl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Np extends pl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ep extends pl{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _$(r){return dt(r)&&r.name==="AuthImplicitGrantRedirectError"}class SD extends pl{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class C0 extends pl{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Wb(r){return dt(r)&&r.name==="AuthRetryableFetchError"}class ND extends pl{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}var T$=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t};const Go=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),k$=[502,503,504];async function ED(r){var e;if(!h$(r))throw new C0(Go(r),0);if(k$.includes(r.status))throw new C0(Go(r),r.status);let t;try{t=await r.json()}catch(o){throw new U_(Go(o),o)}let i;const s=N$(r);if(s&&s.getTime()>=O_["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new ND(Go(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new js}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new ND(Go(t),r.status,t.weak_password.reasons);throw new E$(Go(t),r.status||500,i)}const R$=(r,e,t,i)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),t))};async function Et(r,e,t,i){var s;const o=Object.assign({},i==null?void 0:i.headers);o[D0]||(o[D0]=O_["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const l=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(l.redirect_to=i.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await O$(r,e,t+d,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}}async function O$(r,e,t,i,s,o){const l=R$(e,i,s,o);let d;try{d=await r(t,Object.assign({},l))}catch(f){throw console.error(f),new C0(Go(f),0)}if(d.ok||await ED(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(f){await ED(f)}}function Ls(r){var e;let t=null;j$(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=c$(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:i},error:null}}function DD(r){const e=Ls(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Fs(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function M$(r){return{data:r,error:null}}function A$(r){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:o}=r,l=T$(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:o},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function U$(r){return r}function j$(r){return r.access_token&&r.refresh_token&&r.expires_in}var L$=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t};class z${constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=M_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Et(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(dt(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await Et(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Fs})}catch(i){if(dt(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=L$(e,["options"]),s=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await Et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:A$,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(dt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Et(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fs})}catch(t){if(dt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,s,o,l,d,f;try{const p={nextPage:null,lastPage:0,total:0},m=await Et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:U$});if(m.error)throw m.error;const v=await m.json(),b=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(f=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(w=>{const C=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);p[`${_}Page`]=C}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(dt(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){try{return await Et(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fs})}catch(t){if(dt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Et(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Fs})}catch(i){if(dt(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){try{return await Et(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Fs})}catch(i){if(dt(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){try{const{data:t,error:i}=await Et(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:i}}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Et(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(dt(t))return{data:null,error:t};throw t}}}const V$={getItem:r=>Fd()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Fd()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Fd()&&globalThis.localStorage.removeItem(r)}};function CD(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function P$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xu={debug:!!(globalThis&&Fd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class j_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class I$ extends j_{}async function F$(r,e,t){xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),xu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new I$(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(xu.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}P$();const $$={url:o$,storageKey:l$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:u$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _D(r,e,t){return await t()}class Jd{constructor(e){var t,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jd.nextInstanceID,Jd.nextInstanceID+=1,this.instanceID>0&&wa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},$$),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new z$({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=M_(s.fetch),this.lock=s.lock||_D,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:wa()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=F$:this.lock=_D,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Fd()?this.storage=V$:(this.memoryStorage={},this.storage=CD(this.memoryStorage)):(this.memoryStorage={},this.storage=CD(this.memoryStorage)),wa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${R_}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=f$(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),wa()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(t,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),_$(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return dt(t)?{error:t}:{error:new U_("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,s;try{const o=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ls}),{data:l,error:d}=o;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(o){if(dt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,i,s;try{let o;if("email"in e){const{email:m,password:v,options:b}=e;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await bu(this.storage,this.storageKey)),o=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:m,password:v,data:(t=b==null?void 0:b.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:x,code_challenge_method:w},xform:Ls})}else if("phone"in e){const{phone:m,password:v,options:b}=e;o=await Et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},channel:(s=b==null?void 0:b.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Ls})}else throw new Np("You must provide either an email or phone number and a password");const{data:l,error:d}=o;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(o){if(dt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:l,options:d}=e;t=await Et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:DD})}else if("phone"in e){const{phone:o,password:l,options:d}=e;t=await Et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:DD})}else throw new Np("You must provide either an email or phone number and a password");const{data:i,error:s}=t;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new qb}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await wp(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(t??"").split("/");try{const{data:o,error:l}=await Et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ls});if(await Sp(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new qb}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(dt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:i,token:s,access_token:o,nonce:l}=e,d=await Et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Ls}),{data:f,error:p}=d;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new qb}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,s,o,l;try{if("email"in e){const{email:d,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await bu(this.storage,this.storageKey));const{error:v}=await Et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:d,options:f}=e,{data:p,error:m}=await Et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},create_user:(o=f==null?void 0:f.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:m}}throw new Np("You must provide either an email or phone number.")}catch(d){if(dt(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var t,i;try{let s,o;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:d}=await Et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ls});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,p=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(s){if(dt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,i,s;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await bu(this.storage,this.storageKey)),await Et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:M$})}catch(o){if(dt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new js;const{error:s}=await Et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(dt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:o}=e,{error:l}=await Et(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:i,type:s,options:o}=e,{data:l,error:d}=await Et(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d}}throw new Np("You must provide either an email or phone number and a type")}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await wp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Hb:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,p,m)=>(!l&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,m))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fs}):await this._useSession(async t=>{var i,s,o;const{data:l,error:d}=t;if(d)throw d;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new js}:await Et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Fs})})}catch(t){if(dt(t))return C$(t)&&(await this._removeSession(),await Sp(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new js;const l=s.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await bu(this.storage,this.storageKey));const{data:p,error:m}=await Et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:Fs});if(m)throw m;return l.user=p.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(i){if(dt(i))return{data:{user:null},error:i};throw i}}_decodeJWT(e){return wD(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new js;const t=Date.now()/1e3;let i=t,s=!0,o=null;const l=wD(e.access_token);if(l.exp&&(i=l.exp,s=i<=t),s){const{session:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(dt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:l,error:d}=t;if(d)throw d;e=(i=l.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new js;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!wa())throw new Ep("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ep(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new SD("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ep("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new SD("No code detected.");const{data:A,error:F}=await this._exchangeCodeForSession(e.code);if(F)throw F;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:d,expires_at:f,token_type:p}=e;if(!o||!d||!l||!p)throw new Ep("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(d);let b=m+v;f&&(b=parseInt(f));const x=b-m;x*1e3<=Nu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${v}s`);const w=b-v;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,b,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,b,m);const{data:C,error:_}=await this._getUser(o);if(_)throw _;const O={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:v,expires_at:b,refresh_token:l,token_type:p,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(i){if(dt(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await wp(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:s,error:o}=t;if(o)return{error:o};const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:d}=await this.admin.signOut(l,e);if(d&&!(D$(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await Sp(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=d$(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,s;try{const{data:{session:o},error:l}=t;if(l)throw l;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await bu(this.storage,this.storageKey,!0));try{return await Et(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(dt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(dt(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:i,error:s}=await this._useSession(async o=>{var l,d,f,p,m;const{data:v,error:b}=o;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Et(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return wa()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(dt(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,s;const{data:o,error:l}=t;if(l)throw l;return await Et(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await g$(async s=>(s>0&&await m$(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ls})),(s,o)=>{const l=200*Math.pow(2,s);return o&&Wb(o)&&Date.now()+l-i<Nu})}catch(i){if(this._debug(t,"error",i),dt(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),wa()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const i=await wp(this.storage,this.storageKey);if(this._debug(t,"session from storage",i),!this._isValidSession(i)){this._debug(t,"session is not valid"),i!==null&&await this._removeSession();return}const s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Hb;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${Hb}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Wb(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(t,"error",i),console.error(i);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new js;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new gm;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new js;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={session:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(s,"error",o),dt(o)){const l={session:null,error:o};return Wb(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,i=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,t)}catch(f){o.push(f)}});if(await Promise.all(l),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await A_(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Sp(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Nu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/Nu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Nu}ms, refresh threshold is ${E0} ticks`),s<=E0&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof j_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const s=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,l]=await bu(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(d.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:s,error:o}=t;return o?{data:null,error:o}:await Et(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,s;const{data:o,error:l}=t;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:p}=await Et(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((s=f==null?void 0:f.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:s,error:o}=t;if(o)return{data:null,error:o};const{data:l,error:d}=await Et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:d})})}catch(t){if(dt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:s,error:o}=t;return o?{data:null,error:o}:await Et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(dt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const i=(e==null?void 0:e.factors)||[],s=i.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=i.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:i,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(s.access_token);let d=null;l.aal&&(d=l.aal);let f=d;((i=(t=s.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}}Jd.nextInstanceID=0;const B$=Jd;class H$ extends B${constructor(e){super(e)}}var q$=function(r,e,t,i){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function d(m){try{p(i.next(m))}catch(v){l(v)}}function f(m){try{p(i.throw(m))}catch(v){l(v)}}function p(m){m.done?o(m.value):s(m.value).then(d,f)}p((i=i.apply(r,e||[])).next())})};class W${constructor(e,t,i){var s,o,l;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const d=a$(e);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p={db:QF,realtime:ZF,auth:Object.assign(Object.assign({},XF),{storageKey:f}),global:YF},m=s$(i??{},p);this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=r$(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new yF(`${d}/rest/v1`,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new JI(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new GF(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return q$(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:s,storageKey:o,flowType:l,lock:d,debug:f},p,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new H$({url:this.authUrl,headers:Object.assign(Object.assign({},v),p),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:s,flowType:l,lock:d,debug:f,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new AF(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const G$=(r,e,t)=>new W$(r,e,t),J$="https://lzzqttfkqbskoqxwpair.supabase.co",K$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx6enF0dGZrcWJza29xeHdwYWlyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA2NzkxMTAsImV4cCI6MjA1NjI1NTExMH0.KvX0GIdiQvC6Z-dne0fd_ys11uwun0VsaM7wyTTGFvg",Y$={auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},db:{schema:"public"},global:{headers:{"x-my-custom-header":"fundflowai",Accept:"application/json"}},realtime:{params:{eventsPerSecond:10}}},ke=G$(J$,K$,Y$);typeof document<"u"&&document.addEventListener("visibilitychange",async()=>{if(document.visibilityState==="visible")try{await ke.realtime.disconnect(),await ke.realtime.connect();const{data:{session:r}}=await ke.auth.getSession();r&&await ke.auth.refreshSession()}catch(r){console.error("Error resetting Supabase connection:",r)}});const L_=U.createContext(void 0);function Q$({children:r}){const[e,t]=U.useState(null),[i,s]=U.useState(null),[o,l]=U.useState(null),[d,f]=U.useState(!0);U.useEffect(()=>{(async()=>{var O,A;const{data:C}=await ke.auth.getSession();l(C.session),t(((O=C.session)==null?void 0:O.user)||null),(A=C.session)!=null&&A.user&&await p(C.session.user.id),f(!1);const{data:_}=ke.auth.onAuthStateChange(async(F,P)=>{l(P),t((P==null?void 0:P.user)||null),P!=null&&P.user?await p(P.user.id):s(null)});return()=>{_.subscription.unsubscribe()}})()},[]);const p=async w=>{try{const{data:C,error:_}=await ke.from("user_profiles").select("*").eq("id",w).single();if(_)throw console.error("Error fetching user profile:",_),_;s(C||null)}catch(C){console.error("Error fetching profile:",C),s(null)}},m=async(w,C)=>{try{const{error:_}=await ke.auth.signInWithPassword({email:w,password:C});return{error:_}}catch(_){return console.error("Error signing in:",_),{error:_}}},v=async(w,C,_)=>{try{const{data:O,error:A}=await ke.auth.signUp({email:w,password:C,options:{data:{full_name:_!=null&&_.firstName&&(_!=null&&_.lastName)?`${_.firstName} ${_.lastName}`:void 0}}});if(A)return{error:A};if(O!=null&&O.user){const P={id:O.user.id,email:w,first_name:(_==null?void 0:_.firstName)||"",last_name:(_==null?void 0:_.lastName)||"",display_name:_!=null&&_.firstName&&(_!=null&&_.lastName)?`${_.firstName} ${_.lastName}`:w.split("@")[0]},{error:K}=await ke.from("user_profiles").insert(P);K?console.error("Error creating user profile during signup:",K):(console.log("User profile created successfully during signup"),s(P))}return{error:null}}catch(O){return console.error("Error signing up:",O),{error:O}}},b=async()=>{try{await ke.auth.signOut(),s(null)}catch(w){console.error("Error signing out:",w)}},x=async w=>{try{if(!e)throw new Error("User not authenticated");const{error:C}=await ke.from("user_profiles").update(w).eq("id",e.id);if(C)throw C;return i&&s({...i,...w}),{error:null}}catch(C){return console.error("Error updating profile:",C),{error:C}}};return N.jsxDEV(L_.Provider,{value:{user:e,profile:i,session:o,loading:d,signIn:m,signUp:v,signOut:b,updateProfile:x},children:r},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/context/AuthContext.tsx",lineNumber:201,columnNumber:5},this)}function Bu(){const r=U.useContext(L_);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}function X$(){const{user:r}=Bu();return N.jsxDEV("div",{className:"bg-white min-h-screen overflow-hidden",style:{fontFamily:"Lora, serif"},children:[N.jsxDEV("nav",{className:"py-6 relative z-50",children:N.jsxDEV("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[N.jsxDEV(pi,{to:"/",className:"flex items-center",children:N.jsxDEV("img",{className:"h-16 w-auto",src:"/logo.svg?v=1",alt:"Fund Flow AI"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:25,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:24,columnNumber:11},this),!r&&N.jsxDEV(pi,{to:"/auth",className:"text-sm font-semibold text-indigo-600 hover:text-indigo-800",children:["Log in ",N.jsxDEV("span",{"aria-hidden":"true",children:""},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:29,columnNumber:22},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:28,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:23,columnNumber:9},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:22,columnNumber:7},this),N.jsxDEV("div",{className:"mt-16 relative min-h-[80vh]",children:[N.jsxDEV("div",{className:"absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80",children:N.jsxDEV("svg",{className:"relative left-[calc(50%-11rem)] -z-10 h-[21.1875rem] max-w-none -translate-x-1/2 rotate-[30deg] sm:left-[calc(50%-30rem)] sm:h-[42.375rem]",viewBox:"0 0 1155 678",children:[N.jsxDEV("path",{fill:"url(#45de2b6b-92d5-4d68-a6a0-9b9b2abad533)",fillOpacity:".3",d:"M317.219 518.975L203.852 678 0 438.341l317.219 80.634 204.172-286.402c1.307 132.337 45.083 346.658 209.733 145.248C936.936 126.058 882.053-94.234 1031.02 41.331c119.18 108.451 130.68 295.337 121.53 375.223L855 299l21.173 362.054-558.954-142.079z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:41,columnNumber:13},this),N.jsxDEV("defs",{children:N.jsxDEV("linearGradient",{id:"45de2b6b-92d5-4d68-a6a0-9b9b2abad533",x1:"1155.49",x2:"-78.208",y1:".177",y2:"474.645",gradientUnits:"userSpaceOnUse",children:[N.jsxDEV("stop",{stopColor:"#9089FC"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:55,columnNumber:17},this),N.jsxDEV("stop",{offset:1,stopColor:"#FF80B5"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:56,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:47,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:46,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:37,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:36,columnNumber:9},this),N.jsxDEV("div",{className:"mx-auto w-4/5 relative z-10",children:N.jsxDEV("div",{className:"text-center flex flex-col gap-24",children:[N.jsxDEV("div",{children:N.jsxDEV("h1",{className:"text-4xl font-normal text-indigo-600 sm:text-6xl",children:"AI That Lays Grant Writing Bare with Sultry Precision"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:65,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:64,columnNumber:13},this),N.jsxDEV("div",{children:N.jsxDEV("p",{className:"text-xl font-normal text-gray-800",children:"Fund Flow AI doesn't just help you write grants. It seduces funders with irresistible applications, unlocks your most alluring opportunities, and transforms your ideas into captivating narratives that demand attention."},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:70,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:69,columnNumber:13},this),N.jsxDEV("div",{className:"flex flex-col items-center gap-4 sm:flex-row sm:justify-center sm:gap-6",children:[N.jsxDEV("a",{href:"/auth",className:"inline-block rounded-md bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-500",children:"Get started"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:75,columnNumber:15},this),N.jsxDEV("a",{href:"#learn-more",className:"inline-block rounded-md border border-gray-300 bg-white px-6 py-3 text-base font-medium text-gray-900 shadow-sm hover:bg-gray-50",children:["Learn more ",N.jsxDEV("span",{"aria-hidden":"true",children:""},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:85,columnNumber:28},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:81,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:74,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:63,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:62,columnNumber:9},this),N.jsxDEV("div",{className:"absolute inset-x-0 bottom-0 -z-10 transform-gpu overflow-hidden blur-3xl",children:N.jsxDEV("svg",{className:"relative left-[calc(50%+3rem)] h-[21.1875rem] max-w-none -translate-x-1/2 sm:left-[calc(50%+36rem)] sm:h-[30rem]",viewBox:"0 0 1155 678",children:[N.jsxDEV("path",{fill:"url(#ecb5b0c9-546c-4772-8c71-4d3f06d544bc)",fillOpacity:".3",d:"M317.219 518.975L203.852 678 0 438.341l317.219 80.634 204.172-286.402c1.307 132.337 45.083 346.658 209.733 145.248C936.936 126.058 882.053-94.234 1031.02 41.331c119.18 108.451 130.68 295.337 121.53 375.223L855 299l21.173 362.054-558.954-142.079z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:96,columnNumber:13},this),N.jsxDEV("defs",{children:N.jsxDEV("linearGradient",{id:"ecb5b0c9-546c-4772-8c71-4d3f06d544bc",x1:"1155.49",x2:"-78.208",y1:".177",y2:"474.645",gradientUnits:"userSpaceOnUse",children:[N.jsxDEV("stop",{stopColor:"#9089FC"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:110,columnNumber:17},this),N.jsxDEV("stop",{offset:1,stopColor:"#FF80B5"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:111,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:102,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:101,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:92,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:91,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:35,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/home.tsx",lineNumber:21,columnNumber:5},this)}function Z$(){const[r,e]=U.useState(!1),[t,i]=U.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[s,o]=U.useState(null),[l,d]=U.useState(!1),{signIn:f,signUp:p,user:m}=Bu(),v=fl();U.useEffect(()=>{m&&v("/dashboard")},[m,v]);const b=C=>{const{name:_,value:O}=C.target;i(A=>({...A,[_]:O}))},x=()=>{if(o(null),!t.email)return o("Email is required"),!1;if(!t.password)return o("Password is required"),!1;if(r){if(t.password.length<6)return o("Password must be at least 6 characters"),!1;if(t.password!==t.confirmPassword)return o("Passwords do not match"),!1}return!0},w=async C=>{if(C.preventDefault(),!!x()){d(!0),o(null);try{if(r){const{error:_}=await p(t.email,t.password,{firstName:t.firstName,lastName:t.lastName});if(_)throw _;alert("Please check your email to confirm your account"),e(!1)}else{const{error:_}=await f(t.email,t.password);if(_)throw _;v("/dashboard")}}catch(_){o(_.message||"An error occurred during authentication")}finally{d(!1)}}};return N.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-white",children:[N.jsxDEV("nav",{className:"py-6",children:N.jsxDEV("div",{className:"max-w-4xl mx-auto px-4",children:N.jsxDEV(pi,{to:"/",className:"flex items-center",children:N.jsxDEV("img",{className:"h-16 w-auto",src:"/logo.svg?v=1",alt:"Fund Flow AI"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:116,columnNumber:13},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:115,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:114,columnNumber:9},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:113,columnNumber:7},this),N.jsxDEV("div",{className:"flex items-center w-1/5 mx-auto justify-center px-4 py-12 sm:px-6 lg:px-8",children:N.jsxDEV("div",{className:"w-full max-w-md",children:N.jsxDEV("div",{className:"bg-white rounded-xl shadow-lg p-8 space-y-6",children:[N.jsxDEV("div",{children:[N.jsxDEV("h1",{className:"text-center text-2xl font-semibold tracking-tight text-gray-900",children:r?"Create your account":"Sign in to your account"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:125,columnNumber:15},this),N.jsxDEV("p",{className:"mt-2 text-center text-sm text-gray-600",children:[r?"Already have an account?":"Need an account?"," ",N.jsxDEV("button",{type:"button",onClick:()=>{e(!r),o(null)},className:"font-medium text-indigo-600 hover:text-indigo-500",children:r?"Sign in":"Sign up"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:130,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:128,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:124,columnNumber:13},this),s&&N.jsxDEV("div",{className:"rounded-md bg-red-50 p-4",children:N.jsxDEV("div",{className:"flex",children:[N.jsxDEV("div",{className:"flex-shrink-0",children:N.jsxDEV("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:N.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:153,columnNumber:23},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:147,columnNumber:21},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:146,columnNumber:19},this),N.jsxDEV("div",{className:"ml-3",children:N.jsxDEV("h3",{className:"text-sm font-medium text-red-800",children:s},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:161,columnNumber:21},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:160,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:145,columnNumber:17},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:144,columnNumber:15},this),N.jsxDEV("form",{className:"space-y-4",onSubmit:w,children:[r&&N.jsxDEV("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:171,columnNumber:21},this),N.jsxDEV("input",{id:"firstName",name:"firstName",type:"text",value:t.firstName,onChange:b,className:"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"First Name"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:174,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:170,columnNumber:19},this),N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:185,columnNumber:21},this),N.jsxDEV("input",{id:"lastName",name:"lastName",type:"text",value:t.lastName,onChange:b,className:"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Last Name"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:188,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:184,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:169,columnNumber:17},this),N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:202,columnNumber:17},this),N.jsxDEV("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:b,className:"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"you@example.com"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:205,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:201,columnNumber:15},this),N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:219,columnNumber:17},this),N.jsxDEV("input",{id:"password",name:"password",type:"password",autoComplete:r?"new-password":"current-password",required:!0,value:t.password,onChange:b,className:"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:""},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:222,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:218,columnNumber:15},this),r&&N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:237,columnNumber:19},this),N.jsxDEV("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:t.confirmPassword,onChange:b,className:"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:""},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:240,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:236,columnNumber:17},this),N.jsxDEV("div",{className:"pt-4",children:N.jsxDEV("button",{type:"submit",disabled:l,className:"flex w-full justify-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:bg-indigo-300 disabled:cursor-not-allowed",children:l?"Processing...":r?"Create Account":"Sign in"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:255,columnNumber:17},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:254,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:167,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:123,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:122,columnNumber:9},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:121,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/auth.tsx",lineNumber:112,columnNumber:5},this)}function eB(){const{user:r,profile:e,loading:t,signOut:i}=Bu(),s=fl(),o=dl(),l=tx(),[d,f]=U.useState(!0),[p,m]=U.useState([]),[v,b]=U.useState(!1),[x,w]=U.useState(!1),[C,_]=U.useState(null);U.useEffect(()=>{async function F(){var P;if(l.sectionId){const{data:K,error:le}=await ke.from("grant_application_section").select(`
            grant_section:grant_section_id(
              name
            )
          `).eq("id",l.sectionId).single();!le&&((P=K==null?void 0:K.grant_section)!=null&&P.name)&&_(K.grant_section.name)}else _(null)}F()},[l.sectionId]);const O=F=>o.pathname===F;U.useEffect(()=>{if(r){const F=()=>{A()};return window.addEventListener("focus",F),()=>{window.removeEventListener("focus",F)}}},[r]),U.useEffect(()=>{if(r){A();const F=ke.channel("grant_applications_changes").on("postgres_changes",{event:"*",schema:"public",table:"grant_applications",filter:`user_id=eq.${r.id}`},()=>{A()}).subscribe();return()=>{F.unsubscribe()}}},[r]);const A=async()=>{try{b(!0);const{data:F,error:P}=await ke.from("grant_applications").select("id, title").eq("user_id",r==null?void 0:r.id).eq("status","in-progress").order("updated_at",{ascending:!1}).limit(5);if(P)throw P;m(F||[])}catch(F){console.error("Error fetching in-progress applications:",F)}finally{b(!1)}};return U.useEffect(()=>{!t&&!r&&s("/auth")},[r,t,s]),t?N.jsxDEV("div",{className:"flex min-h-screen items-center justify-center",children:N.jsxDEV("div",{className:"text-center",children:[N.jsxDEV("svg",{className:"mx-auto h-12 w-12 animate-spin text-indigo-600",fill:"none",viewBox:"0 0 24 24",children:[N.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:137,columnNumber:13},this),N.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:138,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:136,columnNumber:11},this),N.jsxDEV("h3",{className:"mt-4 text-xl font-medium text-gray-900",children:"Loading..."},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:140,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:135,columnNumber:9},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:134,columnNumber:7},this):r?N.jsxDEV("div",{className:"min-h-screen flex",children:[N.jsxDEV("div",{className:`${x?"w-12":"w-64"} border-r border-gray-200 min-h-screen transition-all duration-300 relative`,children:[N.jsxDEV("div",{className:"py-8 pb-2 px-6 border-b border-gray-200 relative",children:[N.jsxDEV("button",{onClick:()=>w(!x),className:"absolute top-2 right-2 p-1 rounded-md hover:bg-gray-100 transition-colors text-sm","aria-label":x?"Expand sidebar":"Collapse sidebar",children:x?"":""},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:156,columnNumber:11},this),!x&&N.jsxDEV(pi,{to:"/dashboard",className:"flex items-center",children:N.jsxDEV("img",{className:"h-12 w-auto",src:"/logo.svg?v=1",alt:"Fund Flow AI"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:165,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:164,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:155,columnNumber:9},this),N.jsxDEV("nav",{className:"py-8",children:N.jsxDEV("ul",{className:"flex flex-col gap-2",children:[N.jsxDEV("li",{className:"mb-2",children:N.jsxDEV(pi,{to:"/dashboard",className:`flex items-center px-4 py-3 text-xl hover:bg-gray-200 rounded-md min-h-14 transition-colors ${O("/dashboard")?"bg-gray-200 font-semibold":""}`,title:"Home",children:[N.jsxDEV("span",{className:"text-xl shrink-0",children:""},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:178,columnNumber:17},this),!x&&N.jsxDEV("span",{className:"ml-3",children:"Home"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:179,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:173,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:172,columnNumber:13},this),!x&&N.jsxDEV("li",{className:"mb-2 mt-6",children:N.jsxDEV("div",{className:"px-4 py-3 text-xl",children:"Applications"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:186,columnNumber:17},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:185,columnNumber:15},this),N.jsxDEV("li",{className:"mb-2 pl-4",children:N.jsxDEV(pi,{to:"/dashboard/new",className:`flex items-center px-4 py-3 text-xl hover:bg-gray-200 rounded-md min-h-14 transition-colors ${O("/dashboard/new")?"bg-gray-200 font-semibold":""}`,title:"New Application",children:[N.jsxDEV("span",{className:"text-xl shrink-0",children:"+"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:198,columnNumber:17},this),!x&&N.jsxDEV("span",{className:"ml-3",children:"New"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:199,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:193,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:192,columnNumber:13},this),N.jsxDEV("li",{className:"mb-2 pl-4",children:[N.jsxDEV("div",{className:`flex items-start px-4 py-3 text-xl hover:bg-gray-200 rounded-md min-h-14 transition-colors cursor-pointer ${p.length>0?"bg-gray-100":""}`,onClick:()=>f(!d),title:"Unsubmitted Applications",children:[N.jsxDEV("span",{className:"text-xl shrink-0",children:""},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:210,columnNumber:17},this),!x&&N.jsxDEV(N.Fragment,{children:[N.jsxDEV("span",{className:"ml-3 break-words flex-grow",children:"Unsubmitted"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:213,columnNumber:21},this),N.jsxDEV("span",{className:"text-xl transition-transform shrink-0",children:d?"":""},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:216,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:212,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:205,columnNumber:15},this),d&&N.jsxDEV("ul",{className:`mt-2 flex flex-col gap-2 ${x?"pl-3":"pl-8"}`,children:v?N.jsxDEV("li",{className:"px-3 py-2 text-xl text-gray-500",children:!x&&N.jsxDEV("div",{className:"flex items-center",children:[N.jsxDEV("svg",{className:"animate-spin h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[N.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:231,columnNumber:29},this),N.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:232,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:230,columnNumber:27},this),"Loading..."]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:229,columnNumber:25},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:227,columnNumber:21},this):p.length>0?N.jsxDEV(N.Fragment,{children:!x&&p.map(F=>N.jsxDEV("li",{className:"mb-2",children:N.jsxDEV(pi,{to:`/dashboard/applications/${F.id}`,className:"block px-3 py-2 rounded-md hover:bg-gray-100 transition-colors text-gray-900 text-xl",children:F.title},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:242,columnNumber:27},this)},F.id,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:241,columnNumber:25},this))},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:239,columnNumber:21},this):N.jsxDEV("li",{className:"px-3 py-2 text-xl text-gray-500",children:!x&&"No applications"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:252,columnNumber:21},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:225,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:204,columnNumber:13},this),N.jsxDEV("li",{className:"mb-2 pl-4",children:N.jsxDEV(pi,{to:"/dashboard/applications",className:`flex items-start px-4 py-3 text-xl hover:bg-gray-200 rounded-md min-h-14 transition-colors ${O("/dashboard/applications")?"bg-gray-200 font-semibold":""}`,title:"All",children:[N.jsxDEV("span",{className:"text-xl shrink-0",children:""},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:266,columnNumber:17},this),!x&&N.jsxDEV("span",{className:"ml-3 break-words",children:"All"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:267,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:261,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:260,columnNumber:13},this),N.jsxDEV("li",{className:"mb-2 mt-6",children:N.jsxDEV(pi,{to:"/dashboard/profile",className:`flex items-center px-4 py-3 text-xl hover:bg-gray-200 rounded-md min-h-14 transition-colors ${O("/dashboard/profile")?"bg-gray-200 font-semibold":""}`,title:"Profile",children:[N.jsxDEV("span",{className:"text-xl shrink-0",children:""},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:278,columnNumber:17},this),!x&&N.jsxDEV("span",{className:"ml-3",children:"Profile"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:279,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:273,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:272,columnNumber:13},this),N.jsxDEV("li",{className:"mt-8 pt-3 border-t border-gray-200",children:N.jsxDEV(pi,{to:"/",onClick:F=>{F.preventDefault(),i(),s("/")},className:"flex items-center px-4 py-3 text-xl hover:bg-gray-200 rounded-md min-h-14 transition-colors",title:"Sign out",children:[N.jsxDEV("span",{className:"text-xl shrink-0",children:""},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:294,columnNumber:17},this),!x&&N.jsxDEV("span",{className:"ml-3",children:"Sign out"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:295,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:284,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:283,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:171,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:170,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:154,columnNumber:7},this),N.jsxDEV("div",{className:"flex-1",children:[N.jsxDEV("header",{className:"bg-white shadow",children:N.jsxDEV("div",{className:"flex items-center py-12 px-6 pb-2",children:N.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:C||N.jsxDEV(N.Fragment,{children:[O("/dashboard")&&"Dashboard",O("/dashboard/new")&&"New Application",O("/dashboard/unsubmitted")&&"Unsubmitted Applications",O("/dashboard/applications")&&"All Applications"]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:308,columnNumber:17},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:306,columnNumber:13},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:305,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:304,columnNumber:9},this),N.jsxDEV("main",{className:"py-6",children:N.jsxDEV(iI,{},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:320,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:319,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:303,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.tsx",lineNumber:152,columnNumber:5},this):null}function tB(){const{profile:r}=Bu();return N.jsxDEV("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:N.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:N.jsxDEV("div",{className:"mb-6",children:[N.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900",children:["Welcome, ",(r==null?void 0:r.display_name)||(r==null?void 0:r.first_name)||"User","!"]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.home.tsx",lineNumber:11,columnNumber:11},this),N.jsxDEV("p",{className:"mt-1 text-sm text-gray-500",children:r==null?void 0:r.email},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.home.tsx",lineNumber:12,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.home.tsx",lineNumber:10,columnNumber:9},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.home.tsx",lineNumber:9,columnNumber:7},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.home.tsx",lineNumber:8,columnNumber:5},this)}function nB(){const{profile:r,updateProfile:e}=Bu(),[t,i]=U.useState(!1),[s,o]=U.useState({first_name:(r==null?void 0:r.first_name)||"",last_name:(r==null?void 0:r.last_name)||"",display_name:(r==null?void 0:r.display_name)||"",email:(r==null?void 0:r.email)||""}),[l,d]=U.useState(!1),[f,p]=U.useState({type:"",text:""}),m=x=>{const{name:w,value:C}=x.target;o(_=>({..._,[w]:C}))},v=async x=>{x.preventDefault(),d(!0),p({type:"",text:""});try{const{error:w}=await e({first_name:s.first_name,last_name:s.last_name,display_name:s.display_name});if(w)throw w;p({type:"success",text:"Profile updated successfully!"}),i(!1)}catch(w){console.error("Error updating profile:",w),p({type:"error",text:"Failed to update profile. Please try again."})}finally{d(!1)}},b=()=>{o({first_name:(r==null?void 0:r.first_name)||"",last_name:(r==null?void 0:r.last_name)||"",display_name:(r==null?void 0:r.display_name)||"",email:(r==null?void 0:r.email)||""}),i(!0),p({type:"",text:""})};return N.jsxDEV("div",{className:"px-6 py-6 max-w-3xl mx-auto",children:[N.jsxDEV("h1",{className:"text-2xl font-bold mb-6",children:"Your Profile"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:67,columnNumber:7},this),f.text&&N.jsxDEV("div",{className:`p-4 mb-6 rounded-md ${f.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.text},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:70,columnNumber:9},this),t?N.jsxDEV("form",{onSubmit:v,className:"bg-white shadow rounded-lg p-6",children:[N.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First Name"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:120,columnNumber:15},this),N.jsxDEV("input",{type:"text",name:"first_name",id:"first_name",value:s.first_name,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:123,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:119,columnNumber:13},this),N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last Name"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:133,columnNumber:15},this),N.jsxDEV("input",{type:"text",name:"last_name",id:"last_name",value:s.last_name,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:136,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:132,columnNumber:13},this),N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"display_name",className:"block text-sm font-medium text-gray-700",children:"Display Name"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:146,columnNumber:15},this),N.jsxDEV("input",{type:"text",name:"display_name",id:"display_name",value:s.display_name,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:149,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:145,columnNumber:13},this),(r==null?void 0:r.organization_id)&&N.jsxDEV("div",{children:[N.jsxDEV("label",{className:"block text-sm font-medium text-gray-700",children:"Organization"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:160,columnNumber:17},this),N.jsxDEV("div",{className:"mt-1 block w-full py-2 px-3 rounded-md bg-gray-100 text-gray-500 sm:text-sm",children:[r.organization_id,N.jsxDEV("span",{className:"text-xs ml-2",children:"(Can't be changed)"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:165,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:163,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:159,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:118,columnNumber:11},this),N.jsxDEV("div",{className:"mt-6 flex items-center gap-4",children:[N.jsxDEV("button",{type:"submit",disabled:l,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:l?"Saving...":"Save Changes"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:171,columnNumber:13},this),N.jsxDEV("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-500",children:"Cancel"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:178,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:117,columnNumber:9},this):N.jsxDEV("div",{children:N.jsxDEV("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[N.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[N.jsxDEV("div",{children:[N.jsxDEV("h2",{className:"text-sm font-medium text-gray-500",children:"First Name"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:84,columnNumber:17},this),N.jsxDEV("p",{className:"mt-1 text-lg",children:(r==null?void 0:r.first_name)||"Not set"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:85,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:83,columnNumber:15},this),N.jsxDEV("div",{children:[N.jsxDEV("h2",{className:"text-sm font-medium text-gray-500",children:"Last Name"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:88,columnNumber:17},this),N.jsxDEV("p",{className:"mt-1 text-lg",children:(r==null?void 0:r.last_name)||"Not set"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:89,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:87,columnNumber:15},this),N.jsxDEV("div",{children:[N.jsxDEV("h2",{className:"text-sm font-medium text-gray-500",children:"Display Name"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:92,columnNumber:17},this),N.jsxDEV("p",{className:"mt-1 text-lg",children:(r==null?void 0:r.display_name)||"Not set"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:93,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:91,columnNumber:15},this),(r==null?void 0:r.organization_id)&&N.jsxDEV("div",{children:[N.jsxDEV("h2",{className:"text-sm font-medium text-gray-500",children:"Organization"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:97,columnNumber:19},this),N.jsxDEV("p",{className:"mt-1 text-lg text-gray-700",children:[r.organization_id,N.jsxDEV("span",{className:"text-xs text-gray-500 ml-2",children:"(Can't be changed by user)"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:100,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:98,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:96,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:82,columnNumber:13},this),N.jsxDEV("div",{className:"mt-6",children:N.jsxDEV("button",{type:"button",onClick:b,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Edit Profile"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:106,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:105,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:81,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:80,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.profile.tsx",lineNumber:66,columnNumber:5},this)}const Na="grant_wizard_state";function rB({steps:r,onComplete:e}){const[t,i]=U.useState(()=>{const v=localStorage.getItem(Na);if(v){const{step:b}=JSON.parse(v);return b||0}return 0}),[s,o]=U.useState(()=>{const v=localStorage.getItem(Na);if(v){const{data:b}=JSON.parse(v);return b||{}}return{}});U.useEffect(()=>{localStorage.setItem(Na,JSON.stringify({step:t,data:s}))},[t,s]);const l=U.useMemo(()=>r[t].component,[r,t]),d=()=>{t>0&&i(t-1)},f=v=>{const b={...s,...v};o(b)},p=async()=>{console.log("Next button clicked");const v=window.currentStepState;if(v!=null&&v.handleNext){console.log("Calling stepState.handleNext");try{await v.handleNext(),t===r.length-1?(console.log("Completing wizard"),await m(s)):(console.log("Moving to next step"),i(t+1))}catch(b){console.error("Error in handleNext:",b)}}},m=async v=>{try{await e(v),localStorage.removeItem(Na)}catch(b){throw console.error("Error completing wizard:",b),b}};return N.jsxDEV("div",{className:"p-6",children:[N.jsxDEV("div",{className:"mb-8",children:[N.jsxDEV("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:r.map((v,b)=>N.jsxDEV("div",{className:"flex items-center",children:[N.jsxDEV("div",{className:`rounded-full h-8 w-8 flex items-center justify-center border-2 
                ${b<=t?"border-indigo-600 text-indigo-600":"border-gray-300 text-gray-300"}`,children:b+1},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:98,columnNumber:15},this),b<r.length-1&&N.jsxDEV("div",{className:`h-1 w-12 mx-2 ${b<t?"bg-indigo-600":"bg-gray-300"}`},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:103,columnNumber:17},this)]},b,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:97,columnNumber:13},this))},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:95,columnNumber:9},this),N.jsxDEV("div",{className:"flex justify-between mt-2 max-w-2xl mx-auto",children:[N.jsxDEV("span",{className:`text-sm ${t===0?"text-indigo-600":"text-gray-400"}`,children:r[0].title},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:109,columnNumber:11},this),N.jsxDEV("span",{className:`text-sm ${t===1?"text-indigo-600":"text-gray-400"}`,children:r[1].title},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:112,columnNumber:11},this),N.jsxDEV("span",{className:`text-sm ${t===2?"text-indigo-600":"text-gray-400"}`,children:r[2].title},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:115,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:108,columnNumber:9},this),N.jsxDEV("div",{className:"flex justify-between mt-4 max-w-2xl mx-auto",children:[N.jsxDEV("div",{children:t>0&&N.jsxDEV("button",{onClick:d,className:"px-4 py-2 bg-white text-indigo-600 border border-indigo-600 rounded hover:bg-indigo-50",children:"Back"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:122,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:120,columnNumber:11},this),N.jsxDEV("div",{children:l&&N.jsxDEV("button",{onClick:p,className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Next"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:132,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:130,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:119,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:94,columnNumber:7},this),N.jsxDEV("div",{className:"mt-6 bg-white rounded-lg shadow-sm p-6 w-4/5 mx-auto",children:l?Xn.cloneElement(l,{onNext:async v=>{console.log("WizardContainer onNext called with data:",v);try{const b={...s,...v};o(b),l.props.onNext&&(console.log("Calling component onNext prop"),await l.props.onNext(v))}catch(b){console.error("Error in step transition:",b)}},onSave:f,initialData:s}):N.jsxDEV("div",{className:"text-center py-8",children:N.jsxDEV("p",{className:"text-gray-500",children:"Please complete the previous step first."},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:167,columnNumber:13},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:166,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:144,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/WizardContainer.tsx",lineNumber:92,columnNumber:5},this)}function iB({onNext:r,initialData:e}){console.log("OrganizationOpportunityStep render");const[t,i]=U.useState([]),[s,o]=U.useState([]),[l,d]=U.useState((e==null?void 0:e.organizationId)||""),[f,p]=U.useState((e==null?void 0:e.opportunityId)||""),[m,v]=U.useState((e==null?void 0:e.searchTerm)||""),[b,x]=U.useState(!0),[w,C]=U.useState(!1),[_,O]=U.useState(null);window.currentStepState={selectedOrganization:l,selectedOpportunity:f,handleNext:()=>{l&&f&&r({organizationId:l,opportunityId:f,searchTerm:m})}},U.useEffect(()=>{let P=!0;async function K(){try{console.log("Fetching organizations");const{data:le,error:L}=await ke.from("organizations").select("id, name").eq("grant_funder",!0).order("name");if(L)throw L;P&&(console.log("Fetched organizations:",le),i(le||[]),x(!1))}catch(le){P&&(O("Failed to load organizations"),console.error("Error fetching organizations:",le),x(!1))}}return K(),()=>{P=!1}},[]),U.useEffect(()=>{let P=!0;async function K(){if(l){C(!0);try{console.log("Fetching opportunities for organization:",l);const{data:le,error:L}=await ke.from("grant_opportunities").select(`
            id,
            title,
            announcement_number,
            expiration_date,
            grants!inner (
              organization_id
            )
          `).eq("grants.organization_id",l).gte("expiration_date",new Date().toISOString()).order("title");if(L)throw L;P&&(console.log("Fetched opportunities:",le),o(le||[]),C(!1))}catch(le){P&&(console.error("Error fetching opportunities:",le),O("Failed to load opportunities"),C(!1))}}}return K(),()=>{P=!1}},[l]);const A=s.filter(P=>{if(m.length<3)return!1;const K=m.toLowerCase();return P.title.toLowerCase().includes(K)||P.announcement_number.toLowerCase().includes(K)}),F=P=>{d(P),p(""),v("")};return _?N.jsxDEV("div",{className:"text-red-600 p-4 rounded-md bg-red-50",children:[_,N.jsxDEV("button",{onClick:()=>window.location.reload(),className:"ml-4 text-sm underline hover:text-red-800",children:"Retry"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:158,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:156,columnNumber:7},this):b?N.jsxDEV("div",{className:"text-center text-gray-500 py-8",children:"Loading organizations..."},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:170,columnNumber:7},this):N.jsxDEV("div",{className:"space-y-6 max-w-4xl mx-auto",children:[N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"organization",className:"block text-sm font-medium text-gray-700",children:"Funding Organization"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:180,columnNumber:9},this),N.jsxDEV("select",{id:"organization",value:l,onChange:P=>F(P.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[N.jsxDEV("option",{value:"",children:"Select an organization"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:189,columnNumber:11},this),t.map(P=>N.jsxDEV("option",{value:P.id,children:P.name},P.id,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:191,columnNumber:13},this))]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:183,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:179,columnNumber:7},this),l&&N.jsxDEV("div",{className:"space-y-4",children:[N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search Opportunities"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:201,columnNumber:13},this),N.jsxDEV("input",{type:"text",id:"search",value:m,onChange:P=>v(P.target.value),placeholder:"Enter at least 3 characters to search",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:204,columnNumber:13},this),m.length>0&&m.length<3&&N.jsxDEV("p",{className:"mt-1 text-sm text-gray-500",children:"Please enter at least 3 characters to search"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:213,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:200,columnNumber:11},this),N.jsxDEV("div",{className:"bg-white shadow overflow-hidden rounded-md",children:w?N.jsxDEV("div",{className:"p-4 text-center text-gray-500",children:"Loading opportunities..."},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:221,columnNumber:15},this):m.length<3?N.jsxDEV("div",{className:"p-4 text-center text-gray-500",children:"Enter at least 3 characters to search for opportunities"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:223,columnNumber:15},this):A.length===0?N.jsxDEV("div",{className:"p-4 text-center text-gray-500",children:"No matching opportunities found"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:227,columnNumber:15},this):N.jsxDEV("ul",{className:"divide-y divide-gray-200",children:A.map(P=>N.jsxDEV("li",{children:N.jsxDEV("label",{className:"block hover:bg-gray-50 cursor-pointer",children:N.jsxDEV("div",{className:"px-4 py-4 sm:px-6",children:N.jsxDEV("div",{className:"flex items-center",children:[N.jsxDEV("input",{type:"radio",name:"opportunity",value:P.id,checked:f===P.id,onChange:()=>p(P.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:237,columnNumber:27},this),N.jsxDEV("div",{className:"ml-3",children:[N.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:P.title},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:246,columnNumber:29},this),N.jsxDEV("p",{className:"text-sm text-gray-500",children:["Announcement: ",P.announcement_number]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:247,columnNumber:29},this),N.jsxDEV("p",{className:"text-sm text-gray-500",children:["Expires: ",new Date(P.expiration_date).toLocaleDateString()]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:250,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:245,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:236,columnNumber:25},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:235,columnNumber:23},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:234,columnNumber:21},this)},P.id,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:233,columnNumber:19},this))},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:231,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:219,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:199,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OrganizationOpportunityStep.tsx",lineNumber:177,columnNumber:5},this)}function aB({onNext:r,onSave:e,initialData:t}){var L;const i=t==null?void 0:t.organizationId;console.log("GrantTypeBasicInfoStep render with organizationId:",i),console.log("Initial data:",t);const[s,o]=U.useState([]),[l,d]=U.useState((t==null?void 0:t.grantTypeId)||""),[f,p]=U.useState((t==null?void 0:t.title)||""),[m,v]=U.useState((t==null?void 0:t.description)||""),[b,x]=U.useState((t==null?void 0:t.resubmission)||!1),[w,C]=U.useState((t==null?void 0:t.amount_requested)||0),[_,O]=U.useState(!0),[A,F]=U.useState(null);U.useEffect(()=>{t&&(p(t.title||""),v(t.description||""),d(t.grantTypeId||""),x(t.resubmission||!1),C(t.amount_requested||0))},[t]),U.useEffect(()=>{let ne=!0;console.log("GrantTypeBasicInfoStep useEffect running with organizationId:",i);async function re(){if(!i){console.log("No organizationId provided, skipping fetch"),O(!1);return}try{console.log("Fetching grant types for organization:",i);const{data:ve,error:Le}=await ke.from("grant_type").select("id, name, description").eq("organization_id",i).eq("active",!0).order("name");if(Le)throw Le;ne&&(console.log("Fetched grant types:",ve),o(ve||[]),O(!1))}catch(ve){ne&&(console.error("Error fetching grant types:",ve),F("Failed to load grant types"),O(!1))}}return re(),()=>{ne=!1}},[i]);const P=ne=>{const ve={...{title:f,description:m,grantTypeId:l,resubmission:b,amount_requested:w},...ne};e(ve)},K=()=>{f&&m&&l&&(console.log("GrantTypeBasicInfoStep handleNext called with:",{title:f,description:m,grantTypeId:l,resubmission:b,amount_requested:w}),r({title:f,description:m,grantTypeId:l,resubmission:b,amount_requested:w}))},le=f.trim()&&m.trim()&&l;return window.currentStepState={handleNext:()=>{console.log("currentStepState.handleNext called"),le&&(console.log("Form is valid, calling handleNext"),K())}},i?A?(console.log("GrantTypeBasicInfoStep rendering error state:",A),N.jsxDEV("div",{className:"text-red-600 p-4 rounded-md bg-red-50",children:[A,N.jsxDEV("button",{onClick:()=>window.location.reload(),className:"ml-4 text-sm underline hover:text-red-800",children:"Retry"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:173,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:171,columnNumber:7},this)):_?(console.log("GrantTypeBasicInfoStep rendering loading state"),N.jsxDEV("div",{className:"text-center py-8",children:N.jsxDEV("p",{className:"text-gray-500",children:"Loading grant types..."},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:187,columnNumber:9},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:186,columnNumber:7},this)):(console.log("GrantTypeBasicInfoStep rendering form with grant types:",s),N.jsxDEV("div",{className:"space-y-6 max-w-4xl mx-auto",children:[N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"grantType",className:"block text-sm font-medium text-gray-700",children:"Grant Type"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:198,columnNumber:9},this),N.jsxDEV("select",{id:"grantType",value:l,onChange:ne=>{d(ne.target.value),P({grantTypeId:ne.target.value})},className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",required:!0,children:[N.jsxDEV("option",{value:"",children:"Select a grant type"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:211,columnNumber:11},this),s.map(ne=>N.jsxDEV("option",{value:ne.id,children:ne.name},ne.id,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:213,columnNumber:13},this))]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:201,columnNumber:9},this),l&&N.jsxDEV("p",{className:"mt-2 text-sm text-gray-500",children:(L=s.find(ne=>ne.id===l))==null?void 0:L.description},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:219,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:197,columnNumber:7},this),N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"amount_requested",className:"block text-sm font-medium text-gray-700",children:"Amount Requested"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:227,columnNumber:9},this),N.jsxDEV("div",{className:"mt-1 relative rounded-md shadow-sm",children:[N.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:N.jsxDEV("span",{className:"text-gray-500 sm:text-sm",children:"$"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:232,columnNumber:13},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:231,columnNumber:11},this),N.jsxDEV("input",{type:"number",name:"amount_requested",id:"amount_requested",value:w||"",onChange:ne=>{const re=parseFloat(ne.target.value);C(re),P({amount_requested:re})},className:"mt-1 block w-full pl-7 pr-12 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"0.00",step:"0.01",min:"0"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:234,columnNumber:11},this),N.jsxDEV("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:N.jsxDEV("span",{className:"text-gray-500 sm:text-sm",children:"USD"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:250,columnNumber:13},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:249,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:230,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:226,columnNumber:7},this),N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Application Title"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:257,columnNumber:9},this),N.jsxDEV("input",{type:"text",id:"title",value:f,onChange:ne=>{p(ne.target.value),P({title:ne.target.value})},className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:260,columnNumber:9},this),N.jsxDEV("p",{className:"mt-2 text-sm text-gray-500",children:"This title will be displayed in your unsubmitted applications list"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:271,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:256,columnNumber:7},this),N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:278,columnNumber:9},this),N.jsxDEV("textarea",{id:"description",value:m,onChange:ne=>{v(ne.target.value),P({description:ne.target.value})},rows:6,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:281,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:277,columnNumber:7},this),N.jsxDEV("div",{className:"flex items-center",children:[N.jsxDEV("input",{id:"resubmission",type:"checkbox",checked:b,onChange:ne=>{x(ne.target.checked),P({resubmission:ne.target.checked})},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:296,columnNumber:9},this),N.jsxDEV("label",{htmlFor:"resubmission",className:"ml-2 block text-sm text-gray-900",children:"This is a resubmission"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:306,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:295,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:195,columnNumber:5},this)):(console.log('GrantTypeBasicInfoStep rendering "select organization" message'),N.jsxDEV("div",{className:"text-center py-8",children:N.jsxDEV("p",{className:"text-gray-500",children:"Please select an organization and opportunity first."},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:163,columnNumber:9},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/GrantTypeBasicInfoStep.tsx",lineNumber:162,columnNumber:7},this))}function sB({onNext:r,onSave:e,initialData:t}){const i=t==null?void 0:t.opportunityId,[s,o]=U.useState([]),[l,d]=U.useState((t==null?void 0:t.selectedSections)||[]),[f,p]=U.useState(!0),[m,v]=U.useState(null);U.useEffect(()=>{async function w(){if(!i){v("No opportunity selected"),p(!1);return}try{const{data:C,error:_}=await ke.from("grant_opportunities").select("grant_id").eq("id",i).single();if(_)throw _;if(!(C!=null&&C.grant_id))throw new Error("No grant_id found for opportunity");e({grantId:C.grant_id});const{data:O,error:A}=await ke.from("grant_sections").select(`
            id,
            name,
            description,
            flow_order
          `).eq("optional",!0).eq("grant_id",C.grant_id).order("flow_order");if(A)throw A;o(O||[])}catch(C){v("Failed to load optional sections"),console.error("Error fetching sections:",C)}finally{p(!1)}}w()},[i,e]);const b=()=>new Promise(w=>{r({selectedSections:l}),w()}),x=w=>{d(C=>C.includes(w)?C.filter(_=>_!==w):[...C,w])};return window.currentStepState={handleNext:()=>b()},m?N.jsxDEV("div",{className:"text-red-600 p-4 rounded-md bg-red-50",children:[m,N.jsxDEV("button",{onClick:()=>window.location.reload(),className:"ml-4 text-sm underline hover:text-red-800",children:"Retry"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:104,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:102,columnNumber:7},this):f?N.jsxDEV("div",{className:"text-center text-gray-500 py-8",children:"Loading optional sections..."},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:116,columnNumber:7},this):s.length===0?N.jsxDEV("div",{className:"text-center text-gray-500 py-8",children:["No optional sections available for this grant.",N.jsxDEV("div",{className:"mt-6",children:N.jsxDEV("button",{type:"button",onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Continue"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:127,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:126,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:124,columnNumber:7},this):N.jsxDEV("div",{className:"space-y-6",children:N.jsxDEV("div",{className:"bg-white shadow overflow-hidden rounded-md",children:N.jsxDEV("ul",{className:"divide-y divide-gray-200",children:s.map(w=>N.jsxDEV("li",{children:N.jsxDEV("div",{className:"px-4 py-4 sm:px-6",children:N.jsxDEV("div",{className:"flex items-start",children:[N.jsxDEV("div",{className:"flex items-center h-5",children:N.jsxDEV("input",{id:w.id,type:"checkbox",checked:l.includes(w.id),onChange:()=>x(w.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:148,columnNumber:21},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:147,columnNumber:19},this),N.jsxDEV("div",{className:"ml-3",children:[N.jsxDEV("label",{htmlFor:w.id,className:"text-sm font-medium text-gray-900",children:w.name},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:157,columnNumber:21},this),w.description&&N.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:w.description},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:161,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:156,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:146,columnNumber:17},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:145,columnNumber:15},this)},w.id,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:144,columnNumber:13},this))},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:142,columnNumber:9},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:141,columnNumber:7},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/OptionalSectionsStep.tsx",lineNumber:140,columnNumber:5},this)}function oB(){const r=fl(),[e,t]=U.useState({}),[i,s]=U.useState(null),o=U.useCallback(async v=>{try{const{data:{user:b},error:x}=await ke.auth.getUser();if(x)throw x;if(!b)throw new Error("No user found");const{data:w,error:C}=await ke.from("grant_applications").insert({user_id:b.id,title:v.title,description:v.description,status:"in-progress",grant_type_id:v.grantTypeId,resubmission:v.resubmission,grant_opportunity_id:v.opportunityId,amount_requested:v.amount_requested}).select().single();if(C)throw C;const{data:_,error:O}=await ke.from("grant_sections").select("id, flow_order, optional").eq("grant_id",v.grantId).order("flow_order");if(O)throw O;const A=_.filter(P=>!P.optional||(v.selectedSections||[]).includes(P.id)).map(P=>({grant_application_id:w.id,grant_section_id:P.id,flow_order:P.flow_order,is_completed:!1})),{error:F}=await ke.from("grant_application_section").insert(A);if(F)throw F;r(`/dashboard/applications/${w.id}`)}catch(b){console.error("Error creating application:",b),s("Failed to create application")}},[r]),l=U.useCallback(async v=>new Promise(async(b,x)=>{try{console.log("Fetching grant_id for opportunity:",v.opportunityId);const{data:w,error:C}=await ke.from("grant_opportunities").select("grant_id").eq("id",v.opportunityId).single();if(C){console.error("Error fetching opportunity:",C),x(C);return}console.log("Got grant_id:",w.grant_id),t(_=>{const O={..._,organizationId:v.organizationId,opportunityId:v.opportunityId,searchTerm:v.searchTerm,grantId:w.grant_id},A=localStorage.getItem(Na),F=A?JSON.parse(A):{};return localStorage.setItem(Na,JSON.stringify({...F,data:{...F.data,...O}})),b(),O})}catch(w){console.error("Error in onNext:",w),x(w)}}),[]),d=U.useCallback(v=>new Promise(b=>{t(x=>{const w={...x,title:v.title,description:v.description,grantTypeId:v.grantTypeId,resubmission:v.resubmission,amount_requested:v.amount_requested},C=localStorage.getItem(Na),_=C?JSON.parse(C):{};return localStorage.setItem(Na,JSON.stringify({..._,data:{..._.data,...w}})),b(),w})}),[]),f=U.useCallback(v=>new Promise(b=>{t(x=>{const w={...x,selectedSections:v.selectedSections};return b(),w})}),[]),p=U.useCallback(v=>{t(b=>{const x={...b,selectedSections:v.selectedSections,grantId:v.grantId},w=localStorage.getItem(Na),C=w?JSON.parse(w):{};return localStorage.setItem(Na,JSON.stringify({...C,data:{...C.data,...x}})),x})},[]),m=U.useMemo(()=>[{title:"Organization & Opportunity",component:N.jsxDEV(iB,{onNext:l,initialData:{organizationId:e.organizationId,opportunityId:e.opportunityId,searchTerm:e.searchTerm}},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.new.tsx",lineNumber:209,columnNumber:9},this)},{title:"Grant Type & Basic Info",component:N.jsxDEV(aB,{onNext:d,onSave:d,initialData:{title:e.title,description:e.description,grantTypeId:e.grantTypeId,resubmission:e.resubmission,amount_requested:e.amount_requested,organizationId:e.organizationId}},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.new.tsx",lineNumber:222,columnNumber:9},this)},{title:"Optional Sections",component:N.jsxDEV(sB,{onNext:f,onSave:p,initialData:{selectedSections:e.selectedSections,opportunityId:e.opportunityId}},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.new.tsx",lineNumber:239,columnNumber:9},this)}],[e.organizationId,e.opportunityId,e.title,e.description,e.grantTypeId,e.resubmission,e.grantId,e.selectedSections,e.searchTerm,e.amount_requested,l,d,f,p]);return N.jsxDEV("div",{className:"max-w-4xl mx-auto py-8",children:i?N.jsxDEV("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:i},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.new.tsx",lineNumber:269,columnNumber:9},this):N.jsxDEV(rB,{steps:m,onComplete:o},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.new.tsx",lineNumber:273,columnNumber:9},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.new.tsx",lineNumber:267,columnNumber:5},this)}function lB(){const{user:r}=Bu(),[e,t]=U.useState([]),[i,s]=U.useState(!0),[o,l]=U.useState(null),[d,f]=U.useState(""),[p,m]=U.useState("all"),[v,b]=U.useState({start:"",end:""});U.useEffect(()=>{let w=!0;async function C(){if(r)try{s(!0);let _=ke.from("grant_applications").select("*").eq("user_id",r.id);p!=="all"&&(_=_.eq("status",p)),v.start&&(_=_.gte("created_at",v.start)),v.end&&(_=_.lte("created_at",v.end)),d&&(_=_.or(`title.ilike.%${d}%,description.ilike.%${d}%`));const{data:O,error:A}=await _.order("updated_at",{ascending:!1});if(A)throw A;w&&t(O||[])}catch(_){console.error("Error fetching applications:",_),w&&l(_ instanceof Error?_.message:"Failed to load applications")}finally{w&&s(!1)}}return C(),()=>{w=!1}},[r,d,p,v]);const x=w=>{switch(w){case"in-progress":return"bg-yellow-100 text-yellow-800";case"submitted":return"bg-green-100 text-green-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return i?N.jsxDEV("div",{className:"flex justify-center items-center h-64",children:N.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:130,columnNumber:9},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:129,columnNumber:7},this):o?N.jsxDEV("div",{className:"text-red-600 p-4",children:["Error: ",o]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:137,columnNumber:7},this):N.jsxDEV("div",{className:"container mx-auto px-4 py-8",children:[N.jsxDEV("div",{className:"mb-8 space-y-4 md:space-y-0 md:flex md:items-center md:space-x-4",children:[N.jsxDEV("div",{className:"flex-1",children:N.jsxDEV("input",{type:"text",placeholder:"Search by title or description...",value:d,onChange:w=>f(w.target.value),className:"w-full px-4 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:149,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:148,columnNumber:9},this),N.jsxDEV("div",{className:"w-full md:w-48",children:N.jsxDEV("select",{value:p,onChange:w=>m(w.target.value),className:"w-full px-4 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[N.jsxDEV("option",{value:"all",children:"All Status"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:165,columnNumber:13},this),N.jsxDEV("option",{value:"cancelled",children:"Cancelled"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:166,columnNumber:13},this),N.jsxDEV("option",{value:"in-progress",children:"In Progress"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:167,columnNumber:13},this),N.jsxDEV("option",{value:"submitted",children:"Submitted"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:168,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:160,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:159,columnNumber:9},this),N.jsxDEV("div",{className:"flex space-x-2",children:[N.jsxDEV("input",{type:"date",value:v.start,onChange:w=>b(C=>({...C,start:w.target.value})),className:"px-4 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:174,columnNumber:11},this),N.jsxDEV("span",{className:"self-center",children:"to"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:180,columnNumber:11},this),N.jsxDEV("input",{type:"date",value:v.end,onChange:w=>b(C=>({...C,end:w.target.value})),className:"px-4 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:181,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:173,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:146,columnNumber:7},this),N.jsxDEV("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:N.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200",children:[N.jsxDEV("thead",{className:"bg-gray-50",children:N.jsxDEV("tr",{children:[N.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:195,columnNumber:15},this),N.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:196,columnNumber:15},this),N.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:197,columnNumber:15},this),N.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:198,columnNumber:15},this),N.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:199,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:194,columnNumber:13},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:193,columnNumber:11},this),N.jsxDEV("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?N.jsxDEV("tr",{children:N.jsxDEV("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No applications found"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:205,columnNumber:17},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:204,columnNumber:15},this):e.map(w=>N.jsxDEV("tr",{className:"hover:bg-gray-50",children:[N.jsxDEV("td",{className:"px-6 py-4",children:N.jsxDEV(pi,{to:`/dashboard/applications/${w.id}`,className:"text-indigo-600 hover:text-indigo-900",children:w.title},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:213,columnNumber:21},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:212,columnNumber:19},this),N.jsxDEV("td",{className:"px-6 py-4",children:N.jsxDEV("div",{className:"text-sm text-gray-900 truncate max-w-xs",children:w.description},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:221,columnNumber:21},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:220,columnNumber:19},this),N.jsxDEV("td",{className:"px-6 py-4",children:N.jsxDEV("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x(w.status)}`,children:w.status},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:226,columnNumber:21},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:225,columnNumber:19},this),N.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(w.updated_at).toLocaleDateString()},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:230,columnNumber:19},this),N.jsxDEV("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(w.created_at).toLocaleDateString()},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:233,columnNumber:19},this)]},w.id,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:211,columnNumber:17},this))},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:202,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:192,columnNumber:9},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:191,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.tsx",lineNumber:144,columnNumber:5},this)}const uB=r=>r.replace(/[^a-zA-Z0-9.-]/g,"_").replace(/_{2,}/g,"_");function cB(){var Re;const{id:r}=tx(),e=fl(),[t,i]=U.useState(null),[s,o]=U.useState([]),[l,d]=U.useState(!0),[f,p]=U.useState(null),[m,v]=U.useState(!1),[b,x]=U.useState([]),[w,C]=U.useState(!1),_=U.useRef(null),[O,A]=U.useState(!1);U.useEffect(()=>{async function be(){try{const{data:ye,error:$e}=await ke.from("grant_applications").select("*").eq("id",r).single();if($e)throw $e;i(ye);const{data:Ee}=await ke.storage.from("grant-attachments").list(ye.id),{data:Ie,error:jt}=await ke.from("grant_application_section").select(`
            id,
            is_completed,
            flow_order,
            grant_sections (
              name,
              description
            )
          `).eq("grant_application_id",r).order("flow_order");if(jt)throw jt;const Dt=Ie.map(Nt=>({id:Nt.id,name:Nt.grant_sections.name,description:Nt.grant_sections.description,flow_order:Nt.flow_order,is_completed:Nt.is_completed}));o(Dt);const{data:gt,error:rn}=await ke.from("grant_application_documents").select("*").eq("grant_application_id",r);if(rn)throw rn;const Ut=(gt==null?void 0:gt.map(Nt=>{var zt;const ln=Ee==null?void 0:Ee.find(pn=>pn.name===Nt.file_path.split("/").pop());return{id:Nt.id,name:Nt.file_name,size:((zt=ln==null?void 0:ln.metadata)==null?void 0:zt.size)||0,type:Nt.file_type,uploadedAt:new Date(Nt.created_at),file_path:Nt.file_path}}))||[];x(Ut)}catch(ye){console.error("Error fetching application data:",ye),p("Failed to load application")}finally{d(!1)}}be()},[r]);const F=async be=>{if(!(!t||m))try{v(!0);const{error:ye}=await ke.from("grant_applications").update({status:be}).eq("id",t.id);if(ye)throw ye;i($e=>$e?{...$e,status:be}:null),e("/dashboard")}catch(ye){console.error(`Error ${be==="cancelled"?"cancelling":"submitting"} application:`,ye),p(`Failed to ${be==="cancelled"?"cancel":"submit"} application`)}finally{v(!1)}},P=async be=>{var $e;const ye=be.target.files;if(!(!ye||!t)){C(!0);try{for(const Ee of Array.from(ye)){const Ie=crypto.randomUUID(),jt=uB(Ee.name),Lt=`${t.id}/${Ie}-${jt}`,{error:Dt}=await ke.storage.from("grant-attachments").upload(Lt,Ee);if(Dt)throw Dt;const{error:gt}=await ke.from("grant_application_documents").insert({grant_application_id:t.id,file_name:Ee.name,file_type:(($e=Ee.type.split("/").pop())==null?void 0:$e.toLowerCase())||"other",file_path:Lt});if(gt)throw gt;x(rn=>[...rn,{id:Ie,name:Ee.name,size:Ee.size,type:Ee.type,uploadedAt:new Date,file_path:Lt}])}}catch(Ee){console.error("Error uploading files:",Ee),p("Failed to upload attachments")}finally{C(!1),_.current&&(_.current.value="")}}},K=async be=>{if(t)try{const ye=b.find(jt=>jt.id===be);if(!ye)return;const $e=`${t.id}/${be}-${ye.name}`,{error:Ee}=await ke.storage.from("grant-attachments").remove([$e]);if(Ee)throw Ee;const{error:Ie}=await ke.from("grant_application_documents").delete().eq("id",be);if(Ie)throw Ie;x(jt=>jt.filter(Lt=>Lt.id!==be))}catch(ye){console.error("Error deleting attachment:",ye),p("Failed to delete attachment")}},le=async be=>{try{const{data:ye,error:$e}=await ke.storage.from("grant-attachments").download(be.file_path);if($e)throw $e;const Ee=URL.createObjectURL(ye),Ie=document.createElement("a");Ie.href=Ee,Ie.download=be.name,document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie),URL.revokeObjectURL(Ee)}catch(ye){console.error("Error downloading file:",ye),p("Failed to download file")}},L=async()=>{var be;if(!(!r||O))try{A(!0),p(null);const{data:{session:ye}}=await ke.auth.getSession();if(!ye)throw new Error("No active session");const $e=await fetch("https://lzzqttfkqbskoqxwpair.supabase.co/functions/v1/generate-grant",{method:"POST",headers:{Authorization:`Bearer ${ye.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({application_id:r})});if(!$e.ok){const Dt=await $e.json();throw new Error(((be=Dt.error)==null?void 0:be.message)||"Failed to generate grant")}if(!(await $e.json()).success)throw new Error("Failed to generate grant");const{data:Ie,error:jt}=await ke.from("grant_application_section").select(`
          id,
          is_completed,
          flow_order,
          grant_sections (
            name,
            description
          )
        `).eq("grant_application_id",r).order("flow_order");if(jt)throw jt;const Lt=(Ie==null?void 0:Ie.map(Dt=>({id:Dt.id,name:Dt.grant_sections.name,description:Dt.grant_sections.description,flow_order:Dt.flow_order,is_completed:Dt.is_completed})))||[];o(Lt)}catch(ye){console.error("Error generating grant:",ye),p(ye instanceof Error?ye.message:"Failed to generate grant")}finally{A(!1)}};if(l)return N.jsxDEV("div",{className:"max-w-4xl mx-auto py-8 px-4",children:N.jsxDEV("div",{className:"animate-pulse",children:[N.jsxDEV("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:355,columnNumber:11},this),N.jsxDEV("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:356,columnNumber:11},this),N.jsxDEV("div",{className:"h-4 bg-gray-200 rounded w-1/2"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:357,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:354,columnNumber:9},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:353,columnNumber:7},this);if(f)return N.jsxDEV("div",{className:"max-w-4xl mx-auto py-8 px-4",children:N.jsxDEV("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:f},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:366,columnNumber:9},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:365,columnNumber:7},this);if(!t)return N.jsxDEV("div",{className:"max-w-4xl mx-auto py-8 px-4",children:N.jsxDEV("div",{className:"bg-yellow-50 border border-yellow-400 text-yellow-700 px-4 py-3 rounded relative",children:"Application not found"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:376,columnNumber:9},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:375,columnNumber:7},this);const ne=t.status==="in-progress",re=s.every(be=>be.is_completed),ve=b.length>0,Le=!!((Re=t.description)!=null&&Re.trim()),ze=ve&&Le;return N.jsxDEV("div",{className:"w-4/5 mx-auto py-8 px-4",children:N.jsxDEV("div",{className:"bg-white shadow rounded-lg p-6",children:[N.jsxDEV("div",{className:"mb-6",children:N.jsxDEV("div",{className:"flex justify-between items-start",children:[N.jsxDEV("div",{children:[N.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:t.title},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:395,columnNumber:15},this),N.jsxDEV("p",{className:"text-sm text-gray-500",children:["Created ",new Date(t.created_at).toLocaleDateString(),t.updated_at&&`  Last updated ${new Date(t.updated_at).toLocaleDateString()}`]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:396,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:394,columnNumber:13},this),N.jsxDEV("div",{className:"flex space-x-4",children:ne&&N.jsxDEV(N.Fragment,{children:[N.jsxDEV("button",{onClick:()=>F("submitted"),disabled:m||!re,className:`px-4 py-2 rounded-md text-white ${re?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"}`,title:re?"":"All sections must be completed before submitting",children:m?"Submitting...":"Submit"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:404,columnNumber:19},this),N.jsxDEV("button",{onClick:()=>F("cancelled"),disabled:m,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md",children:m?"Cancelling...":"Cancel"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:416,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:403,columnNumber:17},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:401,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:393,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:392,columnNumber:9},this),N.jsxDEV("div",{className:"flex justify-end space-x-4 mb-6",children:[N.jsxDEV("button",{onClick:L,disabled:!ze||O,title:ze?"":"Requires description and attachments to generate grant",className:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${ze&&!O?"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500":"bg-gray-400 cursor-not-allowed"}`,children:[N.jsxDEV("svg",{className:`mr-2 -ml-1 h-5 w-5 ${O?"animate-spin":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:O?N.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:443,columnNumber:17},this):N.jsxDEV("path",{d:"M10 3.75a2 2 0 10-4 0 2 2 0 004 0zM17.25 4.5a.75.75 0 00-1.5 0v5.15a3.72 3.72 0 01-2.875 3.622l-1.95.39a.75.75 0 00-.525.67v5.332c0 .414.336.75.75.75h.008a.75.75 0 00.75-.75v-4.923l1.95-.39a5.22 5.22 0 004.042-5.083V4.5zM5.75 15.75a.75.75 0 00-.75.75v2.752a.75.75 0 101.5 0v-2.752a.75.75 0 00-.75-.75zm7.5-12a.75.75 0 00-.75.75v2.752a.75.75 0 101.5 0V4.5a.75.75 0 00-.75-.75z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:445,columnNumber:17},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:441,columnNumber:13},this),O?"Generating...":"Generate Grant"]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:431,columnNumber:11},this),N.jsxDEV("div",{className:"relative",children:[N.jsxDEV("input",{type:"file",ref:_,onChange:P,multiple:!0,className:"hidden",accept:".pdf,.doc,.docx,.txt"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:451,columnNumber:13},this),N.jsxDEV("button",{onClick:()=>{var be;return(be=_.current)==null?void 0:be.click()},disabled:w,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[N.jsxDEV("svg",{className:"mr-2 -ml-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[N.jsxDEV("path",{d:"M10 5.5a.75.75 0 01.75.75v6.043l1.446-1.446a.75.75 0 111.06 1.06l-2.756 2.757a.75.75 0 01-1.06 0L6.684 11.907a.75.75 0 111.06-1.06l1.446 1.446V6.25A.75.75 0 0110 5.5z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:465,columnNumber:17},this),N.jsxDEV("path",{d:"M5.507 4.507C7.254 2.76 9.613 2 12 2c2.387 0 4.746.76 6.493 2.507 1.747 1.747 2.507 4.106 2.507 6.493 0 2.387-.76 4.746-2.507 6.493C16.746 19.24 14.387 20 12 20c-2.387 0-4.746-.76-6.493-2.507C3.76 15.746 3 13.387 3 11c0-2.387.76-4.746 2.507-6.493z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:466,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:464,columnNumber:15},this),w?"Uploading...":"Add Attachments"]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:459,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:450,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:430,columnNumber:9},this),N.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[N.jsxDEV("div",{children:[N.jsxDEV("h2",{className:"text-sm font-medium text-gray-500",children:"Status"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:475,columnNumber:13},this),N.jsxDEV("p",{className:"mt-1 text-lg",children:t.status},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:476,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:474,columnNumber:11},this),N.jsxDEV("div",{children:[N.jsxDEV("h2",{className:"text-sm font-medium text-gray-500",children:"Resubmission"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:479,columnNumber:13},this),N.jsxDEV("p",{className:"mt-1 text-lg",children:t.resubmission?"Yes":"No"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:480,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:478,columnNumber:11},this),N.jsxDEV("div",{children:[N.jsxDEV("h2",{className:"text-sm font-medium text-gray-500",children:"Amount Requested"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:483,columnNumber:13},this),N.jsxDEV("p",{className:"mt-1 text-lg",children:t.amount_requested?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t.amount_requested):"Not specified"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:484,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:482,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:473,columnNumber:9},this),N.jsxDEV("div",{className:"mb-6",children:[N.jsxDEV("h2",{className:"text-sm font-medium text-gray-500 mb-2",children:"Description"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:494,columnNumber:11},this),N.jsxDEV("p",{className:"text-gray-900",children:t.description},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:495,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:493,columnNumber:9},this),N.jsxDEV("div",{className:"border-t pt-6",children:[N.jsxDEV("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sections"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:500,columnNumber:11},this),N.jsxDEV("div",{className:"space-y-4",children:s.map(be=>N.jsxDEV("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:N.jsxDEV("div",{className:"flex items-center justify-between",children:[N.jsxDEV("div",{children:[N.jsxDEV("h3",{className:"text-base font-medium text-gray-900",children:be.name},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:509,columnNumber:21},this),be.description&&N.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:be.description},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:511,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:508,columnNumber:19},this),N.jsxDEV("div",{className:"flex items-center",children:[be.is_completed?N.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Completed"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:516,columnNumber:23},this):N.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"In Progress"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:520,columnNumber:23},this),N.jsxDEV("button",{className:"ml-4 text-sm text-blue-600 hover:text-blue-800",onClick:()=>e(`/dashboard/applications/${r}/sections/${be.id}`),children:"Edit"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:524,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:514,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:507,columnNumber:17},this)},be.id,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:503,columnNumber:15},this))},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:501,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:499,columnNumber:9},this),N.jsxDEV("div",{className:"border-t pt-6 mb-6",children:[N.jsxDEV("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Attachments"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:539,columnNumber:11},this),b.length>0?N.jsxDEV("ul",{className:"divide-y divide-gray-200",children:b.map(be=>N.jsxDEV("li",{className:"py-4 flex items-center justify-between",children:[N.jsxDEV("div",{className:"flex items-center",children:[N.jsxDEV("svg",{className:"h-5 w-5 text-gray-400 mr-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsxDEV("path",{fillRule:"evenodd",d:"M4.5 2A1.5 1.5 0 003 3.5v13A1.5 1.5 0 004.5 18h11a1.5 1.5 0 001.5-1.5V7.621a1.5 1.5 0 00-.44-1.06l-4.12-4.122A1.5 1.5 0 0011.378 2H4.5zm2.25 8.5a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5zm0 3a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z",clipRule:"evenodd"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:546,columnNumber:23},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:545,columnNumber:21},this),N.jsxDEV("div",{children:[N.jsxDEV("p",{className:"text-sm font-medium text-gray-900",children:be.name},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:549,columnNumber:23},this),N.jsxDEV("p",{className:"text-sm text-gray-500",children:[(be.size/1024).toFixed(1)," KB  ",be.uploadedAt.toLocaleString()]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:550,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:548,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:544,columnNumber:19},this),N.jsxDEV("div",{className:"flex items-center space-x-3",children:[N.jsxDEV("button",{onClick:()=>le(be),className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Download"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:556,columnNumber:21},this),N.jsxDEV("button",{onClick:()=>K(be.id),className:"text-sm font-medium text-red-600 hover:text-red-500",children:"Delete"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:562,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:555,columnNumber:19},this)]},be.id,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:543,columnNumber:17},this))},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:541,columnNumber:13},this):N.jsxDEV("p",{className:"text-gray-500",children:"No attachments yet"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:573,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:538,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:391,columnNumber:7},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.tsx",lineNumber:390,columnNumber:5},this)}function mr(r){this.content=r}mr.prototype={constructor:mr,find:function(r){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===r)return e;return-1},get:function(r){var e=this.find(r);return e==-1?void 0:this.content[e+1]},update:function(r,e,t){var i=t&&t!=r?this.remove(t):this,s=i.find(r),o=i.content.slice();return s==-1?o.push(t||r,e):(o[s+1]=e,t&&(o[s]=t)),new mr(o)},remove:function(r){var e=this.find(r);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new mr(t)},addToStart:function(r,e){return new mr([r,e].concat(this.remove(r).content))},addToEnd:function(r,e){var t=this.remove(r).content.slice();return t.push(r,e),new mr(t)},addBefore:function(r,e,t){var i=this.remove(e),s=i.content.slice(),o=i.find(r);return s.splice(o==-1?s.length:o,0,e,t),new mr(s)},forEach:function(r){for(var e=0;e<this.content.length;e+=2)r(this.content[e],this.content[e+1])},prepend:function(r){return r=mr.from(r),r.size?new mr(r.content.concat(this.subtract(r).content)):this},append:function(r){return r=mr.from(r),r.size?new mr(this.subtract(r).content.concat(r.content)):this},subtract:function(r){var e=this;r=mr.from(r);for(var t=0;t<r.content.length;t+=2)e=e.remove(r.content[t]);return e},toObject:function(){var r={};return this.forEach(function(e,t){r[e]=t}),r},get size(){return this.content.length>>1}};mr.from=function(r){if(r instanceof mr)return r;var e=[];if(r)for(var t in r)e.push(t,r[t]);return new mr(e)};function z_(r,e,t){for(let i=0;;i++){if(i==r.childCount||i==e.childCount)return r.childCount==e.childCount?null:t;let s=r.child(i),o=e.child(i);if(s==o){t+=s.nodeSize;continue}if(!s.sameMarkup(o))return t;if(s.isText&&s.text!=o.text){for(let l=0;s.text[l]==o.text[l];l++)t++;return t}if(s.content.size||o.content.size){let l=z_(s.content,o.content,t+1);if(l!=null)return l}t+=s.nodeSize}}function V_(r,e,t,i){for(let s=r.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:t,b:i};let l=r.child(--s),d=e.child(--o),f=l.nodeSize;if(l==d){t-=f,i-=f;continue}if(!l.sameMarkup(d))return{a:t,b:i};if(l.isText&&l.text!=d.text){let p=0,m=Math.min(l.text.length,d.text.length);for(;p<m&&l.text[l.text.length-p-1]==d.text[d.text.length-p-1];)p++,t--,i--;return{a:t,b:i}}if(l.content.size||d.content.size){let p=V_(l.content,d.content,t-1,i-1);if(p)return p}t-=f,i-=f}}class de{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,t,i,s=0,o){for(let l=0,d=0;d<t;l++){let f=this.content[l],p=d+f.nodeSize;if(p>e&&i(f,s+d,o||null,l)!==!1&&f.content.size){let m=d+1;f.nodesBetween(Math.max(0,e-m),Math.min(f.content.size,t-m),i,s+m)}d=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,i,s){let o="",l=!0;return this.nodesBetween(e,t,(d,f)=>{let p=d.isText?d.text.slice(Math.max(e,f)-f,t-f):d.isLeaf?s?typeof s=="function"?s(d):s:d.type.spec.leafText?d.type.spec.leafText(d):"":"";d.isBlock&&(d.isLeaf&&p||d.isTextblock)&&i&&(l?l=!1:o+=i),o+=p},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,i=e.firstChild,s=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(i)&&(s[s.length-1]=t.withText(t.text+i.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new de(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let i=[],s=0;if(t>e)for(let o=0,l=0;l<t;o++){let d=this.content[o],f=l+d.nodeSize;f>e&&((l<e||f>t)&&(d.isText?d=d.cut(Math.max(0,e-l),Math.min(d.text.length,t-l)):d=d.cut(Math.max(0,e-l-1),Math.min(d.content.size,t-l-1))),i.push(d),s+=d.nodeSize),l=f}return new de(i,s)}cutByIndex(e,t){return e==t?de.empty:e==0&&t==this.content.length?this:new de(this.content.slice(e,t))}replaceChild(e,t){let i=this.content[e];if(i==t)return this;let s=this.content.slice(),o=this.size+t.nodeSize-i.nodeSize;return s[e]=t,new de(s,o)}addToStart(e){return new de([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new de(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,i=0;t<this.content.length;t++){let s=this.content[t];e(s,i,t),i+=s.nodeSize}}findDiffStart(e,t=0){return z_(this,e,t)}findDiffEnd(e,t=this.size,i=e.size){return V_(this,e,t,i)}findIndex(e,t=-1){if(e==0)return Dp(0,e);if(e==this.size)return Dp(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let i=0,s=0;;i++){let o=this.child(i),l=s+o.nodeSize;if(l>=e)return l==e||t>0?Dp(i+1,l):Dp(i,s);s=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return de.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new de(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return de.empty;let t,i=0;for(let s=0;s<e.length;s++){let o=e[s];i+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(t||(t=e.slice(0,s)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new de(t||e,i)}static from(e){if(!e)return de.empty;if(e instanceof de)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new de([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}de.empty=new de([],0);const Gb={index:0,offset:0};function Dp(r,e){return Gb.index=r,Gb.offset=e,Gb}function Gp(r,e){if(r===e)return!0;if(!(r&&typeof r=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(r);if(Array.isArray(e)!=t)return!1;if(t){if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(!Gp(r[i],e[i]))return!1}else{for(let i in r)if(!(i in e)||!Gp(r[i],e[i]))return!1;for(let i in e)if(!(i in r))return!1}return!0}let Qt=class _0{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,i=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!i&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),i=!0),t&&t.push(o)}}return t||(t=e.slice()),i||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Gp(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[t.type];if(!i)throw new RangeError(`There is no mark type ${t.type} in this schema`);let s=i.create(t.attrs);return i.checkAttrs(s.attrs),s}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(t[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return _0.none;if(e instanceof _0)return[e];let t=e.slice();return t.sort((i,s)=>i.type.rank-s.type.rank),t}};Qt.none=[];class Jp extends Error{}class Te{constructor(e,t,i){this.content=e,this.openStart=t,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let i=I_(this.content,e+this.openStart,t);return i&&new Te(i,this.openStart,this.openEnd)}removeBetween(e,t){return new Te(P_(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Te.empty;let i=t.openStart||0,s=t.openEnd||0;if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Te(de.fromJSON(e,t.content),i,s)}static maxOpen(e,t=!0){let i=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)i++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)s++;return new Te(e,i,s)}}Te.empty=new Te(de.empty,0,0);function P_(r,e,t){let{index:i,offset:s}=r.findIndex(e),o=r.maybeChild(i),{index:l,offset:d}=r.findIndex(t);if(s==e||o.isText){if(d!=t&&!r.child(l).isText)throw new RangeError("Removing non-flat range");return r.cut(0,e).append(r.cut(t))}if(i!=l)throw new RangeError("Removing non-flat range");return r.replaceChild(i,o.copy(P_(o.content,e-s-1,t-s-1)))}function I_(r,e,t,i){let{index:s,offset:o}=r.findIndex(e),l=r.maybeChild(s);if(o==e||l.isText)return r.cut(0,e).append(t).append(r.cut(e));let d=I_(l.content,e-o-1,t);return d&&r.replaceChild(s,l.copy(d))}function dB(r,e,t){if(t.openStart>r.depth)throw new Jp("Inserted content deeper than insertion position");if(r.depth-t.openStart!=e.depth-t.openEnd)throw new Jp("Inconsistent open depths");return F_(r,e,t,0)}function F_(r,e,t,i){let s=r.index(i),o=r.node(i);if(s==e.index(i)&&i<r.depth-t.openStart){let l=F_(r,e,t,i+1);return o.copy(o.content.replaceChild(s,l))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&r.depth==i&&e.depth==i){let l=r.parent,d=l.content;return il(l,d.cut(0,r.parentOffset).append(t.content).append(d.cut(e.parentOffset)))}else{let{start:l,end:d}=fB(t,r);return il(o,B_(r,l,d,e,i))}else return il(o,Kp(r,e,i))}function $_(r,e){if(!e.type.compatibleContent(r.type))throw new Jp("Cannot join "+e.type.name+" onto "+r.type.name)}function T0(r,e,t){let i=r.node(t);return $_(i,e.node(t)),i}function rl(r,e){let t=e.length-1;t>=0&&r.isText&&r.sameMarkup(e[t])?e[t]=r.withText(e[t].text+r.text):e.push(r)}function $d(r,e,t,i){let s=(e||r).node(t),o=0,l=e?e.index(t):s.childCount;r&&(o=r.index(t),r.depth>t?o++:r.textOffset&&(rl(r.nodeAfter,i),o++));for(let d=o;d<l;d++)rl(s.child(d),i);e&&e.depth==t&&e.textOffset&&rl(e.nodeBefore,i)}function il(r,e){return r.type.checkContent(e),r.copy(e)}function B_(r,e,t,i,s){let o=r.depth>s&&T0(r,e,s+1),l=i.depth>s&&T0(t,i,s+1),d=[];return $d(null,r,s,d),o&&l&&e.index(s)==t.index(s)?($_(o,l),rl(il(o,B_(r,e,t,i,s+1)),d)):(o&&rl(il(o,Kp(r,e,s+1)),d),$d(e,t,s,d),l&&rl(il(l,Kp(t,i,s+1)),d)),$d(i,null,s,d),new de(d)}function Kp(r,e,t){let i=[];if($d(null,r,t,i),r.depth>t){let s=T0(r,e,t+1);rl(il(s,Kp(r,e,t+1)),i)}return $d(e,null,t,i),new de(i)}function fB(r,e){let t=e.depth-r.openStart,s=e.node(t).copy(r.content);for(let o=t-1;o>=0;o--)s=e.node(o).copy(de.from(s));return{start:s.resolveNoCache(r.openStart+t),end:s.resolveNoCache(s.content.size-r.openEnd-t)}}class Kd{constructor(e,t,i){this.pos=e,this.path=t,this.parentOffset=i,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],s=e.child(t);return i?e.child(t).cut(i):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let i=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)s+=i.child(o).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Qt.none;if(this.textOffset)return e.child(t).marks;let i=e.maybeChild(t-1),s=e.maybeChild(t);if(!i){let d=i;i=s,s=d}let o=i.marks;for(var l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!s||!o[l].isInSet(s.marks))&&(o=o[l--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let i=t.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!t||t(this.node(i))))return new Yp(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let i=[],s=0,o=t;for(let l=e;;){let{index:d,offset:f}=l.content.findIndex(o),p=o-f;if(i.push(l,d,s+f),!p||(l=l.child(d),l.isText))break;o=p-1,s+=f+1}return new Kd(t,i,o)}static resolveCached(e,t){let i=TD.get(e);if(i)for(let o=0;o<i.elts.length;o++){let l=i.elts[o];if(l.pos==t)return l}else TD.set(e,i=new hB);let s=i.elts[i.i]=Kd.resolve(e,t);return i.i=(i.i+1)%pB,s}}class hB{constructor(){this.elts=[],this.i=0}}const pB=12,TD=new WeakMap;class Yp{constructor(e,t,i){this.$from=e,this.$to=t,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const mB=Object.create(null);let Gs=class k0{constructor(e,t,i,s=Qt.none){this.type=e,this.attrs=t,this.marks=s,this.content=i||de.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,i,s=0){this.content.nodesBetween(e,t,i,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,i,s){return this.content.textBetween(e,t,i,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,i){return this.type==e&&Gp(this.attrs,t||e.defaultAttrs||mB)&&Qt.sameSet(this.marks,i||Qt.none)}copy(e=null){return e==this.content?this:new k0(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new k0(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,i=!1){if(e==t)return Te.empty;let s=this.resolve(e),o=this.resolve(t),l=i?0:s.sharedDepth(t),d=s.start(l),p=s.node(l).content.cut(s.pos-d,o.pos-d);return new Te(p,s.depth-l,o.depth-l)}replace(e,t,i){return dB(this.resolve(e),this.resolve(t),i)}nodeAt(e){for(let t=this;;){let{index:i,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(i),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(t),index:t,offset:i};let s=this.content.child(t-1);return{node:s,index:t-1,offset:i-s.nodeSize}}resolve(e){return Kd.resolveCached(this,e)}resolveNoCache(e){return Kd.resolve(this,e)}rangeHasMark(e,t,i){let s=!1;return t>e&&this.nodesBetween(e,t,o=>(i.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),H_(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,i=de.empty,s=0,o=i.childCount){let l=this.contentMatchAt(e).matchFragment(i,s,o),d=l&&l.matchFragment(this.content,t);if(!d||!d.validEnd)return!1;for(let f=s;f<o;f++)if(!this.type.allowsMarks(i.child(f).marks))return!1;return!0}canReplaceWith(e,t,i,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(i),l=o&&o.matchFragment(this.content,t);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Qt.none;for(let t=0;t<this.marks.length;t++){let i=this.marks[t];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!Qt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let i;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,i)}let s=de.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,s,i);return o.type.checkAttrs(o.attrs),o}};Gs.prototype.text=void 0;class Qp extends Gs{constructor(e,t,i,s){if(super(e,t,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):H_(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Qp(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Qp(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function H_(r,e){for(let t=r.length-1;t>=0;t--)e=r[t].type.name+"("+e+")";return e}class ll{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let i=new gB(e,t);if(i.next==null)return ll.empty;let s=q_(i);i.next&&i.err("Unexpected trailing text");let o=NB(SB(s));return EB(o,i),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,i=e.childCount){let s=this;for(let o=t;s&&o<i;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let i=0;i<e.next.length;i++)if(this.next[t].type==e.next[i].type)return!0;return!1}fillBefore(e,t=!1,i=0){let s=[this];function o(l,d){let f=l.matchFragment(e,i);if(f&&(!t||f.validEnd))return de.from(d.map(p=>p.createAndFill()));for(let p=0;p<l.next.length;p++){let{type:m,next:v}=l.next[p];if(!(m.isText||m.hasRequiredAttrs())&&s.indexOf(v)==-1){s.push(v);let b=o(v,d.concat(m));if(b)return b}}return null}return o(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let s=i.shift(),o=s.match;if(o.matchType(e)){let l=[];for(let d=s;d.type;d=d.via)l.push(d.type);return l.reverse()}for(let l=0;l<o.next.length;l++){let{type:d,next:f}=o.next[l];!d.isLeaf&&!d.hasRequiredAttrs()&&!(d.name in t)&&(!s.type||f.validEnd)&&(i.push({match:d.contentMatch,type:d,via:s}),t[d.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(i){e.push(i);for(let s=0;s<i.next.length;s++)e.indexOf(i.next[s].next)==-1&&t(i.next[s].next)}return t(this),e.map((i,s)=>{let o=s+(i.validEnd?"*":" ")+" ";for(let l=0;l<i.next.length;l++)o+=(l?", ":"")+i.next[l].type.name+"->"+e.indexOf(i.next[l].next);return o}).join(`
`)}}ll.empty=new ll(!0);class gB{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function q_(r){let e=[];do e.push(vB(r));while(r.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function vB(r){let e=[];do e.push(yB(r));while(r.next&&r.next!=")"&&r.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function yB(r){let e=wB(r);for(;;)if(r.eat("+"))e={type:"plus",expr:e};else if(r.eat("*"))e={type:"star",expr:e};else if(r.eat("?"))e={type:"opt",expr:e};else if(r.eat("{"))e=bB(r,e);else break;return e}function kD(r){/\D/.test(r.next)&&r.err("Expected number, got '"+r.next+"'");let e=Number(r.next);return r.pos++,e}function bB(r,e){let t=kD(r),i=t;return r.eat(",")&&(r.next!="}"?i=kD(r):i=-1),r.eat("}")||r.err("Unclosed braced range"),{type:"range",min:t,max:i,expr:e}}function xB(r,e){let t=r.nodeTypes,i=t[e];if(i)return[i];let s=[];for(let o in t){let l=t[o];l.isInGroup(e)&&s.push(l)}return s.length==0&&r.err("No node type or group '"+e+"' found"),s}function wB(r){if(r.eat("(")){let e=q_(r);return r.eat(")")||r.err("Missing closing paren"),e}else if(/\W/.test(r.next))r.err("Unexpected token '"+r.next+"'");else{let e=xB(r,r.next).map(t=>(r.inline==null?r.inline=t.isInline:r.inline!=t.isInline&&r.err("Mixing inline and block content"),{type:"name",value:t}));return r.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function SB(r){let e=[[]];return s(o(r,0),t()),e;function t(){return e.push([])-1}function i(l,d,f){let p={term:f,to:d};return e[l].push(p),p}function s(l,d){l.forEach(f=>f.to=d)}function o(l,d){if(l.type=="choice")return l.exprs.reduce((f,p)=>f.concat(o(p,d)),[]);if(l.type=="seq")for(let f=0;;f++){let p=o(l.exprs[f],d);if(f==l.exprs.length-1)return p;s(p,d=t())}else if(l.type=="star"){let f=t();return i(d,f),s(o(l.expr,f),f),[i(f)]}else if(l.type=="plus"){let f=t();return s(o(l.expr,d),f),s(o(l.expr,f),f),[i(f)]}else{if(l.type=="opt")return[i(d)].concat(o(l.expr,d));if(l.type=="range"){let f=d;for(let p=0;p<l.min;p++){let m=t();s(o(l.expr,f),m),f=m}if(l.max==-1)s(o(l.expr,f),f);else for(let p=l.min;p<l.max;p++){let m=t();i(f,m),s(o(l.expr,f),m),f=m}return[i(f)]}else{if(l.type=="name")return[i(d,void 0,l.value)];throw new Error("Unknown expr type")}}}}function W_(r,e){return e-r}function RD(r,e){let t=[];return i(e),t.sort(W_);function i(s){let o=r[s];if(o.length==1&&!o[0].term)return i(o[0].to);t.push(s);for(let l=0;l<o.length;l++){let{term:d,to:f}=o[l];!d&&t.indexOf(f)==-1&&i(f)}}}function NB(r){let e=Object.create(null);return t(RD(r,0));function t(i){let s=[];i.forEach(l=>{r[l].forEach(({term:d,to:f})=>{if(!d)return;let p;for(let m=0;m<s.length;m++)s[m][0]==d&&(p=s[m][1]);RD(r,f).forEach(m=>{p||s.push([d,p=[]]),p.indexOf(m)==-1&&p.push(m)})})});let o=e[i.join(",")]=new ll(i.indexOf(r.length-1)>-1);for(let l=0;l<s.length;l++){let d=s[l][1].sort(W_);o.next.push({type:s[l][0],next:e[d.join(",")]||t(d)})}return o}}function EB(r,e){for(let t=0,i=[r];t<i.length;t++){let s=i[t],o=!s.validEnd,l=[];for(let d=0;d<s.next.length;d++){let{type:f,next:p}=s.next[d];l.push(f.name),o&&!(f.isText||f.hasRequiredAttrs())&&(o=!1),i.indexOf(p)==-1&&i.push(p)}o&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function G_(r){let e=Object.create(null);for(let t in r){let i=r[t];if(!i.hasDefault)return null;e[t]=i.default}return e}function J_(r,e){let t=Object.create(null);for(let i in r){let s=e&&e[i];if(s===void 0){let o=r[i];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+i)}t[i]=s}return t}function K_(r,e,t,i){for(let s in e)if(!(s in r))throw new RangeError(`Unsupported attribute ${s} for ${t} of type ${s}`);for(let s in r){let o=r[s];o.validate&&o.validate(e[s])}}function Y_(r,e){let t=Object.create(null);if(e)for(let i in e)t[i]=new CB(r,i,e[i]);return t}let OD=class Q_{constructor(e,t,i){this.name=e,this.schema=t,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=Y_(e,i.attrs),this.defaultAttrs=G_(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ll.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:J_(this.attrs,e)}create(e=null,t,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Gs(this,this.computeAttrs(e),de.from(t),Qt.setFrom(i))}createChecked(e=null,t,i){return t=de.from(t),this.checkContent(t),new Gs(this,this.computeAttrs(e),t,Qt.setFrom(i))}createAndFill(e=null,t,i){if(e=this.computeAttrs(e),t=de.from(t),t.size){let l=this.contentMatch.fillBefore(t);if(!l)return null;t=l.append(t)}let s=this.contentMatch.matchFragment(t),o=s&&s.fillBefore(de.empty,!0);return o?new Gs(this,e,t.append(o),Qt.setFrom(i)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){K_(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?t&&t.push(e[i]):t||(t=e.slice(0,i));return t?t.length?t:Qt.none:e}static compile(e,t){let i=Object.create(null);e.forEach((o,l)=>i[o]=new Q_(o,t,l));let s=t.spec.topNode||"doc";if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let o in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function DB(r,e,t){let i=t.split("|");return s=>{let o=s===null?"null":typeof s;if(i.indexOf(o)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${r}, got ${o}`)}}class CB{constructor(e,t,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?DB(e,t,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class vm{constructor(e,t,i,s){this.name=e,this.rank=t,this.schema=i,this.spec=s,this.attrs=Y_(e,s.attrs),this.excluded=null;let o=G_(this.attrs);this.instance=o?new Qt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Qt(this,J_(this.attrs,e))}static compile(e,t){let i=Object.create(null),s=0;return e.forEach((o,l)=>i[o]=new vm(o,s++,t,l)),i}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){K_(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class X_{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=mr.from(e.nodes),t.marks=mr.from(e.marks||{}),this.nodes=OD.compile(this.spec.nodes,this),this.marks=vm.compile(this.spec.marks,this);let i=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],l=o.spec.content||"",d=o.spec.marks;if(o.contentMatch=i[l]||(i[l]=ll.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=d=="_"?null:d?MD(this,d.split(" ")):d==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],l=o.spec.excludes;o.excluded=l==null?[o]:l==""?[]:MD(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,i,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof OD){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,i,s)}text(e,t){let i=this.nodes.text;return new Qp(i,i.defaultAttrs,e,Qt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Gs.fromJSON(this,e)}markFromJSON(e){return Qt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function MD(r,e){let t=[];for(let i=0;i<e.length;i++){let s=e[i],o=r.marks[s],l=o;if(o)t.push(o);else for(let d in r.marks){let f=r.marks[d];(s=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(s)>-1)&&t.push(l=f)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return t}function _B(r){return r.tag!=null}function TB(r){return r.style!=null}class Js{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let i=this.matchedStyles=[];t.forEach(s=>{if(_B(s))this.tags.push(s);else if(TB(s)){let o=/[^=]*/.exec(s.style)[0];i.indexOf(o)<0&&i.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let i=new UD(this,t,!1);return i.addAll(e,Qt.none,t.from,t.to),i.finish()}parseSlice(e,t={}){let i=new UD(this,t,!0);return i.addAll(e,Qt.none,t.from,t.to),Te.maxOpen(i.finish())}matchTag(e,t,i){for(let s=i?this.tags.indexOf(i)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(OB(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let l=o.getAttrs(e);if(l===!1)continue;o.attrs=l||void 0}return o}}}matchStyle(e,t,i,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let l=this.styles[o],d=l.style;if(!(d.indexOf(e)!=0||l.context&&!i.matchesContext(l.context)||d.length>e.length&&(d.charCodeAt(e.length)!=61||d.slice(e.length+1)!=t))){if(l.getAttrs){let f=l.getAttrs(t);if(f===!1)continue;l.attrs=f||void 0}return l}}}static schemaRules(e){let t=[];function i(s){let o=s.priority==null?50:s.priority,l=0;for(;l<t.length;l++){let d=t[l];if((d.priority==null?50:d.priority)<o)break}t.splice(l,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(l=>{i(l=jD(l)),l.mark||l.ignore||l.clearMark||(l.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(l=>{i(l=jD(l)),l.node||l.ignore||l.mark||(l.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Js(e,Js.schemaRules(e)))}}const Z_={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},kB={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},eT={ol:!0,ul:!0},Yd=1,R0=2,jp=4;function AD(r,e,t){return e!=null?(e?Yd:0)|(e==="full"?R0:0):r&&r.whitespace=="pre"?Yd|R0:t&-5}class Cp{constructor(e,t,i,s,o,l){this.type=e,this.attrs=t,this.marks=i,this.solid=s,this.options=l,this.content=[],this.activeMarks=Qt.none,this.match=o||(l&jp?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(de.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let i=this.type.contentMatch,s;return(s=i.findWrapping(e.type))?(this.match=i,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Yd)){let i=this.content[this.content.length-1],s;if(i&&i.isText&&(s=/[ \t\r\n\u000c]+$/.exec(i.text))){let o=i;i.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let t=de.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(de.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Z_.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class UD{constructor(e,t,i){this.parser=e,this.options=t,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let s=t.topNode,o,l=AD(null,t.preserveWhitespace,0)|(i?jp:0);s?o=new Cp(s.type,s.attrs,Qt.none,!0,t.topMatch||s.type.contentMatch,l):i?o=new Cp(null,null,Qt.none,!0,null,l):o=new Cp(e.schema.topNodeType,null,Qt.none,!0,null,l),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let i=e.nodeValue,s=this.top,o=s.options&R0?"full":this.localPreserveWS||(s.options&Yd)>0;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(o)o!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let l=s.content[s.content.length-1],d=e.previousSibling;(!l||d&&d.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,i){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),d;eT.hasOwnProperty(l)&&this.parser.normalizeLists&&RB(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(d=this.parser.matchTag(e,this,i));e:if(f?f.ignore:kB.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,t);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let p,m=this.needsBlock;if(Z_.hasOwnProperty(l))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),p=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let v=f&&f.skip?t:this.readStyles(e,t);v&&this.addAll(e,v),p&&this.sync(o),this.needsBlock=m}else{let p=this.readStyles(e,t);p&&this.addElementByRule(e,f,p,f.consuming===!1?d:void 0)}this.localPreserveWS=s}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let i=e.style;if(i&&i.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],l=i.getPropertyValue(o);if(l)for(let d=void 0;;){let f=this.parser.matchStyle(o,l,this,d);if(!f)break;if(f.ignore)return null;if(f.clearMark?t=t.filter(p=>!f.clearMark(p)):t=t.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)d=f;else break}}return t}addElementByRule(e,t,i,s){let o,l;if(t.node)if(l=this.parser.schema.nodes[t.node],l.isLeaf)this.insertNode(l.create(t.attrs),i)||this.leafFallback(e,i);else{let f=this.enter(l,t.attrs||null,i,t.preserveWhitespace);f&&(o=!0,i=f)}else{let f=this.parser.schema.marks[t.mark];i=i.concat(f.create(t.attrs))}let d=this.top;if(l&&l.isLeaf)this.findInside(e);else if(s)this.addElement(e,i,s);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,i));else{let f=e;typeof t.contentElement=="string"?f=e.querySelector(t.contentElement):typeof t.contentElement=="function"?f=t.contentElement(e):t.contentElement&&(f=t.contentElement),this.findAround(e,f,!0),this.addAll(f,i),this.findAround(e,f,!1)}o&&this.sync(d)&&this.open--}addAll(e,t,i,s){let o=i||0;for(let l=i?e.childNodes[i]:e.firstChild,d=s==null?null:e.childNodes[s];l!=d;l=l.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(l,t);this.findAtPoint(e,o)}findPlace(e,t){let i,s;for(let o=this.open;o>=0;o--){let l=this.nodes[o],d=l.findWrapping(e);if(d&&(!i||i.length>d.length)&&(i=d,s=l,!d.length)||l.solid)break}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)t=this.enterInner(i[o],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let i=this.findPlace(e,t);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=Qt.none;for(let l of i.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):LD(l.type,e.type))&&(o=l.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,t,i,s){let o=this.findPlace(e.create(t),i);return o&&(o=this.enterInner(e,t,i,!0,s)),o}enterInner(e,t,i,s=!1,o){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let d=AD(e,o,l.options);l.options&jp&&l.content.length==0&&(d|=jp);let f=Qt.none;return i=i.filter(p=>(l.type?l.type.allowsMarkType(p.type):LD(p.type,e))?(f=p.addToSet(f),!1):!0),this.nodes.push(new Cp(e,t,f,s,null,d)),this.open++,i}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Yd)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let i=this.nodes[t].content;for(let s=i.length-1;s>=0;s--)e+=i[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==t&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,i){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(i?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),i=this.options.context,s=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),o=-(i?i.depth+1:0)+(s?0:1),l=(d,f)=>{for(;d>=0;d--){let p=t[d];if(p==""){if(d==t.length-1||d==0)continue;for(;f>=o;f--)if(l(d-1,f))return!0;return!1}else{let m=f>0||f==0&&s?this.nodes[f].type:i&&f>=o?i.node(f-o).type:null;if(!m||m.name!=p&&!m.isInGroup(p))return!1;f--}}return!0};return l(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let t in this.parser.schema.nodes){let i=this.parser.schema.nodes[t];if(i.isTextblock&&i.defaultAttrs)return i}}}function RB(r){for(let e=r.firstChild,t=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&eT.hasOwnProperty(i)&&t?(t.appendChild(e),e=t):i=="li"?t=e:i&&(t=null)}}function OB(r,e){return(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,e)}function jD(r){let e={};for(let t in r)e[t]=r[t];return e}function LD(r,e){let t=e.schema.nodes;for(let i in t){let s=t[i];if(!s.allowsMarkType(r))continue;let o=[],l=d=>{o.push(d);for(let f=0;f<d.edgeCount;f++){let{type:p,next:m}=d.edge(f);if(p==e||o.indexOf(m)<0&&l(m))return!0}};if(l(s.contentMatch))return!0}}class ml{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},i){i||(i=Jb(t).createDocumentFragment());let s=i,o=[];return e.forEach(l=>{if(o.length||l.marks.length){let d=0,f=0;for(;d<o.length&&f<l.marks.length;){let p=l.marks[f];if(!this.marks[p.type.name]){f++;continue}if(!p.eq(o[d][0])||p.type.spec.spanning===!1)break;d++,f++}for(;d<o.length;)s=o.pop()[1];for(;f<l.marks.length;){let p=l.marks[f++],m=this.serializeMark(p,l.isInline,t);m&&(o.push([p,s]),s.appendChild(m.dom),s=m.contentDOM||m.dom)}}s.appendChild(this.serializeNodeInner(l,t))}),i}serializeNodeInner(e,t){let{dom:i,contentDOM:s}=Lp(Jb(t),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return i}serializeNode(e,t={}){let i=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(i),i=o.dom)}return i}serializeMark(e,t,i={}){let s=this.marks[e.type.name];return s&&Lp(Jb(i),s(e,t),null,e.attrs)}static renderSpec(e,t,i=null,s){return Lp(e,t,i,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ml(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=zD(e.nodes);return t.text||(t.text=i=>i.text),t}static marksFromSchema(e){return zD(e.marks)}}function zD(r){let e={};for(let t in r){let i=r[t].spec.toDOM;i&&(e[t]=i)}return e}function Jb(r){return r.document||window.document}const VD=new WeakMap;function MB(r){let e=VD.get(r);return e===void 0&&VD.set(r,e=AB(r)),e}function AB(r){let e=null;function t(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let s=0;s<i.length;s++)t(i[s]);else for(let s in i)t(i[s])}return t(r),e}function Lp(r,e,t,i){if(typeof e=="string")return{dom:r.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(o=MB(i))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=s.indexOf(" ");l>0&&(t=s.slice(0,l),s=s.slice(l+1));let d,f=t?r.createElementNS(t,s):r.createElement(s),p=e[1],m=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){m=2;for(let v in p)if(p[v]!=null){let b=v.indexOf(" ");b>0?f.setAttributeNS(v.slice(0,b),v.slice(b+1),p[v]):f.setAttribute(v,p[v])}}for(let v=m;v<e.length;v++){let b=e[v];if(b===0){if(v<e.length-1||v>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:x,contentDOM:w}=Lp(r,b,t,i);if(f.appendChild(x),w){if(d)throw new RangeError("Multiple content holes");d=w}}}return{dom:f,contentDOM:d}}const tT=65535,nT=Math.pow(2,16);function UB(r,e){return r+e*nT}function PD(r){return r&tT}function jB(r){return(r-(r&tT))/nT}const rT=1,iT=2,zp=4,aT=8;class O0{constructor(e,t,i){this.pos=e,this.delInfo=t,this.recover=i}get deleted(){return(this.delInfo&aT)>0}get deletedBefore(){return(this.delInfo&(rT|zp))>0}get deletedAfter(){return(this.delInfo&(iT|zp))>0}get deletedAcross(){return(this.delInfo&zp)>0}}class mi{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&mi.empty)return mi.empty}recover(e){let t=0,i=PD(e);if(!this.inverted)for(let s=0;s<i;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[i*3]+t+jB(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,i){let s=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let f=this.ranges[d]-(this.inverted?s:0);if(f>e)break;let p=this.ranges[d+o],m=this.ranges[d+l],v=f+p;if(e<=v){let b=p?e==f?-1:e==v?1:t:t,x=f+s+(b<0?0:m);if(i)return x;let w=e==(t<0?f:v)?null:UB(d/3,e-f),C=e==f?iT:e==v?rT:zp;return(t<0?e!=f:e!=v)&&(C|=aT),new O0(x,C,w)}s+=m-p}return i?e+s:new O0(e+s,0,null)}touches(e,t){let i=0,s=PD(t),o=this.inverted?2:1,l=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let f=this.ranges[d]-(this.inverted?i:0);if(f>e)break;let p=this.ranges[d+o],m=f+p;if(e<=m&&d==s*3)return!0;i+=this.ranges[d+l]-p}return!1}forEach(e){let t=this.inverted?2:1,i=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let l=this.ranges[s],d=l-(this.inverted?o:0),f=l+(this.inverted?0:o),p=this.ranges[s+t],m=this.ranges[s+i];e(d,d+p,f,f+m),o+=m-p}}invert(){return new mi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?mi.empty:new mi(e<0?[0,-e,0]:[0,0,e])}}mi.empty=new mi([]);class Qd{constructor(e,t,i=0,s=e?e.length:0){this.mirror=t,this.from=i,this.to=s,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Qd(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,i=this._maps.length;t<e._maps.length;t++){let s=e.getMirror(t);this.appendMap(e._maps[t],s!=null&&s<t?i+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,i=this._maps.length+e._maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e._maps[t].invert(),s!=null&&s>t?i-s-1:void 0)}}invert(){let e=new Qd;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,i){let s=0;for(let o=this.from;o<this.to;o++){let l=this._maps[o],d=l.mapResult(e,t);if(d.recover!=null){let f=this.getMirror(o);if(f!=null&&f>o&&f<this.to){o=f,e=this._maps[f].recover(d.recover);continue}}s|=d.delInfo,e=d.pos}return i?e:new O0(e,s,null)}}const Kb=Object.create(null);class _r{getMap(){return mi.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Kb[t.stepType];if(!i)throw new RangeError(`No step type ${t.stepType} defined`);return i.fromJSON(e,t)}static jsonID(e,t){if(e in Kb)throw new RangeError("Duplicate use of step JSON ID "+e);return Kb[e]=t,t.prototype.jsonID=e,t}}class Rn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Rn(e,null)}static fail(e){return new Rn(null,e)}static fromReplace(e,t,i,s){try{return Rn.ok(e.replace(t,i,s))}catch(o){if(o instanceof Jp)return Rn.fail(o.message);throw o}}}function dx(r,e,t){let i=[];for(let s=0;s<r.childCount;s++){let o=r.child(s);o.content.size&&(o=o.copy(dx(o.content,e,o))),o.isInline&&(o=e(o,t,s)),i.push(o)}return de.fromArray(i)}class Hs extends _r{constructor(e,t,i){super(),this.from=e,this.to=t,this.mark=i}apply(e){let t=e.slice(this.from,this.to),i=e.resolve(this.from),s=i.node(i.sharedDepth(this.to)),o=new Te(dx(t.content,(l,d)=>!l.isAtom||!d.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),s),t.openStart,t.openEnd);return Rn.fromReplace(e,this.from,this.to,o)}invert(){return new Ea(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deleted&&i.deleted||t.pos>=i.pos?null:new Hs(t.pos,i.pos,this.mark)}merge(e){return e instanceof Hs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Hs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Hs(t.from,t.to,e.markFromJSON(t.mark))}}_r.jsonID("addMark",Hs);class Ea extends _r{constructor(e,t,i){super(),this.from=e,this.to=t,this.mark=i}apply(e){let t=e.slice(this.from,this.to),i=new Te(dx(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return Rn.fromReplace(e,this.from,this.to,i)}invert(){return new Hs(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deleted&&i.deleted||t.pos>=i.pos?null:new Ea(t.pos,i.pos,this.mark)}merge(e){return e instanceof Ea&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ea(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ea(t.from,t.to,e.markFromJSON(t.mark))}}_r.jsonID("removeMark",Ea);class qs extends _r{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Rn.fail("No node at mark step's position");let i=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Rn.fromReplace(e,this.pos,this.pos+1,new Te(de.from(i),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let i=this.mark.addToSet(t.marks);if(i.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(i))return new qs(this.pos,t.marks[s]);return new qs(this.pos,this.mark)}}return new Au(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new qs(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new qs(t.pos,e.markFromJSON(t.mark))}}_r.jsonID("addNodeMark",qs);class Au extends _r{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Rn.fail("No node at mark step's position");let i=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Rn.fromReplace(e,this.pos,this.pos+1,new Te(de.from(i),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new qs(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Au(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Au(t.pos,e.markFromJSON(t.mark))}}_r.jsonID("removeNodeMark",Au);class Zn extends _r{constructor(e,t,i,s=!1){super(),this.from=e,this.to=t,this.slice=i,this.structure=s}apply(e){return this.structure&&M0(e,this.from,this.to)?Rn.fail("Structure replace would overwrite content"):Rn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new mi([this.from,this.to-this.from,this.slice.size])}invert(e){return new Zn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return t.deletedAcross&&i.deletedAcross?null:new Zn(t.pos,Math.max(t.pos,i.pos),this.slice)}merge(e){if(!(e instanceof Zn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Te.empty:new Te(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Zn(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Te.empty:new Te(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Zn(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Zn(t.from,t.to,Te.fromJSON(e,t.slice),!!t.structure)}}_r.jsonID("replace",Zn);class tr extends _r{constructor(e,t,i,s,o,l,d=!1){super(),this.from=e,this.to=t,this.gapFrom=i,this.gapTo=s,this.slice=o,this.insert=l,this.structure=d}apply(e){if(this.structure&&(M0(e,this.from,this.gapFrom)||M0(e,this.gapTo,this.to)))return Rn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Rn.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,t.content);return i?Rn.fromReplace(e,this.from,this.to,i):Rn.fail("Content does not fit in gap")}getMap(){return new mi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new tr(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),s=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return t.deletedAcross&&i.deletedAcross||s<t.pos||o>i.pos?null:new tr(t.pos,i.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new tr(t.from,t.to,t.gapFrom,t.gapTo,Te.fromJSON(e,t.slice),t.insert,!!t.structure)}}_r.jsonID("replaceAround",tr);function M0(r,e,t){let i=r.resolve(e),s=t-e,o=i.depth;for(;s>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,s--;if(s>0){let l=i.node(o).maybeChild(i.indexAfter(o));for(;s>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,s--}}return!1}function LB(r,e,t,i){let s=[],o=[],l,d;r.doc.nodesBetween(e,t,(f,p,m)=>{if(!f.isInline)return;let v=f.marks;if(!i.isInSet(v)&&m.type.allowsMarkType(i.type)){let b=Math.max(p,e),x=Math.min(p+f.nodeSize,t),w=i.addToSet(v);for(let C=0;C<v.length;C++)v[C].isInSet(w)||(l&&l.to==b&&l.mark.eq(v[C])?l.to=x:s.push(l=new Ea(b,x,v[C])));d&&d.to==b?d.to=x:o.push(d=new Hs(b,x,i))}}),s.forEach(f=>r.step(f)),o.forEach(f=>r.step(f))}function zB(r,e,t,i){let s=[],o=0;r.doc.nodesBetween(e,t,(l,d)=>{if(!l.isInline)return;o++;let f=null;if(i instanceof vm){let p=l.marks,m;for(;m=i.isInSet(p);)(f||(f=[])).push(m),p=m.removeFromSet(p)}else i?i.isInSet(l.marks)&&(f=[i]):f=l.marks;if(f&&f.length){let p=Math.min(d+l.nodeSize,t);for(let m=0;m<f.length;m++){let v=f[m],b;for(let x=0;x<s.length;x++){let w=s[x];w.step==o-1&&v.eq(s[x].style)&&(b=w)}b?(b.to=p,b.step=o):s.push({style:v,from:Math.max(d,e),to:p,step:o})}}}),s.forEach(l=>r.step(new Ea(l.from,l.to,l.style)))}function fx(r,e,t,i=t.contentMatch,s=!0){let o=r.doc.nodeAt(e),l=[],d=e+1;for(let f=0;f<o.childCount;f++){let p=o.child(f),m=d+p.nodeSize,v=i.matchType(p.type);if(!v)l.push(new Zn(d,m,Te.empty));else{i=v;for(let b=0;b<p.marks.length;b++)t.allowsMarkType(p.marks[b].type)||r.step(new Ea(d,m,p.marks[b]));if(s&&p.isText&&t.whitespace!="pre"){let b,x=/\r?\n|\r/g,w;for(;b=x.exec(p.text);)w||(w=new Te(de.from(t.schema.text(" ",t.allowedMarks(p.marks))),0,0)),l.push(new Zn(d+b.index,d+b.index+b[0].length,w))}}d=m}if(!i.validEnd){let f=i.fillBefore(de.empty,!0);r.replace(d,d,new Te(f,0,0))}for(let f=l.length-1;f>=0;f--)r.step(l[f])}function VB(r,e,t){return(e==0||r.canReplace(e,r.childCount))&&(t==r.childCount||r.canReplace(0,t))}function Hu(r){let t=r.parent.content.cutByIndex(r.startIndex,r.endIndex);for(let i=r.depth;;--i){let s=r.$from.node(i),o=r.$from.index(i),l=r.$to.indexAfter(i);if(i<r.depth&&s.canReplace(o,l,t))return i;if(i==0||s.type.spec.isolating||!VB(s,o,l))break}return null}function PB(r,e,t){let{$from:i,$to:s,depth:o}=e,l=i.before(o+1),d=s.after(o+1),f=l,p=d,m=de.empty,v=0;for(let w=o,C=!1;w>t;w--)C||i.index(w)>0?(C=!0,m=de.from(i.node(w).copy(m)),v++):f--;let b=de.empty,x=0;for(let w=o,C=!1;w>t;w--)C||s.after(w+1)<s.end(w)?(C=!0,b=de.from(s.node(w).copy(b)),x++):p++;r.step(new tr(f,p,l,d,new Te(m.append(b),v,x),m.size-v,!0))}function hx(r,e,t=null,i=r){let s=IB(r,e),o=s&&FB(i,e);return o?s.map(ID).concat({type:e,attrs:t}).concat(o.map(ID)):null}function ID(r){return{type:r,attrs:null}}function IB(r,e){let{parent:t,startIndex:i,endIndex:s}=r,o=t.contentMatchAt(i).findWrapping(e);if(!o)return null;let l=o.length?o[0]:e;return t.canReplaceWith(i,s,l)?o:null}function FB(r,e){let{parent:t,startIndex:i,endIndex:s}=r,o=t.child(i),l=e.contentMatch.findWrapping(o.type);if(!l)return null;let f=(l.length?l[l.length-1]:e).contentMatch;for(let p=i;f&&p<s;p++)f=f.matchType(t.child(p).type);return!f||!f.validEnd?null:l}function $B(r,e,t){let i=de.empty;for(let l=t.length-1;l>=0;l--){if(i.size){let d=t[l].type.contentMatch.matchFragment(i);if(!d||!d.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=de.from(t[l].type.create(t[l].attrs,i))}let s=e.start,o=e.end;r.step(new tr(s,o,s,o,new Te(i,0,0),t.length,!0))}function BB(r,e,t,i,s){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=r.steps.length;r.doc.nodesBetween(e,t,(l,d)=>{let f=typeof s=="function"?s(l):s;if(l.isTextblock&&!l.hasMarkup(i,f)&&HB(r.doc,r.mapping.slice(o).map(d),i)){let p=null;if(i.schema.linebreakReplacement){let x=i.whitespace=="pre",w=!!i.contentMatch.matchType(i.schema.linebreakReplacement);x&&!w?p=!1:!x&&w&&(p=!0)}p===!1&&oT(r,l,d,o),fx(r,r.mapping.slice(o).map(d,1),i,void 0,p===null);let m=r.mapping.slice(o),v=m.map(d,1),b=m.map(d+l.nodeSize,1);return r.step(new tr(v,b,v+1,b-1,new Te(de.from(i.create(f,null,l.marks)),0,0),1,!0)),p===!0&&sT(r,l,d,o),!1}})}function sT(r,e,t,i){e.forEach((s,o)=>{if(s.isText){let l,d=/\r?\n|\r/g;for(;l=d.exec(s.text);){let f=r.mapping.slice(i).map(t+1+o+l.index);r.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function oT(r,e,t,i){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let l=r.mapping.slice(i).map(t+1+o);r.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function HB(r,e,t){let i=r.resolve(e),s=i.index();return i.parent.canReplaceWith(s,s+1,t)}function qB(r,e,t,i,s){let o=r.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let l=t.create(i,null,s||o.marks);if(o.isLeaf)return r.replaceWith(e,e+o.nodeSize,l);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);r.step(new tr(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new Te(de.from(l),0,0),1,!0))}function rs(r,e,t=1,i){let s=r.resolve(e),o=s.depth-t,l=i&&i[i.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!l.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let p=s.depth-1,m=t-2;p>o;p--,m--){let v=s.node(p),b=s.index(p);if(v.type.spec.isolating)return!1;let x=v.content.cutByIndex(b,v.childCount),w=i&&i[m+1];w&&(x=x.replaceChild(0,w.type.create(w.attrs)));let C=i&&i[m]||v;if(!v.canReplace(b+1,v.childCount)||!C.type.validContent(x))return!1}let d=s.indexAfter(o),f=i&&i[0];return s.node(o).canReplaceWith(d,d,f?f.type:s.node(o+1).type)}function WB(r,e,t=1,i){let s=r.doc.resolve(e),o=de.empty,l=de.empty;for(let d=s.depth,f=s.depth-t,p=t-1;d>f;d--,p--){o=de.from(s.node(d).copy(o));let m=i&&i[p];l=de.from(m?m.type.create(m.attrs,l):s.node(d).copy(l))}r.step(new Zn(e,e,new Te(o.append(l),t,t),!0))}function ro(r,e){let t=r.resolve(e),i=t.index();return lT(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(i,i+1)}function GB(r,e){e.content.size||r.type.compatibleContent(e.type);let t=r.contentMatchAt(r.childCount),{linebreakReplacement:i}=r.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),l=o.type==i?r.type.schema.nodes.text:o.type;if(t=t.matchType(l),!t||!r.type.allowsMarks(o.marks))return!1}return t.validEnd}function lT(r,e){return!!(r&&e&&!r.isLeaf&&GB(r,e))}function ym(r,e,t=-1){let i=r.resolve(e);for(let s=i.depth;;s--){let o,l,d=i.index(s);if(s==i.depth?(o=i.nodeBefore,l=i.nodeAfter):t>0?(o=i.node(s+1),d++,l=i.node(s).maybeChild(d)):(o=i.node(s).maybeChild(d-1),l=i.node(s+1)),o&&!o.isTextblock&&lT(o,l)&&i.node(s).canReplace(d,d+1))return e;if(s==0)break;e=t<0?i.before(s):i.after(s)}}function JB(r,e,t){let i=null,{linebreakReplacement:s}=r.doc.type.schema,o=r.doc.resolve(e-t),l=o.node().type;if(s&&l.inlineContent){let m=l.whitespace=="pre",v=!!l.contentMatch.matchType(s);m&&!v?i=!1:!m&&v&&(i=!0)}let d=r.steps.length;if(i===!1){let m=r.doc.resolve(e+t);oT(r,m.node(),m.before(),d)}l.inlineContent&&fx(r,e+t-1,l,o.node().contentMatchAt(o.index()),i==null);let f=r.mapping.slice(d),p=f.map(e-t);if(r.step(new Zn(p,f.map(e+t,-1),Te.empty,!0)),i===!0){let m=r.doc.resolve(p);sT(r,m.node(),m.before(),r.steps.length)}return r}function KB(r,e,t){let i=r.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),t))return e;if(i.parentOffset==0)for(let s=i.depth-1;s>=0;s--){let o=i.index(s);if(i.node(s).canReplaceWith(o,o,t))return i.before(s+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(let s=i.depth-1;s>=0;s--){let o=i.indexAfter(s);if(i.node(s).canReplaceWith(o,o,t))return i.after(s+1);if(o<i.node(s).childCount)return null}return null}function uT(r,e,t){let i=r.resolve(e);if(!t.content.size)return e;let s=t.content;for(let o=0;o<t.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let l=i.depth;l>=0;l--){let d=l==i.depth?0:i.pos<=(i.start(l+1)+i.end(l+1))/2?-1:1,f=i.index(l)+(d>0?1:0),p=i.node(l),m=!1;if(o==1)m=p.canReplace(f,f,s);else{let v=p.contentMatchAt(f).findWrapping(s.firstChild.type);m=v&&p.canReplaceWith(f,f,v[0])}if(m)return d==0?i.pos:d<0?i.before(l+1):i.after(l+1)}return null}function bm(r,e,t=e,i=Te.empty){if(e==t&&!i.size)return null;let s=r.resolve(e),o=r.resolve(t);return cT(s,o,i)?new Zn(e,t,i):new YB(s,o,i).fit()}function cT(r,e,t){return!t.openStart&&!t.openEnd&&r.start()==e.start()&&r.parent.canReplace(r.index(),e.index(),t.content)}class YB{constructor(e,t,i){this.$from=e,this.$to=t,this.unplaced=i,this.frontier=[],this.placed=de.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=de.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,i=this.$from,s=this.close(e<0?this.$to:i.doc.resolve(e));if(!s)return null;let o=this.placed,l=i.depth,d=s.depth;for(;l&&d&&o.childCount==1;)o=o.firstChild.content,l--,d--;let f=new Te(o,l,d);return e>-1?new tr(i.pos,e,this.$to.pos,this.$to.end(),f,t):f.size||i.pos!=this.$to.pos?new Zn(i.pos,s.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,i=0,s=this.unplaced.openEnd;i<e;i++){let o=t.firstChild;if(t.childCount>1&&(s=0),o.type.spec.isolating&&s<=i){e=i;break}t=o.content}for(let t=1;t<=2;t++)for(let i=t==1?e:this.unplaced.openStart;i>=0;i--){let s,o=null;i?(o=Yb(this.unplaced.content,i-1).firstChild,s=o.content):s=this.unplaced.content;let l=s.firstChild;for(let d=this.depth;d>=0;d--){let{type:f,match:p}=this.frontier[d],m,v=null;if(t==1&&(l?p.matchType(l.type)||(v=p.fillBefore(de.from(l),!1)):o&&f.compatibleContent(o.type)))return{sliceDepth:i,frontierDepth:d,parent:o,inject:v};if(t==2&&l&&(m=p.findWrapping(l.type)))return{sliceDepth:i,frontierDepth:d,parent:o,wrap:m};if(o&&p.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:i}=this.unplaced,s=Yb(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Te(e,t+1,Math.max(i,s.size+t>=e.size-i?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:i}=this.unplaced,s=Yb(e,t);if(s.childCount<=1&&t>0){let o=e.size-t<=t+s.size;this.unplaced=new Te(zd(e,t-1,1),t-1,o?t-1:i)}else this.unplaced=new Te(zd(e,t,1),t,i)}placeNodes({sliceDepth:e,frontierDepth:t,parent:i,inject:s,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let C=0;C<o.length;C++)this.openFrontierNode(o[C]);let l=this.unplaced,d=i?i.content:l.content,f=l.openStart-e,p=0,m=[],{match:v,type:b}=this.frontier[t];if(s){for(let C=0;C<s.childCount;C++)m.push(s.child(C));v=v.matchFragment(s)}let x=d.size+e-(l.content.size-l.openEnd);for(;p<d.childCount;){let C=d.child(p),_=v.matchType(C.type);if(!_)break;p++,(p>1||f==0||C.content.size)&&(v=_,m.push(dT(C.mark(b.allowedMarks(C.marks)),p==1?f:0,p==d.childCount?x:-1)))}let w=p==d.childCount;w||(x=-1),this.placed=Vd(this.placed,t,de.from(m)),this.frontier[t].match=v,w&&x<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let C=0,_=d;C<x;C++){let O=_.lastChild;this.frontier.push({type:O.type,match:O.contentMatchAt(O.childCount)}),_=O.content}this.unplaced=w?e==0?Te.empty:new Te(zd(l.content,e-1,1),e-1,x<0?l.openEnd:e-1):new Te(zd(l.content,e,p),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Qb(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:i}=this.$to,s=this.$to.after(i);for(;i>1&&s==this.$to.end(--i);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:i,type:s}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),l=Qb(e,t,s,i,o);if(l){for(let d=t-1;d>=0;d--){let{match:f,type:p}=this.frontier[d],m=Qb(e,d,p,f,!0);if(!m||m.childCount)continue e}return{depth:t,fit:l,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Vd(this.placed,t.depth,t.fit)),e=t.move;for(let i=t.depth+1;i<=e.depth;i++){let s=e.node(i),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(i));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,t=null,i){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Vd(this.placed,this.depth,de.from(e.create(t,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(de.empty,!0);t.childCount&&(this.placed=Vd(this.placed,this.frontier.length,t))}}function zd(r,e,t){return e==0?r.cutByIndex(t,r.childCount):r.replaceChild(0,r.firstChild.copy(zd(r.firstChild.content,e-1,t)))}function Vd(r,e,t){return e==0?r.append(t):r.replaceChild(r.childCount-1,r.lastChild.copy(Vd(r.lastChild.content,e-1,t)))}function Yb(r,e){for(let t=0;t<e;t++)r=r.firstChild.content;return r}function dT(r,e,t){if(e<=0)return r;let i=r.content;return e>1&&(i=i.replaceChild(0,dT(i.firstChild,e-1,i.childCount==1?t-1:0))),e>0&&(i=r.type.contentMatch.fillBefore(i).append(i),t<=0&&(i=i.append(r.type.contentMatch.matchFragment(i).fillBefore(de.empty,!0)))),r.copy(i)}function Qb(r,e,t,i,s){let o=r.node(e),l=s?r.indexAfter(e):r.index(e);if(l==o.childCount&&!t.compatibleContent(o.type))return null;let d=i.fillBefore(o.content,!0,l);return d&&!QB(t,o.content,l)?d:null}function QB(r,e,t){for(let i=t;i<e.childCount;i++)if(!r.allowsMarks(e.child(i).marks))return!0;return!1}function XB(r){return r.spec.defining||r.spec.definingForContent}function ZB(r,e,t,i){if(!i.size)return r.deleteRange(e,t);let s=r.doc.resolve(e),o=r.doc.resolve(t);if(cT(s,o,i))return r.step(new Zn(e,t,i));let l=hT(s,r.doc.resolve(t));l[l.length-1]==0&&l.pop();let d=-(s.depth+1);l.unshift(d);for(let b=s.depth,x=s.pos-1;b>0;b--,x--){let w=s.node(b).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;l.indexOf(b)>-1?d=b:s.before(b)==x&&l.splice(1,0,-b)}let f=l.indexOf(d),p=[],m=i.openStart;for(let b=i.content,x=0;;x++){let w=b.firstChild;if(p.push(w),x==i.openStart)break;b=w.content}for(let b=m-1;b>=0;b--){let x=p[b],w=XB(x.type);if(w&&!x.sameMarkup(s.node(Math.abs(d)-1)))m=b;else if(w||!x.type.isTextblock)break}for(let b=i.openStart;b>=0;b--){let x=(b+m+1)%(i.openStart+1),w=p[x];if(w)for(let C=0;C<l.length;C++){let _=l[(C+f)%l.length],O=!0;_<0&&(O=!1,_=-_);let A=s.node(_-1),F=s.index(_-1);if(A.canReplaceWith(F,F,w.type,w.marks))return r.replace(s.before(_),O?o.after(_):t,new Te(fT(i.content,0,i.openStart,x),x,i.openEnd))}}let v=r.steps.length;for(let b=l.length-1;b>=0&&(r.replace(e,t,i),!(r.steps.length>v));b--){let x=l[b];x<0||(e=s.before(x),t=o.after(x))}}function fT(r,e,t,i,s){if(e<t){let o=r.firstChild;r=r.replaceChild(0,o.copy(fT(o.content,e+1,t,i,o)))}if(e>i){let o=s.contentMatchAt(0),l=o.fillBefore(r).append(r);r=l.append(o.matchFragment(l).fillBefore(de.empty,!0))}return r}function e5(r,e,t,i){if(!i.isInline&&e==t&&r.doc.resolve(e).parent.content.size){let s=KB(r.doc,e,i.type);s!=null&&(e=t=s)}r.replaceRange(e,t,new Te(de.from(i),0,0))}function t5(r,e,t){let i=r.doc.resolve(e),s=r.doc.resolve(t),o=hT(i,s);for(let l=0;l<o.length;l++){let d=o[l],f=l==o.length-1;if(f&&d==0||i.node(d).type.contentMatch.validEnd)return r.delete(i.start(d),s.end(d));if(d>0&&(f||i.node(d-1).canReplace(i.index(d-1),s.indexAfter(d-1))))return r.delete(i.before(d),s.after(d))}for(let l=1;l<=i.depth&&l<=s.depth;l++)if(e-i.start(l)==i.depth-l&&t>i.end(l)&&s.end(l)-t!=s.depth-l&&i.start(l-1)==s.start(l-1)&&i.node(l-1).canReplace(i.index(l-1),s.index(l-1)))return r.delete(i.before(l),t);r.delete(e,t)}function hT(r,e){let t=[],i=Math.min(r.depth,e.depth);for(let s=i;s>=0;s--){let o=r.start(s);if(o<r.pos-(r.depth-s)||e.end(s)>e.pos+(e.depth-s)||r.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==r.depth&&s==e.depth&&r.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&t.push(s)}return t}class ku extends _r{constructor(e,t,i){super(),this.pos=e,this.attr=t,this.value=i}apply(e){let t=e.nodeAt(this.pos);if(!t)return Rn.fail("No node at attribute step's position");let i=Object.create(null);for(let o in t.attrs)i[o]=t.attrs[o];i[this.attr]=this.value;let s=t.type.create(i,null,t.marks);return Rn.fromReplace(e,this.pos,this.pos+1,new Te(de.from(s),0,t.isLeaf?0:1))}getMap(){return mi.empty}invert(e){return new ku(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ku(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ku(t.pos,t.attr,t.value)}}_r.jsonID("attr",ku);class Xd extends _r{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let i=e.type.create(t,e.content,e.marks);return Rn.ok(i)}getMap(){return mi.empty}invert(e){return new Xd(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Xd(t.attr,t.value)}}_r.jsonID("docAttr",Xd);let Uu=class extends Error{};Uu=function r(e){let t=Error.call(this,e);return t.__proto__=r.prototype,t};Uu.prototype=Object.create(Error.prototype);Uu.prototype.constructor=Uu;Uu.prototype.name="TransformError";class n5{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Qd}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Uu(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,i=Te.empty){let s=bm(this.doc,e,t,i);return s&&this.step(s),this}replaceWith(e,t,i){return this.replace(e,t,new Te(de.from(i),0,0))}delete(e,t){return this.replace(e,t,Te.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,i){return ZB(this,e,t,i),this}replaceRangeWith(e,t,i){return e5(this,e,t,i),this}deleteRange(e,t){return t5(this,e,t),this}lift(e,t){return PB(this,e,t),this}join(e,t=1){return JB(this,e,t),this}wrap(e,t){return $B(this,e,t),this}setBlockType(e,t=e,i,s=null){return BB(this,e,t,i,s),this}setNodeMarkup(e,t,i=null,s){return qB(this,e,t,i,s),this}setNodeAttribute(e,t,i){return this.step(new ku(e,t,i)),this}setDocAttribute(e,t){return this.step(new Xd(e,t)),this}addNodeMark(e,t){return this.step(new qs(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Qt)){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(t=t.isInSet(i.marks),!t)return this}return this.step(new Au(e,t)),this}split(e,t=1,i){return WB(this,e,t,i),this}addMark(e,t,i){return LB(this,e,t,i),this}removeMark(e,t,i){return zB(this,e,t,i),this}clearIncompatible(e,t,i){return fx(this,e,t,i),this}}const Xb=Object.create(null);class ct{constructor(e,t,i){this.$anchor=e,this.$head=t,this.ranges=i||[new r5(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Te.empty){let i=t.content.lastChild,s=null;for(let d=0;d<t.openEnd;d++)s=i,i=i.lastChild;let o=e.steps.length,l=this.ranges;for(let d=0;d<l.length;d++){let{$from:f,$to:p}=l[d],m=e.mapping.slice(o);e.replaceRange(m.map(f.pos),m.map(p.pos),d?Te.empty:t),d==0&&BD(e,o,(i?i.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let i=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:l,$to:d}=s[o],f=e.mapping.slice(i),p=f.map(l.pos),m=f.map(d.pos);o?e.deleteRange(p,m):(e.replaceRangeWith(p,m,t),BD(e,i,t.isInline?-1:1))}}static findFrom(e,t,i=!1){let s=e.parent.inlineContent?new it(e):Eu(e.node(0),e.parent,e.pos,e.index(),t,i);if(s)return s;for(let o=e.depth-1;o>=0;o--){let l=t<0?Eu(e.node(0),e.node(o),e.before(o+1),e.index(o),t,i):Eu(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,i);if(l)return l}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new gi(e.node(0))}static atStart(e){return Eu(e,e,0,0,1)||new gi(e)}static atEnd(e){return Eu(e,e,e.content.size,e.childCount,-1)||new gi(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=Xb[t.type];if(!i)throw new RangeError(`No selection type ${t.type} defined`);return i.fromJSON(e,t)}static jsonID(e,t){if(e in Xb)throw new RangeError("Duplicate use of selection JSON ID "+e);return Xb[e]=t,t.prototype.jsonID=e,t}getBookmark(){return it.between(this.$anchor,this.$head).getBookmark()}}ct.prototype.visible=!0;class r5{constructor(e,t){this.$from=e,this.$to=t}}let FD=!1;function $D(r){!FD&&!r.parent.inlineContent&&(FD=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+r.parent.type.name+")"))}class it extends ct{constructor(e,t=e){$D(e),$D(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let i=e.resolve(t.map(this.head));if(!i.parent.inlineContent)return ct.near(i);let s=e.resolve(t.map(this.anchor));return new it(s.parent.inlineContent?s:i,i)}replace(e,t=Te.empty){if(super.replace(e,t),t==Te.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof it&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new xm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new it(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,i=t){let s=e.resolve(t);return new this(s,i==t?s:e.resolve(i))}static between(e,t,i){let s=e.pos-t.pos;if((!i||s)&&(i=s>=0?1:-1),!t.parent.inlineContent){let o=ct.findFrom(t,i,!0)||ct.findFrom(t,-i,!0);if(o)t=o.$head;else return ct.near(t,i)}return e.parent.inlineContent||(s==0?e=t:(e=(ct.findFrom(e,-i,!0)||ct.findFrom(e,i,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new it(e,t)}}ct.jsonID("text",it);class xm{constructor(e,t){this.anchor=e,this.head=t}map(e){return new xm(e.map(this.anchor),e.map(this.head))}resolve(e){return it.between(e.resolve(this.anchor),e.resolve(this.head))}}class We extends ct{constructor(e){let t=e.nodeAfter,i=e.node(0).resolve(e.pos+t.nodeSize);super(e,i),this.node=t}map(e,t){let{deleted:i,pos:s}=t.mapResult(this.anchor),o=e.resolve(s);return i?ct.near(o):new We(o)}content(){return new Te(de.from(this.node),0,0)}eq(e){return e instanceof We&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new px(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new We(e.resolve(t.anchor))}static create(e,t){return new We(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}We.prototype.visible=!1;ct.jsonID("node",We);class px{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:i}=e.mapResult(this.anchor);return t?new xm(i,i):new px(i)}resolve(e){let t=e.resolve(this.anchor),i=t.nodeAfter;return i&&We.isSelectable(i)?new We(t):ct.near(t)}}class gi extends ct{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Te.empty){if(t==Te.empty){e.delete(0,e.doc.content.size);let i=ct.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new gi(e)}map(e){return new gi(e)}eq(e){return e instanceof gi}getBookmark(){return i5}}ct.jsonID("all",gi);const i5={map(){return this},resolve(r){return new gi(r)}};function Eu(r,e,t,i,s,o=!1){if(e.inlineContent)return it.create(r,t);for(let l=i-(s>0?0:1);s>0?l<e.childCount:l>=0;l+=s){let d=e.child(l);if(d.isAtom){if(!o&&We.isSelectable(d))return We.create(r,t-(s<0?d.nodeSize:0))}else{let f=Eu(r,d,t+s,s<0?d.childCount:0,s,o);if(f)return f}t+=d.nodeSize*s}return null}function BD(r,e,t){let i=r.steps.length-1;if(i<e)return;let s=r.steps[i];if(!(s instanceof Zn||s instanceof tr))return;let o=r.mapping.maps[i],l;o.forEach((d,f,p,m)=>{l==null&&(l=m)}),r.setSelection(ct.near(r.doc.resolve(l),t))}const HD=1,qD=2,WD=4;class a5 extends n5{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|HD)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&HD)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=qD,this}ensureMarks(e){return Qt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&qD)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let i=this.selection;return t&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||Qt.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,i){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(i==null&&(i=t),i=i??t,!e)return this.deleteRange(t,i);let o=this.storedMarks;if(!o){let l=this.doc.resolve(t);o=i==t?l.marks():l.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(t,i,s.text(e,o)),this.selection.empty||this.setSelection(ct.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=WD,this}get scrolledIntoView(){return(this.updated&WD)>0}}function GD(r,e){return!e||!r?r:r.bind(e)}class Pd{constructor(e,t,i){this.name=e,this.init=GD(t.init,i),this.apply=GD(t.apply,i)}}const s5=[new Pd("doc",{init(r){return r.doc||r.schema.topNodeType.createAndFill()},apply(r){return r.doc}}),new Pd("selection",{init(r,e){return r.selection||ct.atStart(e.doc)},apply(r){return r.selection}}),new Pd("storedMarks",{init(r){return r.storedMarks||null},apply(r,e,t,i){return i.selection.$cursor?r.storedMarks:null}}),new Pd("scrollToSelection",{init(){return 0},apply(r,e){return r.scrolledIntoView?e+1:e}})];class Zb{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=s5.slice(),t&&t.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new Pd(i.key,i.spec.state,i))})}}class Cu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=t){let s=this.config.plugins[i];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],i=this.applyInner(e),s=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let d=this.config.plugins[l];if(d.spec.appendTransaction){let f=s?s[l].n:0,p=s?s[l].state:this,m=f<t.length&&d.spec.appendTransaction.call(d,f?t.slice(f):t,p,i);if(m&&i.filterTransaction(m,l)){if(m.setMeta("appendedTransaction",e),!s){s=[];for(let v=0;v<this.config.plugins.length;v++)s.push(v<l?{state:i,n:t.length}:{state:this,n:0})}t.push(m),i=i.applyInner(m),o=!0}s&&(s[l]={state:i,n:t.length})}}if(!o)return{state:i,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Cu(this.config),i=this.config.fields;for(let s=0;s<i.length;s++){let o=i[s];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new a5(this)}static create(e){let t=new Zb(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new Cu(t);for(let s=0;s<t.fields.length;s++)i[t.fields[s].name]=t.fields[s].init(e,i);return i}reconfigure(e){let t=new Zb(this.schema,e.plugins),i=t.fields,s=new Cu(t);for(let o=0;o<i.length;o++){let l=i[o].name;s[l]=this.hasOwnProperty(l)?this[l]:i[o].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[i],o=s.spec.state;o&&o.toJSON&&(t[i]=o.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,i){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Zb(e.schema,e.plugins),o=new Cu(s);return s.fields.forEach(l=>{if(l.name=="doc")o.doc=Gs.fromJSON(e.schema,t.doc);else if(l.name=="selection")o.selection=ct.fromJSON(o.doc,t.selection);else if(l.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let d in i){let f=i[d],p=f.spec.state;if(f.key==l.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(t,d)){o[l.name]=p.fromJSON.call(f,e,t[d],o);return}}o[l.name]=l.init(e,o)}}),o}}function pT(r,e,t){for(let i in r){let s=r[i];s instanceof Function?s=s.bind(e):i=="handleDOMEvents"&&(s=pT(s,e,{})),t[i]=s}return t}class Zr{constructor(e){this.spec=e,this.props={},e.props&&pT(e.props,this,this.props),this.key=e.key?e.key.key:mT("plugin")}getState(e){return e[this.key]}}const e0=Object.create(null);function mT(r){return r in e0?r+"$"+ ++e0[r]:(e0[r]=0,r+"$")}class Ta{constructor(e="key"){this.key=mT(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const gr=function(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e},ju=function(r){let e=r.assignedSlot||r.parentNode;return e&&e.nodeType==11?e.host:e};let A0=null;const ts=function(r,e,t){let i=A0||(A0=document.createRange());return i.setEnd(r,t??r.nodeValue.length),i.setStart(r,e||0),i},o5=function(){A0=null},ul=function(r,e,t,i){return t&&(JD(r,e,t,i,-1)||JD(r,e,t,i,1))},l5=/^(img|br|input|textarea|hr)$/i;function JD(r,e,t,i,s){for(;;){if(r==t&&e==i)return!0;if(e==(s<0?0:Ri(r))){let o=r.parentNode;if(!o||o.nodeType!=1||uf(r)||l5.test(r.nodeName)||r.contentEditable=="false")return!1;e=gr(r)+(s<0?0:1),r=o}else if(r.nodeType==1){if(r=r.childNodes[e+(s<0?-1:0)],r.contentEditable=="false")return!1;e=s<0?Ri(r):0}else return!1}}function Ri(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function u5(r,e){for(;;){if(r.nodeType==3&&e)return r;if(r.nodeType==1&&e>0){if(r.contentEditable=="false")return null;r=r.childNodes[e-1],e=Ri(r)}else if(r.parentNode&&!uf(r))e=gr(r),r=r.parentNode;else return null}}function c5(r,e){for(;;){if(r.nodeType==3&&e<r.nodeValue.length)return r;if(r.nodeType==1&&e<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[e],e=0}else if(r.parentNode&&!uf(r))e=gr(r)+1,r=r.parentNode;else return null}}function d5(r,e,t){for(let i=e==0,s=e==Ri(r);i||s;){if(r==t)return!0;let o=gr(r);if(r=r.parentNode,!r)return!1;i=i&&o==0,s=s&&o==Ri(r)}}function uf(r){let e;for(let t=r;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==r||e.contentDOM==r)}const wm=function(r){return r.focusNode&&ul(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)};function Qo(r,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=r,t.key=t.code=e,t}function f5(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function h5(r,e,t){if(r.caretPositionFromPoint)try{let i=r.caretPositionFromPoint(e,t);if(i)return{node:i.offsetNode,offset:Math.min(Ri(i.offsetNode),i.offset)}}catch{}if(r.caretRangeFromPoint){let i=r.caretRangeFromPoint(e,t);if(i)return{node:i.startContainer,offset:Math.min(Ri(i.startContainer),i.startOffset)}}}const Ca=typeof navigator<"u"?navigator:null,KD=typeof document<"u"?document:null,io=Ca&&Ca.userAgent||"",U0=/Edge\/(\d+)/.exec(io),gT=/MSIE \d/.exec(io),j0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(io),Qr=!!(gT||j0||U0),Ks=gT?document.documentMode:j0?+j0[1]:U0?+U0[1]:0,ra=!Qr&&/gecko\/(\d+)/i.test(io);ra&&+(/Firefox\/(\d+)/.exec(io)||[0,0])[1];const L0=!Qr&&/Chrome\/(\d+)/.exec(io),Cr=!!L0,vT=L0?+L0[1]:0,Lr=!Qr&&!!Ca&&/Apple Computer/.test(Ca.vendor),Lu=Lr&&(/Mobile\/\w+/.test(io)||!!Ca&&Ca.maxTouchPoints>2),ki=Lu||(Ca?/Mac/.test(Ca.platform):!1),p5=Ca?/Win/.test(Ca.platform):!1,ns=/Android \d/.test(io),cf=!!KD&&"webkitFontSmoothing"in KD.documentElement.style,m5=cf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function g5(r){let e=r.defaultView&&r.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.documentElement.clientWidth,top:0,bottom:r.documentElement.clientHeight}}function Za(r,e){return typeof r=="number"?r:r[e]}function v5(r){let e=r.getBoundingClientRect(),t=e.width/r.offsetWidth||1,i=e.height/r.offsetHeight||1;return{left:e.left,right:e.left+r.clientWidth*t,top:e.top,bottom:e.top+r.clientHeight*i}}function YD(r,e,t){let i=r.someProp("scrollThreshold")||0,s=r.someProp("scrollMargin")||5,o=r.dom.ownerDocument;for(let l=t||r.dom;l;){if(l.nodeType!=1){l=ju(l);continue}let d=l,f=d==o.body,p=f?g5(o):v5(d),m=0,v=0;if(e.top<p.top+Za(i,"top")?v=-(p.top-e.top+Za(s,"top")):e.bottom>p.bottom-Za(i,"bottom")&&(v=e.bottom-e.top>p.bottom-p.top?e.top+Za(s,"top")-p.top:e.bottom-p.bottom+Za(s,"bottom")),e.left<p.left+Za(i,"left")?m=-(p.left-e.left+Za(s,"left")):e.right>p.right-Za(i,"right")&&(m=e.right-p.right+Za(s,"right")),m||v)if(f)o.defaultView.scrollBy(m,v);else{let x=d.scrollLeft,w=d.scrollTop;v&&(d.scrollTop+=v),m&&(d.scrollLeft+=m);let C=d.scrollLeft-x,_=d.scrollTop-w;e={left:e.left-C,top:e.top-_,right:e.right-C,bottom:e.bottom-_}}let b=f?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(b))break;l=b=="absolute"?l.offsetParent:ju(l)}}function y5(r){let e=r.dom.getBoundingClientRect(),t=Math.max(0,e.top),i,s;for(let o=(e.left+e.right)/2,l=t+1;l<Math.min(innerHeight,e.bottom);l+=5){let d=r.root.elementFromPoint(o,l);if(!d||d==r.dom||!r.dom.contains(d))continue;let f=d.getBoundingClientRect();if(f.top>=t-20){i=d,s=f.top;break}}return{refDOM:i,refTop:s,stack:yT(r.dom)}}function yT(r){let e=[],t=r.ownerDocument;for(let i=r;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),r!=t);i=ju(i));return e}function b5({refDOM:r,refTop:e,stack:t}){let i=r?r.getBoundingClientRect().top:0;bT(t,i==0?0:i-e)}function bT(r,e){for(let t=0;t<r.length;t++){let{dom:i,top:s,left:o}=r[t];i.scrollTop!=s+e&&(i.scrollTop=s+e),i.scrollLeft!=o&&(i.scrollLeft=o)}}let wu=null;function x5(r){if(r.setActive)return r.setActive();if(wu)return r.focus(wu);let e=yT(r);r.focus(wu==null?{get preventScroll(){return wu={preventScroll:!0},!0}}:void 0),wu||(wu=!1,bT(e,0))}function xT(r,e){let t,i=2e8,s,o=0,l=e.top,d=e.top,f,p;for(let m=r.firstChild,v=0;m;m=m.nextSibling,v++){let b;if(m.nodeType==1)b=m.getClientRects();else if(m.nodeType==3)b=ts(m).getClientRects();else continue;for(let x=0;x<b.length;x++){let w=b[x];if(w.top<=l&&w.bottom>=d){l=Math.max(w.bottom,l),d=Math.min(w.top,d);let C=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(C<i){t=m,i=C,s=C&&t.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,m.nodeType==1&&C&&(o=v+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!f&&w.left<=e.left&&w.right>=e.left&&(f=m,p={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!t&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(o=v+1)}}return!t&&f&&(t=f,s=p,i=0),t&&t.nodeType==3?w5(t,s):!t||i&&t.nodeType==1?{node:r,offset:o}:xT(t,s)}function w5(r,e){let t=r.nodeValue.length,i=document.createRange();for(let s=0;s<t;s++){i.setEnd(r,s+1),i.setStart(r,s);let o=zs(i,1);if(o.top!=o.bottom&&mx(e,o))return{node:r,offset:s+(e.left>=(o.left+o.right)/2?1:0)}}return{node:r,offset:0}}function mx(r,e){return r.left>=e.left-1&&r.left<=e.right+1&&r.top>=e.top-1&&r.top<=e.bottom+1}function S5(r,e){let t=r.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<r.getBoundingClientRect().left?t:r}function N5(r,e,t){let{node:i,offset:s}=xT(e,t),o=-1;if(i.nodeType==1&&!i.firstChild){let l=i.getBoundingClientRect();o=l.left!=l.right&&t.left>(l.left+l.right)/2?1:-1}return r.docView.posFromDOM(i,s,o)}function E5(r,e,t,i){let s=-1;for(let o=e,l=!1;o!=r.dom;){let d=r.docView.nearestDesc(o,!0),f;if(!d)return null;if(d.dom.nodeType==1&&(d.node.isBlock&&d.parent||!d.contentDOM)&&((f=d.dom.getBoundingClientRect()).width||f.height)&&(d.node.isBlock&&d.parent&&(!l&&f.left>i.left||f.top>i.top?s=d.posBefore:(!l&&f.right<i.left||f.bottom<i.top)&&(s=d.posAfter),l=!0),!d.contentDOM&&s<0&&!d.node.isText))return(d.node.isBlock?i.top<(f.top+f.bottom)/2:i.left<(f.left+f.right)/2)?d.posBefore:d.posAfter;o=d.dom.parentNode}return s>-1?s:r.docView.posFromDOM(e,t,-1)}function wT(r,e,t){let i=r.childNodes.length;if(i&&t.top<t.bottom)for(let s=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-t.top)/(t.bottom-t.top))-2)),o=s;;){let l=r.childNodes[o];if(l.nodeType==1){let d=l.getClientRects();for(let f=0;f<d.length;f++){let p=d[f];if(mx(e,p))return wT(l,e,p)}}if((o=(o+1)%i)==s)break}return r}function D5(r,e){let t=r.dom.ownerDocument,i,s=0,o=h5(t,e.left,e.top);o&&({node:i,offset:s}=o);let l=(r.root.elementFromPoint?r.root:t).elementFromPoint(e.left,e.top),d;if(!l||!r.dom.contains(l.nodeType!=1?l.parentNode:l)){let p=r.dom.getBoundingClientRect();if(!mx(e,p)||(l=wT(r.dom,e,p),!l))return null}if(Lr)for(let p=l;i&&p;p=ju(p))p.draggable&&(i=void 0);if(l=S5(l,e),i){if(ra&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){let m=i.childNodes[s],v;m.nodeName=="IMG"&&(v=m.getBoundingClientRect()).right<=e.left&&v.bottom>e.top&&s++}let p;cf&&s&&i.nodeType==1&&(p=i.childNodes[s-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&s--,i==r.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?d=r.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(d=E5(r,i,s,e))}d==null&&(d=N5(r,l,e));let f=r.docView.nearestDesc(l,!0);return{pos:d,inside:f?f.posAtStart-f.border:-1}}function QD(r){return r.top<r.bottom||r.left<r.right}function zs(r,e){let t=r.getClientRects();if(t.length){let i=t[e<0?0:t.length-1];if(QD(i))return i}return Array.prototype.find.call(t,QD)||r.getBoundingClientRect()}const C5=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ST(r,e,t){let{node:i,offset:s,atom:o}=r.docView.domFromPos(e,t<0?-1:1),l=cf||ra;if(i.nodeType==3)if(l&&(C5.test(i.nodeValue)||(t<0?!s:s==i.nodeValue.length))){let f=zs(ts(i,s,s),t);if(ra&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){let p=zs(ts(i,s-1,s-1),-1);if(p.top==f.top){let m=zs(ts(i,s,s+1),-1);if(m.top!=f.top)return Ud(m,m.left<p.left)}}return f}else{let f=s,p=s,m=t<0?1:-1;return t<0&&!s?(p++,m=-1):t>=0&&s==i.nodeValue.length?(f--,m=1):t<0?f--:p++,Ud(zs(ts(i,f,p),m),m<0)}if(!r.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(t<0||s==Ri(i))){let f=i.childNodes[s-1];if(f.nodeType==1)return t0(f.getBoundingClientRect(),!1)}if(o==null&&s<Ri(i)){let f=i.childNodes[s];if(f.nodeType==1)return t0(f.getBoundingClientRect(),!0)}return t0(i.getBoundingClientRect(),t>=0)}if(o==null&&s&&(t<0||s==Ri(i))){let f=i.childNodes[s-1],p=f.nodeType==3?ts(f,Ri(f)-(l?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(p)return Ud(zs(p,1),!1)}if(o==null&&s<Ri(i)){let f=i.childNodes[s];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let p=f?f.nodeType==3?ts(f,0,l?0:1):f.nodeType==1?f:null:null;if(p)return Ud(zs(p,-1),!0)}return Ud(zs(i.nodeType==3?ts(i):i,-t),t>=0)}function Ud(r,e){if(r.width==0)return r;let t=e?r.left:r.right;return{top:r.top,bottom:r.bottom,left:t,right:t}}function t0(r,e){if(r.height==0)return r;let t=e?r.top:r.bottom;return{top:t,bottom:t,left:r.left,right:r.right}}function NT(r,e,t){let i=r.state,s=r.root.activeElement;i!=e&&r.updateState(e),s!=r.dom&&r.focus();try{return t()}finally{i!=e&&r.updateState(i),s!=r.dom&&s&&s.focus()}}function _5(r,e,t){let i=e.selection,s=t=="up"?i.$from:i.$to;return NT(r,e,()=>{let{node:o}=r.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let d=r.docView.nearestDesc(o,!0);if(!d)break;if(d.node.isBlock){o=d.contentDOM||d.dom;break}o=d.dom.parentNode}let l=ST(r,s.pos,1);for(let d=o.firstChild;d;d=d.nextSibling){let f;if(d.nodeType==1)f=d.getClientRects();else if(d.nodeType==3)f=ts(d,0,d.nodeValue.length).getClientRects();else continue;for(let p=0;p<f.length;p++){let m=f[p];if(m.bottom>m.top+1&&(t=="up"?l.top-m.top>(m.bottom-l.top)*2:m.bottom-l.bottom>(l.bottom-m.top)*2))return!1}}return!0})}const T5=/[\u0590-\u08ac]/;function k5(r,e,t){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let s=i.parentOffset,o=!s,l=s==i.parent.content.size,d=r.domSelection();return d?!T5.test(i.parent.textContent)||!d.modify?t=="left"||t=="backward"?o:l:NT(r,e,()=>{let{focusNode:f,focusOffset:p,anchorNode:m,anchorOffset:v}=r.domSelectionRange(),b=d.caretBidiLevel;d.modify("move",t,"character");let x=i.depth?r.docView.domAfterPos(i.before()):r.dom,{focusNode:w,focusOffset:C}=r.domSelectionRange(),_=w&&!x.contains(w.nodeType==1?w:w.parentNode)||f==w&&p==C;try{d.collapse(m,v),f&&(f!=m||p!=v)&&d.extend&&d.extend(f,p)}catch{}return b!=null&&(d.caretBidiLevel=b),_}):i.pos==i.start()||i.pos==i.end()}let XD=null,ZD=null,eC=!1;function R5(r,e,t){return XD==e&&ZD==t?eC:(XD=e,ZD=t,eC=t=="up"||t=="down"?_5(r,e,t):k5(r,e,t))}const Mi=0,tC=1,el=2,_a=3;class df{constructor(e,t,i,s){this.parent=e,this.children=t,this.dom=i,this.contentDOM=s,this.dirty=Mi,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,i=this.posAtStart;;t++){let s=this.children[t];if(s==e)return i;i+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let o,l;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(l)+l.size:this.posAtStart}else{let o,l;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>gr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let i=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),l;if(o&&(!t||o.node))if(i&&(l=o.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))i=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let i=t;i;i=i.parent)if(i==this)return t}posFromDOM(e,t,i){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,t,i)}return-1}descAt(e){for(let t=0,i=0;t<this.children.length;t++){let s=this.children[t],o=i+s.size;if(i==e&&o!=i){for(;!s.border&&s.children.length;)for(let l=0;l<s.children.length;l++){let d=s.children[l];if(d.size){s=d;break}}return s}if(e<o)return s.descAt(e-i-s.border);i=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,s=0;for(let o=0;i<this.children.length;i++){let l=this.children[i],d=o+l.size;if(d>e||l instanceof DT){s=e-o;break}o=d}if(s)return this.children[i].domFromPos(s-this.children[i].border,t);for(let o;i&&!(o=this.children[i-1]).size&&o instanceof ET&&o.side>=0;i--);if(t<=0){let o,l=!0;for(;o=i?this.children[i-1]:null,!(!o||o.dom.parentNode==this.contentDOM);i--,l=!1);return o&&t&&l&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?gr(o.dom)+1:0}}else{let o,l=!0;for(;o=i<this.children.length?this.children[i]:null,!(!o||o.dom.parentNode==this.contentDOM);i++,l=!1);return o&&l&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?gr(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let l=i,d=0;;d++){let f=this.children[d],p=l+f.size;if(s==-1&&e<=p){let m=l+f.border;if(e>=m&&t<=p-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,t,m);e=l;for(let v=d;v>0;v--){let b=this.children[v-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){s=gr(b.dom)+1;break}e-=b.size}s==-1&&(s=0)}if(s>-1&&(p>t||d==this.children.length-1)){t=p;for(let m=d+1;m<this.children.length;m++){let v=this.children[m];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(-1)){o=gr(v.dom);break}t+=v.size}o==-1&&(o=this.contentDOM.childNodes.length);break}l=p}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:i}=this.domFromPos(e,0);if(t.nodeType!=1||i==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[i]}setSelection(e,t,i,s=!1){let o=Math.min(e,t),l=Math.max(e,t);for(let x=0,w=0;x<this.children.length;x++){let C=this.children[x],_=w+C.size;if(o>w&&l<_)return C.setSelection(e-w-C.border,t-w-C.border,i,s);w=_}let d=this.domFromPos(e,e?-1:1),f=t==e?d:this.domFromPos(t,t?-1:1),p=i.root.getSelection(),m=i.domSelectionRange(),v=!1;if((ra||Lr)&&e==t){let{node:x,offset:w}=d;if(x.nodeType==3){if(v=!!(w&&x.nodeValue[w-1]==`
`),v&&w==x.nodeValue.length)for(let C=x,_;C;C=C.parentNode){if(_=C.nextSibling){_.nodeName=="BR"&&(d=f={node:_.parentNode,offset:gr(_)+1});break}let O=C.pmViewDesc;if(O&&O.node&&O.node.isBlock)break}}else{let C=x.childNodes[w-1];v=C&&(C.nodeName=="BR"||C.contentEditable=="false")}}if(ra&&m.focusNode&&m.focusNode!=f.node&&m.focusNode.nodeType==1){let x=m.focusNode.childNodes[m.focusOffset];x&&x.contentEditable=="false"&&(s=!0)}if(!(s||v&&Lr)&&ul(d.node,d.offset,m.anchorNode,m.anchorOffset)&&ul(f.node,f.offset,m.focusNode,m.focusOffset))return;let b=!1;if((p.extend||e==t)&&!v){p.collapse(d.node,d.offset);try{e!=t&&p.extend(f.node,f.offset),b=!0}catch{}}if(!b){if(e>t){let w=d;d=f,f=w}let x=document.createRange();x.setEnd(f.node,f.offset),x.setStart(d.node,d.offset),p.removeAllRanges(),p.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let i=0,s=0;s<this.children.length;s++){let o=this.children[s],l=i+o.size;if(i==l?e<=l&&t>=i:e<l&&t>i){let d=i+o.border,f=l-o.border;if(e>=d&&t<=f){this.dirty=e==i||t==l?el:tC,e==d&&t==f&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=_a:o.markDirty(e-d,t-d);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?el:_a}i=l}this.dirty=el}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let i=e==1?el:tC;t.dirty<i&&(t.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class ET extends df{constructor(e,t,i,s){let o,l=t.type.toDOM;if(typeof l=="function"&&(l=l(i,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(l.nodeType!=1){let d=document.createElement("span");d.appendChild(l),l=d}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==Mi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class O5 extends df{constructor(e,t,i,s){super(e,[],t,null),this.textDOM=i,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class cl extends df{constructor(e,t,i,s,o){super(e,[],i,s),this.mark=t,this.spec=o}static create(e,t,i,s){let o=s.nodeViews[t.type.name],l=o&&o(t,s,i);return(!l||!l.dom)&&(l=ml.renderSpec(document,t.type.spec.toDOM(t,i),null,t.attrs)),new cl(e,t,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&_a||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=_a&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Mi){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Mi}}slice(e,t,i){let s=cl.create(this.parent,this.mark,!0,i),o=this.children,l=this.size;t<l&&(o=V0(o,t,l,i)),e>0&&(o=V0(o,0,e,i));for(let d=0;d<o.length;d++)o[d].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ys extends df{constructor(e,t,i,s,o,l,d,f,p){super(e,[],o,l),this.node=t,this.outerDeco=i,this.innerDeco=s,this.nodeDOM=d}static create(e,t,i,s,o,l){let d=o.nodeViews[t.type.name],f,p=d&&d(t,o,()=>{if(!f)return l;if(f.parent)return f.parent.posBeforeChild(f)},i,s),m=p&&p.dom,v=p&&p.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:v}=ml.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!v&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let b=m;return m=TT(m,i,t),p?f=new M5(e,t,i,s,m,v||null,b,p,o,l+1):t.isText?new Sm(e,t,i,s,m,b,o):new Ys(e,t,i,s,m,v||null,b,o,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let i=this.children[t];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>de.empty)}return e}matchesNode(e,t,i){return this.dirty==Mi&&e.eq(this.node)&&Xp(t,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let i=this.node.inlineContent,s=t,o=e.composing?this.localCompositionInfo(e,t):null,l=o&&o.pos>-1?o:null,d=o&&o.pos<0,f=new U5(this,l&&l.node,e);z5(this.node,this.innerDeco,(p,m,v)=>{p.spec.marks?f.syncToMarks(p.spec.marks,i,e):p.type.side>=0&&!v&&f.syncToMarks(m==this.node.childCount?Qt.none:this.node.child(m).marks,i,e),f.placeWidget(p,e,s)},(p,m,v,b)=>{f.syncToMarks(p.marks,i,e);let x;f.findNodeMatch(p,m,v,b)||d&&e.state.selection.from>s&&e.state.selection.to<s+p.nodeSize&&(x=f.findIndexWithChild(o.node))>-1&&f.updateNodeAt(p,m,v,x,e)||f.updateNextNode(p,m,v,e,b,s)||f.addNode(p,m,v,e,s),s+=p.nodeSize}),f.syncToMarks([],i,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==el)&&(l&&this.protectLocalComposition(e,l),CT(this.contentDOM,this.children,e),Lu&&V5(this.dom))}localCompositionInfo(e,t){let{from:i,to:s}=e.state.selection;if(!(e.state.selection instanceof it)||i<t||s>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,d=P5(this.node.content,l,i-t,s-t);return d<0?null:{node:o,pos:d,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:i,text:s}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let l=new O5(this,o,t,s);e.input.compositionNodes.push(l),this.children=V0(this.children,i,i+s.length,e,l)}update(e,t,i,s){return this.dirty==_a||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,i,s),!0)}updateInner(e,t,i,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Mi}updateOuterDeco(e){if(Xp(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=_T(this.dom,this.nodeDOM,z0(this.outerDeco,this.node,t),z0(e,this.node,t)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function nC(r,e,t,i,s){TT(i,e,r);let o=new Ys(void 0,r,e,t,i,i,i,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class Sm extends Ys{constructor(e,t,i,s,o,l,d){super(e,t,i,s,o,null,l,d,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,i,s){return this.dirty==_a||this.dirty!=Mi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Mi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Mi,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,i){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,i){let s=this.node.cut(e,t),o=document.createTextNode(s.text);return new Sm(this.parent,s,this.outerDeco,this.innerDeco,o,o,i)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=_a)}get domAtom(){return!1}isText(e){return this.node.text==e}}class DT extends df{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Mi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class M5 extends Ys{constructor(e,t,i,s,o,l,d,f,p,m){super(e,t,i,s,o,l,d,p,m),this.spec=f}update(e,t,i,s){if(this.dirty==_a)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,i);return o&&this.updateInner(e,t,i,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,i,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,i,s){this.spec.setSelection?this.spec.setSelection(e,t,i.root):super.setSelection(e,t,i,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function CT(r,e,t){let i=r.firstChild,s=!1;for(let o=0;o<e.length;o++){let l=e[o],d=l.dom;if(d.parentNode==r){for(;d!=i;)i=rC(i),s=!0;i=i.nextSibling}else s=!0,r.insertBefore(d,i);if(l instanceof cl){let f=i?i.previousSibling:r.lastChild;CT(l.contentDOM,l.children,t),i=f?f.nextSibling:r.firstChild}}for(;i;)i=rC(i),s=!0;s&&t.trackWrites==r&&(t.trackWrites=null)}const Bd=function(r){r&&(this.nodeName=r)};Bd.prototype=Object.create(null);const tl=[new Bd];function z0(r,e,t){if(r.length==0)return tl;let i=t?tl[0]:new Bd,s=[i];for(let o=0;o<r.length;o++){let l=r[o].type.attrs;if(l){l.nodeName&&s.push(i=new Bd(l.nodeName));for(let d in l){let f=l[d];f!=null&&(t&&s.length==1&&s.push(i=new Bd(e.isInline?"span":"div")),d=="class"?i.class=(i.class?i.class+" ":"")+f:d=="style"?i.style=(i.style?i.style+";":"")+f:d!="nodeName"&&(i[d]=f))}}}return s}function _T(r,e,t,i){if(t==tl&&i==tl)return e;let s=e;for(let o=0;o<i.length;o++){let l=i[o],d=t[o];if(o){let f;d&&d.nodeName==l.nodeName&&s!=r&&(f=s.parentNode)&&f.nodeName.toLowerCase()==l.nodeName||(f=document.createElement(l.nodeName),f.pmIsDeco=!0,f.appendChild(s),d=tl[0]),s=f}A5(s,d||tl[0],l)}return s}function A5(r,e,t){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in t)&&r.removeAttribute(i);for(let i in t)i!="class"&&i!="style"&&i!="nodeName"&&t[i]!=e[i]&&r.setAttribute(i,t[i]);if(e.class!=t.class){let i=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<i.length;o++)s.indexOf(i[o])==-1&&r.classList.remove(i[o]);for(let o=0;o<s.length;o++)i.indexOf(s[o])==-1&&r.classList.add(s[o]);r.classList.length==0&&r.removeAttribute("class")}if(e.style!=t.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=i.exec(e.style);)r.style.removeProperty(s[1])}t.style&&(r.style.cssText+=t.style)}}function TT(r,e,t){return _T(r,r,tl,z0(e,t,r.nodeType!=1))}function Xp(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].type.eq(e[t].type))return!1;return!0}function rC(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class U5{constructor(e,t,i){this.lock=t,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=j5(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let i=e;i<t;i++)this.top.children[i].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,i){let s=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;s<l&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=Mi,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let d=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let p=this.top.children[f];if(p.matchesMark(e[o])&&!this.isLocked(p.dom)){d=f;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let f=cl.create(this.top,e[o],t,i);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,i,s){let o=-1,l;if(s>=this.preMatch.index&&(l=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&l.matchesNode(e,t,i))o=this.top.children.indexOf(l,this.index);else for(let d=this.index,f=Math.min(this.top.children.length,d+5);d<f;d++){let p=this.top.children[d];if(p.matchesNode(e,t,i)&&!this.preMatch.matched.has(p)){o=d;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,i,s,o){let l=this.top.children[s];return l.dirty==_a&&l.dom==l.contentDOM&&(l.dirty=el),l.update(e,t,i,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==i)return s}return-1}e=t}}updateNextNode(e,t,i,s,o,l){for(let d=this.index;d<this.top.children.length;d++){let f=this.top.children[d];if(f instanceof Ys){let p=this.preMatch.matched.get(f);if(p!=null&&p!=o)return!1;let m=f.dom,v,b=this.isLocked(m)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=_a&&Xp(t,f.outerDeco));if(!b&&f.update(e,t,i,s))return this.destroyBetween(this.index,d),f.dom!=m&&(this.changed=!0),this.index++,!0;if(!b&&(v=this.recreateWrapper(f,e,t,i,s,l)))return this.destroyBetween(this.index,d),this.top.children[this.index]=v,v.contentDOM&&(v.dirty=el,v.updateChildren(s,l+1),v.dirty=Mi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,i,s,o,l){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Xp(i,e.outerDeco)||!s.eq(e.innerDeco))return null;let d=Ys.create(this.top,t,i,s,o,l);if(d.contentDOM){d.children=e.children,e.children=[];for(let f of d.children)f.parent=d}return e.destroy(),d}addNode(e,t,i,s,o){let l=Ys.create(this.top,e,t,i,s,o);l.contentDOM&&l.updateChildren(s,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,t,i){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new ET(this.top,e,t,i);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof cl;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Sm)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Lr||Cr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let s=new DT(this.top,[],i,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function j5(r,e){let t=e,i=t.children.length,s=r.childCount,o=new Map,l=[];e:for(;s>0;){let d;for(;;)if(i){let p=t.children[i-1];if(p instanceof cl)t=p,i=p.children.length;else{d=p,i--;break}}else{if(t==e)break e;i=t.parent.children.indexOf(t),t=t.parent}let f=d.node;if(f){if(f!=r.child(s-1))break;--s,o.set(d,s),l.push(d)}}return{index:s,matched:o,matches:l.reverse()}}function L5(r,e){return r.type.side-e.type.side}function z5(r,e,t,i){let s=e.locals(r),o=0;if(s.length==0){for(let p=0;p<r.childCount;p++){let m=r.child(p);i(m,s,e.forChild(o,m),p),o+=m.nodeSize}return}let l=0,d=[],f=null;for(let p=0;;){let m,v;for(;l<s.length&&s[l].to==o;){let _=s[l++];_.widget&&(m?(v||(v=[m])).push(_):m=_)}if(m)if(v){v.sort(L5);for(let _=0;_<v.length;_++)t(v[_],p,!!f)}else t(m,p,!!f);let b,x;if(f)x=-1,b=f,f=null;else if(p<r.childCount)x=p,b=r.child(p++);else break;for(let _=0;_<d.length;_++)d[_].to<=o&&d.splice(_--,1);for(;l<s.length&&s[l].from<=o&&s[l].to>o;)d.push(s[l++]);let w=o+b.nodeSize;if(b.isText){let _=w;l<s.length&&s[l].from<_&&(_=s[l].from);for(let O=0;O<d.length;O++)d[O].to<_&&(_=d[O].to);_<w&&(f=b.cut(_-o),b=b.cut(0,_-o),w=_,x=-1)}else for(;l<s.length&&s[l].to<w;)l++;let C=b.isInline&&!b.isLeaf?d.filter(_=>!_.inline):d.slice();i(b,C,e.forChild(o,b),x),o=w}}function V5(r){if(r.nodeName=="UL"||r.nodeName=="OL"){let e=r.style.cssText;r.style.cssText=e+"; list-style: square !important",window.getComputedStyle(r).listStyle,r.style.cssText=e}}function P5(r,e,t,i){for(let s=0,o=0;s<r.childCount&&o<=i;){let l=r.child(s++),d=o;if(o+=l.nodeSize,!l.isText)continue;let f=l.text;for(;s<r.childCount;){let p=r.child(s++);if(o+=p.nodeSize,!p.isText)break;f+=p.text}if(o>=t){if(o>=i&&f.slice(i-e.length-d,i-d)==e)return i-e.length;let p=d<i?f.lastIndexOf(e,i-d-1):-1;if(p>=0&&p+e.length+d>=t)return d+p;if(t==i&&f.length>=i+e.length-d&&f.slice(i-d,i-d+e.length)==e)return i}}return-1}function V0(r,e,t,i,s){let o=[];for(let l=0,d=0;l<r.length;l++){let f=r[l],p=d,m=d+=f.size;p>=t||m<=e?o.push(f):(p<e&&o.push(f.slice(0,e-p,i)),s&&(o.push(s),s=void 0),m>t&&o.push(f.slice(t-p,f.size,i)))}return o}function gx(r,e=null){let t=r.domSelectionRange(),i=r.state.doc;if(!t.focusNode)return null;let s=r.docView.nearestDesc(t.focusNode),o=s&&s.size==0,l=r.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(l<0)return null;let d=i.resolve(l),f,p;if(wm(t)){for(f=l;s&&!s.node;)s=s.parent;let v=s.node;if(s&&v.isAtom&&We.isSelectable(v)&&s.parent&&!(v.isInline&&d5(t.focusNode,t.focusOffset,s.dom))){let b=s.posBefore;p=new We(l==b?d:i.resolve(b))}}else{if(t instanceof r.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let v=l,b=l;for(let x=0;x<t.rangeCount;x++){let w=t.getRangeAt(x);v=Math.min(v,r.docView.posFromDOM(w.startContainer,w.startOffset,1)),b=Math.max(b,r.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(v<0)return null;[f,l]=b==r.state.selection.anchor?[b,v]:[v,b],d=i.resolve(l)}else f=r.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(f<0)return null}let m=i.resolve(f);if(!p){let v=e=="pointer"||r.state.selection.head<d.pos&&!o?1:-1;p=vx(r,m,d,v)}return p}function kT(r){return r.editable?r.hasFocus():OT(r)&&document.activeElement&&document.activeElement.contains(r.dom)}function is(r,e=!1){let t=r.state.selection;if(RT(r,t),!!kT(r)){if(!e&&r.input.mouseDown&&r.input.mouseDown.allowDefault&&Cr){let i=r.domSelectionRange(),s=r.domObserver.currentSelection;if(i.anchorNode&&s.anchorNode&&ul(i.anchorNode,i.anchorOffset,s.anchorNode,s.anchorOffset)){r.input.mouseDown.delayedSelectionSync=!0,r.domObserver.setCurSelection();return}}if(r.domObserver.disconnectSelection(),r.cursorWrapper)F5(r);else{let{anchor:i,head:s}=t,o,l;iC&&!(t instanceof it)&&(t.$from.parent.inlineContent||(o=aC(r,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(l=aC(r,t.to))),r.docView.setSelection(i,s,r,e),iC&&(o&&sC(o),l&&sC(l)),t.visible?r.dom.classList.remove("ProseMirror-hideselection"):(r.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&I5(r))}r.domObserver.setCurSelection(),r.domObserver.connectSelection()}}const iC=Lr||Cr&&vT<63;function aC(r,e){let{node:t,offset:i}=r.docView.domFromPos(e,0),s=i<t.childNodes.length?t.childNodes[i]:null,o=i?t.childNodes[i-1]:null;if(Lr&&s&&s.contentEditable=="false")return n0(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return n0(s);if(o)return n0(o)}}function n0(r){return r.contentEditable="true",Lr&&r.draggable&&(r.draggable=!1,r.wasDraggable=!0),r}function sC(r){r.contentEditable="false",r.wasDraggable&&(r.draggable=!0,r.wasDraggable=null)}function I5(r){let e=r.dom.ownerDocument;e.removeEventListener("selectionchange",r.input.hideSelectionGuard);let t=r.domSelectionRange(),i=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(t.anchorNode!=i||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!kT(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})}function F5(r){let e=r.domSelection(),t=document.createRange();if(!e)return;let i=r.cursorWrapper.dom,s=i.nodeName=="IMG";s?t.setStart(i.parentNode,gr(i)+1):t.setStart(i,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!s&&!r.state.selection.visible&&Qr&&Ks<=11&&(i.disabled=!0,i.disabled=!1)}function RT(r,e){if(e instanceof We){let t=r.docView.descAt(e.from);t!=r.lastSelectedViewDesc&&(oC(r),t&&t.selectNode(),r.lastSelectedViewDesc=t)}else oC(r)}function oC(r){r.lastSelectedViewDesc&&(r.lastSelectedViewDesc.parent&&r.lastSelectedViewDesc.deselectNode(),r.lastSelectedViewDesc=void 0)}function vx(r,e,t,i){return r.someProp("createSelectionBetween",s=>s(r,e,t))||it.between(e,t,i)}function lC(r){return r.editable&&!r.hasFocus()?!1:OT(r)}function OT(r){let e=r.domSelectionRange();if(!e.anchorNode)return!1;try{return r.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(r.editable||r.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function $5(r){let e=r.docView.domFromPos(r.state.selection.anchor,0),t=r.domSelectionRange();return ul(e.node,e.offset,t.anchorNode,t.anchorOffset)}function P0(r,e){let{$anchor:t,$head:i}=r.selection,s=e>0?t.max(i):t.min(i),o=s.parent.inlineContent?s.depth?r.doc.resolve(e>0?s.after():s.before()):null:s;return o&&ct.findFrom(o,e)}function Ps(r,e){return r.dispatch(r.state.tr.setSelection(e).scrollIntoView()),!0}function uC(r,e,t){let i=r.state.selection;if(i instanceof it)if(t.indexOf("s")>-1){let{$head:s}=i,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let l=r.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return Ps(r,new it(i.$anchor,l))}else if(i.empty){if(r.endOfTextblock(e>0?"forward":"backward")){let s=P0(r.state,e);return s&&s instanceof We?Ps(r,s):!1}else if(!(ki&&t.indexOf("m")>-1)){let s=i.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,l;if(!o||o.isText)return!1;let d=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(l=r.docView.descAt(d))&&!l.contentDOM?We.isSelectable(o)?Ps(r,new We(e<0?r.state.doc.resolve(s.pos-o.nodeSize):s)):cf?Ps(r,new it(r.state.doc.resolve(e<0?d:d+o.nodeSize))):!1:!1}}else return!1;else{if(i instanceof We&&i.node.isInline)return Ps(r,new it(e>0?i.$to:i.$from));{let s=P0(r.state,e);return s?Ps(r,s):!1}}}function Zp(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Hd(r,e){let t=r.pmViewDesc;return t&&t.size==0&&(e<0||r.nextSibling||r.nodeName!="BR")}function Su(r,e){return e<0?B5(r):H5(r)}function B5(r){let e=r.domSelectionRange(),t=e.focusNode,i=e.focusOffset;if(!t)return;let s,o,l=!1;for(ra&&t.nodeType==1&&i<Zp(t)&&Hd(t.childNodes[i],-1)&&(l=!0);;)if(i>0){if(t.nodeType!=1)break;{let d=t.childNodes[i-1];if(Hd(d,-1))s=t,o=--i;else if(d.nodeType==3)t=d,i=t.nodeValue.length;else break}}else{if(MT(t))break;{let d=t.previousSibling;for(;d&&Hd(d,-1);)s=t.parentNode,o=gr(d),d=d.previousSibling;if(d)t=d,i=Zp(t);else{if(t=t.parentNode,t==r.dom)break;i=0}}}l?I0(r,t,i):s&&I0(r,s,o)}function H5(r){let e=r.domSelectionRange(),t=e.focusNode,i=e.focusOffset;if(!t)return;let s=Zp(t),o,l;for(;;)if(i<s){if(t.nodeType!=1)break;let d=t.childNodes[i];if(Hd(d,1))o=t,l=++i;else break}else{if(MT(t))break;{let d=t.nextSibling;for(;d&&Hd(d,1);)o=d.parentNode,l=gr(d)+1,d=d.nextSibling;if(d)t=d,i=0,s=Zp(t);else{if(t=t.parentNode,t==r.dom)break;i=s=0}}}o&&I0(r,o,l)}function MT(r){let e=r.pmViewDesc;return e&&e.node&&e.node.isBlock}function q5(r,e){for(;r&&e==r.childNodes.length&&!uf(r);)e=gr(r)+1,r=r.parentNode;for(;r&&e<r.childNodes.length;){let t=r.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=0}}function W5(r,e){for(;r&&!e&&!uf(r);)e=gr(r),r=r.parentNode;for(;r&&e;){let t=r.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;r=t,e=r.childNodes.length}}function I0(r,e,t){if(e.nodeType!=3){let o,l;(l=q5(e,t))?(e=l,t=0):(o=W5(e,t))&&(e=o,t=o.nodeValue.length)}let i=r.domSelection();if(!i)return;if(wm(i)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),i.removeAllRanges(),i.addRange(o)}else i.extend&&i.extend(e,t);r.domObserver.setCurSelection();let{state:s}=r;setTimeout(()=>{r.state==s&&is(r)},50)}function cC(r,e){let t=r.state.doc.resolve(e);if(!(Cr||p5)&&t.parent.inlineContent){let s=r.coordsAtPos(e);if(e>t.start()){let o=r.coordsAtPos(e-1),l=(o.top+o.bottom)/2;if(l>s.top&&l<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<t.end()){let o=r.coordsAtPos(e+1),l=(o.top+o.bottom)/2;if(l>s.top&&l<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(r.dom).direction=="rtl"?"rtl":"ltr"}function dC(r,e,t){let i=r.state.selection;if(i instanceof it&&!i.empty||t.indexOf("s")>-1||ki&&t.indexOf("m")>-1)return!1;let{$from:s,$to:o}=i;if(!s.parent.inlineContent||r.endOfTextblock(e<0?"up":"down")){let l=P0(r.state,e);if(l&&l instanceof We)return Ps(r,l)}if(!s.parent.inlineContent){let l=e<0?s:o,d=i instanceof gi?ct.near(l,e):ct.findFrom(l,e);return d?Ps(r,d):!1}return!1}function fC(r,e){if(!(r.state.selection instanceof it))return!0;let{$head:t,$anchor:i,empty:s}=r.state.selection;if(!t.sameParent(i))return!0;if(!s)return!1;if(r.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let l=r.state.tr;return e<0?l.delete(t.pos-o.nodeSize,t.pos):l.delete(t.pos,t.pos+o.nodeSize),r.dispatch(l),!0}return!1}function hC(r,e,t){r.domObserver.stop(),e.contentEditable=t,r.domObserver.start()}function G5(r){if(!Lr||r.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=r.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;hC(r,i,"true"),setTimeout(()=>hC(r,i,"false"),20)}return!1}function J5(r){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}function K5(r,e){let t=e.keyCode,i=J5(e);if(t==8||ki&&t==72&&i=="c")return fC(r,-1)||Su(r,-1);if(t==46&&!e.shiftKey||ki&&t==68&&i=="c")return fC(r,1)||Su(r,1);if(t==13||t==27)return!0;if(t==37||ki&&t==66&&i=="c"){let s=t==37?cC(r,r.state.selection.from)=="ltr"?-1:1:-1;return uC(r,s,i)||Su(r,s)}else if(t==39||ki&&t==70&&i=="c"){let s=t==39?cC(r,r.state.selection.from)=="ltr"?1:-1:1;return uC(r,s,i)||Su(r,s)}else{if(t==38||ki&&t==80&&i=="c")return dC(r,-1,i)||Su(r,-1);if(t==40||ki&&t==78&&i=="c")return G5(r)||dC(r,1,i)||Su(r,1);if(i==(ki?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function yx(r,e){r.someProp("transformCopied",x=>{e=x(e,r)});let t=[],{content:i,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&i.childCount==1&&i.firstChild.childCount==1;){s--,o--;let x=i.firstChild;t.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),i=x.content}let l=r.someProp("clipboardSerializer")||ml.fromSchema(r.state.schema),d=VT(),f=d.createElement("div");f.appendChild(l.serializeFragment(i,{document:d}));let p=f.firstChild,m,v=0;for(;p&&p.nodeType==1&&(m=zT[p.nodeName.toLowerCase()]);){for(let x=m.length-1;x>=0;x--){let w=d.createElement(m[x]);for(;f.firstChild;)w.appendChild(f.firstChild);f.appendChild(w),v++}p=f.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${s} ${o}${v?` -${v}`:""} ${JSON.stringify(t)}`);let b=r.someProp("clipboardTextSerializer",x=>x(e,r))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:b,slice:e}}function AT(r,e,t,i,s){let o=s.parent.type.spec.code,l,d;if(!t&&!e)return null;let f=e&&(i||o||!t);if(f){if(r.someProp("transformPastedText",b=>{e=b(e,o||i,r)}),o)return e?new Te(de.from(r.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Te.empty;let v=r.someProp("clipboardTextParser",b=>b(e,s,i,r));if(v)d=v;else{let b=s.marks(),{schema:x}=r.state,w=ml.fromSchema(x);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(C=>{let _=l.appendChild(document.createElement("p"));C&&_.appendChild(w.serializeNode(x.text(C,b)))})}}else r.someProp("transformPastedHTML",v=>{t=v(t,r)}),l=Z5(t),cf&&e3(l);let p=l&&l.querySelector("[data-pm-slice]"),m=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let v=+m[3];v>0;v--){let b=l.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;l=b}if(d||(d=(r.someProp("clipboardParser")||r.someProp("domParser")||Js.fromSchema(r.state.schema)).parseSlice(l,{preserveWhitespace:!!(f||m),context:s,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!Y5.test(b.parentNode.nodeName)?{ignore:!0}:null}})),m)d=t3(pC(d,+m[1],+m[2]),m[4]);else if(d=Te.maxOpen(Q5(d.content,s),!0),d.openStart||d.openEnd){let v=0,b=0;for(let x=d.content.firstChild;v<d.openStart&&!x.type.spec.isolating;v++,x=x.firstChild);for(let x=d.content.lastChild;b<d.openEnd&&!x.type.spec.isolating;b++,x=x.lastChild);d=pC(d,v,b)}return r.someProp("transformPasted",v=>{d=v(d,r)}),d}const Y5=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Q5(r,e){if(r.childCount<2)return r;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),o,l=[];if(r.forEach(d=>{if(!l)return;let f=s.findWrapping(d.type),p;if(!f)return l=null;if(p=l.length&&o.length&&jT(f,o,d,l[l.length-1],0))l[l.length-1]=p;else{l.length&&(l[l.length-1]=LT(l[l.length-1],o.length));let m=UT(d,f);l.push(m),s=s.matchType(m.type),o=f}}),l)return de.from(l)}return r}function UT(r,e,t=0){for(let i=e.length-1;i>=t;i--)r=e[i].create(null,de.from(r));return r}function jT(r,e,t,i,s){if(s<r.length&&s<e.length&&r[s]==e[s]){let o=jT(r,e,t,i.lastChild,s+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(s==r.length-1?t.type:r[s+1]))return i.copy(i.content.append(de.from(UT(t,r,s+1))))}}function LT(r,e){if(e==0)return r;let t=r.content.replaceChild(r.childCount-1,LT(r.lastChild,e-1)),i=r.contentMatchAt(r.childCount).fillBefore(de.empty,!0);return r.copy(t.append(i))}function F0(r,e,t,i,s,o){let l=e<0?r.firstChild:r.lastChild,d=l.content;return r.childCount>1&&(o=0),s<i-1&&(d=F0(d,e,t,i,s+1,o)),s>=t&&(d=e<0?l.contentMatchAt(0).fillBefore(d,o<=s).append(d):d.append(l.contentMatchAt(l.childCount).fillBefore(de.empty,!0))),r.replaceChild(e<0?0:r.childCount-1,l.copy(d))}function pC(r,e,t){return e<r.openStart&&(r=new Te(F0(r.content,-1,e,r.openStart,0,r.openEnd),e,r.openEnd)),t<r.openEnd&&(r=new Te(F0(r.content,1,t,r.openEnd,0,0),r.openStart,t)),r}const zT={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let mC=null;function VT(){return mC||(mC=document.implementation.createHTMLDocument("title"))}let r0=null;function X5(r){let e=window.trustedTypes;return e?(r0||(r0=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),r0.createHTML(r)):r}function Z5(r){let e=/^(\s*<meta [^>]*>)*/.exec(r);e&&(r=r.slice(e[0].length));let t=VT().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(r),s;if((s=i&&zT[i[1].toLowerCase()])&&(r=s.map(o=>"<"+o+">").join("")+r+s.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=X5(r),s)for(let o=0;o<s.length;o++)t=t.querySelector(s[o])||t;return t}function e3(r){let e=r.querySelectorAll(Cr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let i=e[t];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(r.ownerDocument.createTextNode(" "),i)}}function t3(r,e){if(!r.size)return r;let t=r.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return r}let{content:s,openStart:o,openEnd:l}=r;for(let d=i.length-2;d>=0;d-=2){let f=t.nodes[i[d]];if(!f||f.hasRequiredAttrs())break;s=de.from(f.create(i[d+1],s)),o++,l++}return new Te(s,o,l)}const zr={},Vr={},n3={touchstart:!0,touchmove:!0};class r3{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function i3(r){for(let e in zr){let t=zr[e];r.dom.addEventListener(e,r.input.eventHandlers[e]=i=>{s3(r,i)&&!bx(r,i)&&(r.editable||!(i.type in Vr))&&t(r,i)},n3[e]?{passive:!0}:void 0)}Lr&&r.dom.addEventListener("input",()=>null),$0(r)}function Ws(r,e){r.input.lastSelectionOrigin=e,r.input.lastSelectionTime=Date.now()}function a3(r){r.domObserver.stop();for(let e in r.input.eventHandlers)r.dom.removeEventListener(e,r.input.eventHandlers[e]);clearTimeout(r.input.composingTimeout),clearTimeout(r.input.lastIOSEnterFallbackTimeout)}function $0(r){r.someProp("handleDOMEvents",e=>{for(let t in e)r.input.eventHandlers[t]||r.dom.addEventListener(t,r.input.eventHandlers[t]=i=>bx(r,i))})}function bx(r,e){return r.someProp("handleDOMEvents",t=>{let i=t[e.type];return i?i(r,e)||e.defaultPrevented:!1})}function s3(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=r.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function o3(r,e){!bx(r,e)&&zr[e.type]&&(r.editable||!(e.type in Vr))&&zr[e.type](r,e)}Vr.keydown=(r,e)=>{let t=e;if(r.input.shiftKey=t.keyCode==16||t.shiftKey,!IT(r,t)&&(r.input.lastKeyCode=t.keyCode,r.input.lastKeyCodeTime=Date.now(),!(ns&&Cr&&t.keyCode==13)))if(t.keyCode!=229&&r.domObserver.forceFlush(),Lu&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let i=Date.now();r.input.lastIOSEnter=i,r.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{r.input.lastIOSEnter==i&&(r.someProp("handleKeyDown",s=>s(r,Qo(13,"Enter"))),r.input.lastIOSEnter=0)},200)}else r.someProp("handleKeyDown",i=>i(r,t))||K5(r,t)?t.preventDefault():Ws(r,"key")};Vr.keyup=(r,e)=>{e.keyCode==16&&(r.input.shiftKey=!1)};Vr.keypress=(r,e)=>{let t=e;if(IT(r,t)||!t.charCode||t.ctrlKey&&!t.altKey||ki&&t.metaKey)return;if(r.someProp("handleKeyPress",s=>s(r,t))){t.preventDefault();return}let i=r.state.selection;if(!(i instanceof it)||!i.$from.sameParent(i.$to)){let s=String.fromCharCode(t.charCode);!/[\r\n]/.test(s)&&!r.someProp("handleTextInput",o=>o(r,i.$from.pos,i.$to.pos,s))&&r.dispatch(r.state.tr.insertText(s).scrollIntoView()),t.preventDefault()}};function Nm(r){return{left:r.clientX,top:r.clientY}}function l3(r,e){let t=e.x-r.clientX,i=e.y-r.clientY;return t*t+i*i<100}function xx(r,e,t,i,s){if(i==-1)return!1;let o=r.state.doc.resolve(i);for(let l=o.depth+1;l>0;l--)if(r.someProp(e,d=>l>o.depth?d(r,t,o.nodeAfter,o.before(l),s,!0):d(r,t,o.node(l),o.before(l),s,!1)))return!0;return!1}function Ru(r,e,t){if(r.focused||r.focus(),r.state.selection.eq(e))return;let i=r.state.tr.setSelection(e);i.setMeta("pointer",!0),r.dispatch(i)}function u3(r,e){if(e==-1)return!1;let t=r.state.doc.resolve(e),i=t.nodeAfter;return i&&i.isAtom&&We.isSelectable(i)?(Ru(r,new We(t)),!0):!1}function c3(r,e){if(e==-1)return!1;let t=r.state.selection,i,s;t instanceof We&&(i=t.node);let o=r.state.doc.resolve(e);for(let l=o.depth+1;l>0;l--){let d=l>o.depth?o.nodeAfter:o.node(l);if(We.isSelectable(d)){i&&t.$from.depth>0&&l>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?s=o.before(t.$from.depth):s=o.before(l);break}}return s!=null?(Ru(r,We.create(r.state.doc,s)),!0):!1}function d3(r,e,t,i,s){return xx(r,"handleClickOn",e,t,i)||r.someProp("handleClick",o=>o(r,e,i))||(s?c3(r,t):u3(r,t))}function f3(r,e,t,i){return xx(r,"handleDoubleClickOn",e,t,i)||r.someProp("handleDoubleClick",s=>s(r,e,i))}function h3(r,e,t,i){return xx(r,"handleTripleClickOn",e,t,i)||r.someProp("handleTripleClick",s=>s(r,e,i))||p3(r,t,i)}function p3(r,e,t){if(t.button!=0)return!1;let i=r.state.doc;if(e==-1)return i.inlineContent?(Ru(r,it.create(i,0,i.content.size)),!0):!1;let s=i.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o),d=s.before(o);if(l.inlineContent)Ru(r,it.create(i,d+1,d+1+l.content.size));else if(We.isSelectable(l))Ru(r,We.create(i,d));else continue;return!0}}function wx(r){return em(r)}const PT=ki?"metaKey":"ctrlKey";zr.mousedown=(r,e)=>{let t=e;r.input.shiftKey=t.shiftKey;let i=wx(r),s=Date.now(),o="singleClick";s-r.input.lastClick.time<500&&l3(t,r.input.lastClick)&&!t[PT]&&(r.input.lastClick.type=="singleClick"?o="doubleClick":r.input.lastClick.type=="doubleClick"&&(o="tripleClick")),r.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:o};let l=r.posAtCoords(Nm(t));l&&(o=="singleClick"?(r.input.mouseDown&&r.input.mouseDown.done(),r.input.mouseDown=new m3(r,l,t,!!i)):(o=="doubleClick"?f3:h3)(r,l.pos,l.inside,t)?t.preventDefault():Ws(r,"pointer"))};class m3{constructor(e,t,i,s){this.view=e,this.pos=t,this.event=i,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[PT],this.allowDefault=i.shiftKey;let o,l;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),l=t.inside;else{let m=e.state.doc.resolve(t.pos);o=m.parent,l=m.depth?m.before():0}const d=s?null:i.target,f=d?e.docView.nearestDesc(d,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:p}=e.state;(i.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||p instanceof We&&p.from<=l&&p.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ra&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ws(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>is(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Nm(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ws(this.view,"pointer"):d3(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Lr&&this.mightDrag&&!this.mightDrag.node.isAtom||Cr&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ru(this.view,ct.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Ws(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ws(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}zr.touchstart=r=>{r.input.lastTouch=Date.now(),wx(r),Ws(r,"pointer")};zr.touchmove=r=>{r.input.lastTouch=Date.now(),Ws(r,"pointer")};zr.contextmenu=r=>wx(r);function IT(r,e){return r.composing?!0:Lr&&Math.abs(e.timeStamp-r.input.compositionEndedAt)<500?(r.input.compositionEndedAt=-2e8,!0):!1}const g3=ns?5e3:-1;Vr.compositionstart=Vr.compositionupdate=r=>{if(!r.composing){r.domObserver.flush();let{state:e}=r,t=e.selection.$to;if(e.selection instanceof it&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))r.markCursor=r.state.storedMarks||t.marks(),em(r,!0),r.markCursor=null;else if(em(r,!e.selection.empty),ra&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let i=r.domSelectionRange();for(let s=i.focusNode,o=i.focusOffset;s&&s.nodeType==1&&o!=0;){let l=o<0?s.lastChild:s.childNodes[o-1];if(!l)break;if(l.nodeType==3){let d=r.domSelection();d&&d.collapse(l,l.nodeValue.length);break}else s=l,o=-1}}r.input.composing=!0}FT(r,g3)};Vr.compositionend=(r,e)=>{r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=e.timeStamp,r.input.compositionPendingChanges=r.domObserver.pendingRecords().length?r.input.compositionID:0,r.input.compositionNode=null,r.input.compositionPendingChanges&&Promise.resolve().then(()=>r.domObserver.flush()),r.input.compositionID++,FT(r,20))};function FT(r,e){clearTimeout(r.input.composingTimeout),e>-1&&(r.input.composingTimeout=setTimeout(()=>em(r),e))}function $T(r){for(r.composing&&(r.input.composing=!1,r.input.compositionEndedAt=y3());r.input.compositionNodes.length>0;)r.input.compositionNodes.pop().markParentsDirty()}function v3(r){let e=r.domSelectionRange();if(!e.focusNode)return null;let t=u5(e.focusNode,e.focusOffset),i=c5(e.focusNode,e.focusOffset);if(t&&i&&t!=i){let s=i.pmViewDesc,o=r.domObserver.lastChangedTextNode;if(t==o||i==o)return o;if(!s||!s.isText(i.nodeValue))return i;if(r.input.compositionNode==i){let l=t.pmViewDesc;if(!(!l||!l.isText(t.nodeValue)))return i}}return t||i}function y3(){let r=document.createEvent("Event");return r.initEvent("event",!0,!0),r.timeStamp}function em(r,e=!1){if(!(ns&&r.domObserver.flushingSoon>=0)){if(r.domObserver.forceFlush(),$T(r),e||r.docView&&r.docView.dirty){let t=gx(r);return t&&!t.eq(r.state.selection)?r.dispatch(r.state.tr.setSelection(t)):(r.markCursor||e)&&!r.state.selection.empty?r.dispatch(r.state.tr.deleteSelection()):r.updateState(r.state),!0}return!1}}function b3(r,e){if(!r.dom.parentNode)return;let t=r.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),s=document.createRange();s.selectNodeContents(e),r.dom.blur(),i.removeAllRanges(),i.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),r.focus()},50)}const Zd=Qr&&Ks<15||Lu&&m5<604;zr.copy=Vr.cut=(r,e)=>{let t=e,i=r.state.selection,s=t.type=="cut";if(i.empty)return;let o=Zd?null:t.clipboardData,l=i.content(),{dom:d,text:f}=yx(r,l);o?(t.preventDefault(),o.clearData(),o.setData("text/html",d.innerHTML),o.setData("text/plain",f)):b3(r,d),s&&r.dispatch(r.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function x3(r){return r.openStart==0&&r.openEnd==0&&r.content.childCount==1?r.content.firstChild:null}function w3(r,e){if(!r.dom.parentNode)return;let t=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,i=r.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let s=r.input.shiftKey&&r.input.lastKeyCode!=45;setTimeout(()=>{r.focus(),i.parentNode&&i.parentNode.removeChild(i),t?ef(r,i.value,null,s,e):ef(r,i.textContent,i.innerHTML,s,e)},50)}function ef(r,e,t,i,s){let o=AT(r,e,t,i,r.state.selection.$from);if(r.someProp("handlePaste",f=>f(r,s,o||Te.empty)))return!0;if(!o)return!1;let l=x3(o),d=l?r.state.tr.replaceSelectionWith(l,i):r.state.tr.replaceSelection(o);return r.dispatch(d.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function BT(r){let e=r.getData("text/plain")||r.getData("Text");if(e)return e;let t=r.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Vr.paste=(r,e)=>{let t=e;if(r.composing&&!ns)return;let i=Zd?null:t.clipboardData,s=r.input.shiftKey&&r.input.lastKeyCode!=45;i&&ef(r,BT(i),i.getData("text/html"),s,t)?t.preventDefault():w3(r,t)};class HT{constructor(e,t,i){this.slice=e,this.move=t,this.node=i}}const qT=ki?"altKey":"ctrlKey";zr.dragstart=(r,e)=>{let t=e,i=r.input.mouseDown;if(i&&i.done(),!t.dataTransfer)return;let s=r.state.selection,o=s.empty?null:r.posAtCoords(Nm(t)),l;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof We?s.to-1:s.to))){if(i&&i.mightDrag)l=We.create(r.state.doc,i.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let v=r.docView.nearestDesc(t.target,!0);v&&v.node.type.spec.draggable&&v!=r.docView&&(l=We.create(r.state.doc,v.posBefore))}}let d=(l||r.state.selection).content(),{dom:f,text:p,slice:m}=yx(r,d);(!t.dataTransfer.files.length||!Cr||vT>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Zd?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",Zd||t.dataTransfer.setData("text/plain",p),r.dragging=new HT(m,!t[qT],l)};zr.dragend=r=>{let e=r.dragging;window.setTimeout(()=>{r.dragging==e&&(r.dragging=null)},50)};Vr.dragover=Vr.dragenter=(r,e)=>e.preventDefault();Vr.drop=(r,e)=>{let t=e,i=r.dragging;if(r.dragging=null,!t.dataTransfer)return;let s=r.posAtCoords(Nm(t));if(!s)return;let o=r.state.doc.resolve(s.pos),l=i&&i.slice;l?r.someProp("transformPasted",w=>{l=w(l,r)}):l=AT(r,BT(t.dataTransfer),Zd?null:t.dataTransfer.getData("text/html"),!1,o);let d=!!(i&&!t[qT]);if(r.someProp("handleDrop",w=>w(r,t,l||Te.empty,d))){t.preventDefault();return}if(!l)return;t.preventDefault();let f=l?uT(r.state.doc,o.pos,l):o.pos;f==null&&(f=o.pos);let p=r.state.tr;if(d){let{node:w}=i;w?w.replace(p):p.deleteSelection()}let m=p.mapping.map(f),v=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,b=p.doc;if(v?p.replaceRangeWith(m,m,l.content.firstChild):p.replaceRange(m,m,l),p.doc.eq(b))return;let x=p.doc.resolve(m);if(v&&We.isSelectable(l.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(l.content.firstChild))p.setSelection(new We(x));else{let w=p.mapping.map(f);p.mapping.maps[p.mapping.maps.length-1].forEach((C,_,O,A)=>w=A),p.setSelection(vx(r,x,p.doc.resolve(w)))}r.focus(),r.dispatch(p.setMeta("uiEvent","drop"))};zr.focus=r=>{r.input.lastFocus=Date.now(),r.focused||(r.domObserver.stop(),r.dom.classList.add("ProseMirror-focused"),r.domObserver.start(),r.focused=!0,setTimeout(()=>{r.docView&&r.hasFocus()&&!r.domObserver.currentSelection.eq(r.domSelectionRange())&&is(r)},20))};zr.blur=(r,e)=>{let t=e;r.focused&&(r.domObserver.stop(),r.dom.classList.remove("ProseMirror-focused"),r.domObserver.start(),t.relatedTarget&&r.dom.contains(t.relatedTarget)&&r.domObserver.currentSelection.clear(),r.focused=!1)};zr.beforeinput=(r,e)=>{if(Cr&&ns&&e.inputType=="deleteContentBackward"){r.domObserver.flushSoon();let{domChangeCount:i}=r.input;setTimeout(()=>{if(r.input.domChangeCount!=i||(r.dom.blur(),r.focus(),r.someProp("handleKeyDown",o=>o(r,Qo(8,"Backspace")))))return;let{$cursor:s}=r.state.selection;s&&s.pos>0&&r.dispatch(r.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let r in Vr)zr[r]=Vr[r];function tf(r,e){if(r==e)return!0;for(let t in r)if(r[t]!==e[t])return!1;for(let t in e)if(!(t in r))return!1;return!0}class tm{constructor(e,t){this.toDOM=e,this.spec=t||al,this.side=this.spec.side||0}map(e,t,i,s){let{pos:o,deleted:l}=e.mapResult(t.from+s,this.side<0?-1:1);return l?null:new Oi(o-i,o-i,this)}valid(){return!0}eq(e){return this==e||e instanceof tm&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&tf(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Qs{constructor(e,t){this.attrs=e,this.spec=t||al}map(e,t,i,s){let o=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-i,l=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-i;return o>=l?null:new Oi(o,l,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Qs&&tf(this.attrs,e.attrs)&&tf(this.spec,e.spec)}static is(e){return e.type instanceof Qs}destroy(){}}class Sx{constructor(e,t){this.attrs=e,this.spec=t||al}map(e,t,i,s){let o=e.mapResult(t.from+s,1);if(o.deleted)return null;let l=e.mapResult(t.to+s,-1);return l.deleted||l.pos<=o.pos?null:new Oi(o.pos-i,l.pos-i,this)}valid(e,t){let{index:i,offset:s}=e.content.findIndex(t.from),o;return s==t.from&&!(o=e.child(i)).isText&&s+o.nodeSize==t.to}eq(e){return this==e||e instanceof Sx&&tf(this.attrs,e.attrs)&&tf(this.spec,e.spec)}destroy(){}}class Oi{constructor(e,t,i){this.from=e,this.to=t,this.type=i}copy(e,t){return new Oi(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,i){return this.type.map(e,this,t,i)}static widget(e,t,i){return new Oi(e,e,new tm(t,i))}static inline(e,t,i,s){return new Oi(e,t,new Qs(i,s))}static node(e,t,i,s){return new Oi(e,t,new Sx(i,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Qs}get widget(){return this.type instanceof tm}}const Du=[],al={};class In{constructor(e,t){this.local=e.length?e:Du,this.children=t.length?t:Du}static create(e,t){return t.length?nm(t,e,0,al):Dr}find(e,t,i){let s=[];return this.findInner(e??0,t??1e9,s,0,i),s}findInner(e,t,i,s,o){for(let l=0;l<this.local.length;l++){let d=this.local[l];d.from<=t&&d.to>=e&&(!o||o(d.spec))&&i.push(d.copy(d.from+s,d.to+s))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<t&&this.children[l+1]>e){let d=this.children[l]+1;this.children[l+2].findInner(e-d,t-d,i,s+d,o)}}map(e,t,i){return this==Dr||e.maps.length==0?this:this.mapInner(e,t,0,0,i||al)}mapInner(e,t,i,s,o){let l;for(let d=0;d<this.local.length;d++){let f=this.local[d].map(e,i,s);f&&f.type.valid(t,f)?(l||(l=[])).push(f):o.onRemove&&o.onRemove(this.local[d].spec)}return this.children.length?S3(this.children,l||[],e,t,i,s,o):l?new In(l.sort(sl),Du):Dr}add(e,t){return t.length?this==Dr?In.create(e,t):this.addInner(e,t,0):this}addInner(e,t,i){let s,o=0;e.forEach((d,f)=>{let p=f+i,m;if(m=GT(t,d,p)){for(s||(s=this.children.slice());o<s.length&&s[o]<f;)o+=3;s[o]==f?s[o+2]=s[o+2].addInner(d,m,p+1):s.splice(o,0,f,f+d.nodeSize,nm(m,d,p+1,al)),o+=3}});let l=WT(o?JT(t):t,-i);for(let d=0;d<l.length;d++)l[d].type.valid(e,l[d])||l.splice(d--,1);return new In(l.length?this.local.concat(l).sort(sl):this.local,s||this.children)}remove(e){return e.length==0||this==Dr?this:this.removeInner(e,0)}removeInner(e,t){let i=this.children,s=this.local;for(let o=0;o<i.length;o+=3){let l,d=i[o]+t,f=i[o+1]+t;for(let m=0,v;m<e.length;m++)(v=e[m])&&v.from>d&&v.to<f&&(e[m]=null,(l||(l=[])).push(v));if(!l)continue;i==this.children&&(i=this.children.slice());let p=i[o+2].removeInner(l,d+1);p!=Dr?i[o+2]=p:(i.splice(o,3),o-=3)}if(s.length){for(let o=0,l;o<e.length;o++)if(l=e[o])for(let d=0;d<s.length;d++)s[d].eq(l,t)&&(s==this.local&&(s=this.local.slice()),s.splice(d--,1))}return i==this.children&&s==this.local?this:s.length||i.length?new In(s,i):Dr}forChild(e,t){if(this==Dr)return this;if(t.isLeaf)return In.empty;let i,s;for(let d=0;d<this.children.length;d+=3)if(this.children[d]>=e){this.children[d]==e&&(i=this.children[d+2]);break}let o=e+1,l=o+t.content.size;for(let d=0;d<this.local.length;d++){let f=this.local[d];if(f.from<l&&f.to>o&&f.type instanceof Qs){let p=Math.max(o,f.from)-o,m=Math.min(l,f.to)-o;p<m&&(s||(s=[])).push(f.copy(p,m))}}if(s){let d=new In(s.sort(sl),Du);return i?new $s([d,i]):d}return i||Dr}eq(e){if(this==e)return!0;if(!(e instanceof In)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Nx(this.localsInner(e))}localsInner(e){if(this==Dr)return Du;if(e.inlineContent||!this.local.some(Qs.is))return this.local;let t=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Qs||t.push(this.local[i]);return t}forEachSet(e){e(this)}}In.empty=new In([],[]);In.removeOverlap=Nx;const Dr=In.empty;class $s{constructor(e){this.members=e}map(e,t){const i=this.members.map(s=>s.map(e,t,al));return $s.from(i)}forChild(e,t){if(t.isLeaf)return In.empty;let i=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,t);o!=Dr&&(o instanceof $s?i=i.concat(o.members):i.push(o))}return $s.from(i)}eq(e){if(!(e instanceof $s)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,i=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!t)t=o;else{i&&(t=t.slice(),i=!1);for(let l=0;l<o.length;l++)t.push(o[l])}}return t?Nx(i?t:t.sort(sl)):Du}static from(e){switch(e.length){case 0:return Dr;case 1:return e[0];default:return new $s(e.every(t=>t instanceof In)?e:e.reduce((t,i)=>t.concat(i instanceof In?i:i.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function S3(r,e,t,i,s,o,l){let d=r.slice();for(let p=0,m=o;p<t.maps.length;p++){let v=0;t.maps[p].forEach((b,x,w,C)=>{let _=C-w-(x-b);for(let O=0;O<d.length;O+=3){let A=d[O+1];if(A<0||b>A+m-v)continue;let F=d[O]+m-v;x>=F?d[O+1]=b<=F?-2:-1:b>=m&&_&&(d[O]+=_,d[O+1]+=_)}v+=_}),m=t.maps[p].map(m,-1)}let f=!1;for(let p=0;p<d.length;p+=3)if(d[p+1]<0){if(d[p+1]==-2){f=!0,d[p+1]=-1;continue}let m=t.map(r[p]+o),v=m-s;if(v<0||v>=i.content.size){f=!0;continue}let b=t.map(r[p+1]+o,-1),x=b-s,{index:w,offset:C}=i.content.findIndex(v),_=i.maybeChild(w);if(_&&C==v&&C+_.nodeSize==x){let O=d[p+2].mapInner(t,_,m+1,r[p]+o+1,l);O!=Dr?(d[p]=v,d[p+1]=x,d[p+2]=O):(d[p+1]=-2,f=!0)}else f=!0}if(f){let p=N3(d,r,e,t,s,o,l),m=nm(p,i,0,l);e=m.local;for(let v=0;v<d.length;v+=3)d[v+1]<0&&(d.splice(v,3),v-=3);for(let v=0,b=0;v<m.children.length;v+=3){let x=m.children[v];for(;b<d.length&&d[b]<x;)b+=3;d.splice(b,0,m.children[v],m.children[v+1],m.children[v+2])}}return new In(e.sort(sl),d)}function WT(r,e){if(!e||!r.length)return r;let t=[];for(let i=0;i<r.length;i++){let s=r[i];t.push(new Oi(s.from+e,s.to+e,s.type))}return t}function N3(r,e,t,i,s,o,l){function d(f,p){for(let m=0;m<f.local.length;m++){let v=f.local[m].map(i,s,p);v?t.push(v):l.onRemove&&l.onRemove(f.local[m].spec)}for(let m=0;m<f.children.length;m+=3)d(f.children[m+2],f.children[m]+p+1)}for(let f=0;f<r.length;f+=3)r[f+1]==-1&&d(r[f+2],e[f]+o+1);return t}function GT(r,e,t){if(e.isLeaf)return null;let i=t+e.nodeSize,s=null;for(let o=0,l;o<r.length;o++)(l=r[o])&&l.from>t&&l.to<i&&((s||(s=[])).push(l),r[o]=null);return s}function JT(r){let e=[];for(let t=0;t<r.length;t++)r[t]!=null&&e.push(r[t]);return e}function nm(r,e,t,i){let s=[],o=!1;e.forEach((d,f)=>{let p=GT(r,d,f+t);if(p){o=!0;let m=nm(p,d,t+f+1,i);m!=Dr&&s.push(f,f+d.nodeSize,m)}});let l=WT(o?JT(r):r,-t).sort(sl);for(let d=0;d<l.length;d++)l[d].type.valid(e,l[d])||(i.onRemove&&i.onRemove(l[d].spec),l.splice(d--,1));return l.length||s.length?new In(l,s):Dr}function sl(r,e){return r.from-e.from||r.to-e.to}function Nx(r){let e=r;for(let t=0;t<e.length-1;t++){let i=e[t];if(i.from!=i.to)for(let s=t+1;s<e.length;s++){let o=e[s];if(o.from==i.from){o.to!=i.to&&(e==r&&(e=r.slice()),e[s]=o.copy(o.from,i.to),gC(e,s+1,o.copy(i.to,o.to)));continue}else{o.from<i.to&&(e==r&&(e=r.slice()),e[t]=i.copy(i.from,o.from),gC(e,s,i.copy(o.from,i.to)));break}}}return e}function gC(r,e,t){for(;e<r.length&&sl(t,r[e])>0;)e++;r.splice(e,0,t)}function i0(r){let e=[];return r.someProp("decorations",t=>{let i=t(r.state);i&&i!=Dr&&e.push(i)}),r.cursorWrapper&&e.push(In.create(r.state.doc,[r.cursorWrapper.deco])),$s.from(e)}const E3={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},D3=Qr&&Ks<=11;class C3{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class _3{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new C3,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let s=0;s<i.length;s++)this.queue.push(i[s]);Qr&&Ks<=11&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),D3&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,E3)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(lC(this.view)){if(this.suppressingSelectionUpdates)return is(this.view);if(Qr&&Ks<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ul(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,i;for(let o=e.focusNode;o;o=ju(o))t.add(o);for(let o=e.anchorNode;o;o=ju(o))if(t.has(o)){i=o;break}let s=i&&this.view.docView.nearestDesc(i);if(s&&s.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let i=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&lC(e)&&!this.ignoreSelectionChange(i),o=-1,l=-1,d=!1,f=[];if(e.editable)for(let m=0;m<t.length;m++){let v=this.registerMutation(t[m],f);v&&(o=o<0?v.from:Math.min(v.from,o),l=l<0?v.to:Math.max(v.to,l),v.typeOver&&(d=!0))}if(ra&&f.length){let m=f.filter(v=>v.nodeName=="BR");if(m.length==2){let[v,b]=m;v.parentNode&&v.parentNode.parentNode==b.parentNode?b.remove():v.remove()}else{let{focusNode:v}=this.currentSelection;for(let b of m){let x=b.parentNode;x&&x.nodeName=="LI"&&(!v||R3(e,v)!=x)&&b.remove()}}}let p=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&wm(i)&&(p=gx(e))&&p.eq(ct.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,is(e),this.currentSelection.set(i),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,l),T3(e)),this.handleDOMChange(o,l,d,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||is(e),this.currentSelection.set(i))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let v=e.addedNodes[m];t.push(v),v.nodeType==3&&(this.lastChangedTextNode=v)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let s=e.previousSibling,o=e.nextSibling;if(Qr&&Ks<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:v,nextSibling:b}=e.addedNodes[m];(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(s=v),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(o=b)}let l=s&&s.parentNode==e.target?gr(s)+1:0,d=i.localPosFromDOM(e.target,l,-1),f=o&&o.parentNode==e.target?gr(o):e.target.childNodes.length,p=i.localPosFromDOM(e.target,f,1);return{from:d,to:p}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let vC=new WeakMap,yC=!1;function T3(r){if(!vC.has(r)&&(vC.set(r,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(r.dom).whiteSpace)!==-1)){if(r.requiresGeckoHackNode=ra,yC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yC=!0}}function bC(r,e){let t=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,l=r.domAtPos(r.state.selection.anchor);return ul(l.node,l.offset,s,o)&&([t,i,s,o]=[s,o,t,i]),{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:o}}function k3(r,e){if(e.getComposedRanges){let s=e.getComposedRanges(r.root)[0];if(s)return bC(r,s)}let t;function i(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return r.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),r.dom.removeEventListener("beforeinput",i,!0),t?bC(r,t):null}function R3(r,e){for(let t=e.parentNode;t&&t!=r.dom;t=t.parentNode){let i=r.docView.nearestDesc(t,!0);if(i&&i.node.isBlock)return t}return null}function O3(r,e,t){let{node:i,fromOffset:s,toOffset:o,from:l,to:d}=r.docView.parseRange(e,t),f=r.domSelectionRange(),p,m=f.anchorNode;if(m&&r.dom.contains(m.nodeType==1?m:m.parentNode)&&(p=[{node:m,offset:f.anchorOffset}],wm(f)||p.push({node:f.focusNode,offset:f.focusOffset})),Cr&&r.input.lastKeyCode===8)for(let _=o;_>s;_--){let O=i.childNodes[_-1],A=O.pmViewDesc;if(O.nodeName=="BR"&&!A){o=_;break}if(!A||A.size)break}let v=r.state.doc,b=r.someProp("domParser")||Js.fromSchema(r.state.schema),x=v.resolve(l),w=null,C=b.parse(i,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:s,to:o,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:M3,context:x});if(p&&p[0].pos!=null){let _=p[0].pos,O=p[1]&&p[1].pos;O==null&&(O=_),w={anchor:_+l,head:O+l}}return{doc:C,sel:w,from:l,to:d}}function M3(r){let e=r.pmViewDesc;if(e)return e.parseRule();if(r.nodeName=="BR"&&r.parentNode){if(Lr&&/^(ul|ol)$/i.test(r.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(r.parentNode.lastChild==r||Lr&&/^(tr|table)$/i.test(r.parentNode.nodeName))return{ignore:!0}}else if(r.nodeName=="IMG"&&r.getAttribute("mark-placeholder"))return{ignore:!0};return null}const A3=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function U3(r,e,t,i,s){let o=r.input.compositionPendingChanges||(r.composing?r.input.compositionID:0);if(r.input.compositionPendingChanges=0,e<0){let re=r.input.lastSelectionTime>Date.now()-50?r.input.lastSelectionOrigin:null,ve=gx(r,re);if(ve&&!r.state.selection.eq(ve)){if(Cr&&ns&&r.input.lastKeyCode===13&&Date.now()-100<r.input.lastKeyCodeTime&&r.someProp("handleKeyDown",ze=>ze(r,Qo(13,"Enter"))))return;let Le=r.state.tr.setSelection(ve);re=="pointer"?Le.setMeta("pointer",!0):re=="key"&&Le.scrollIntoView(),o&&Le.setMeta("composition",o),r.dispatch(Le)}return}let l=r.state.doc.resolve(e),d=l.sharedDepth(t);e=l.before(d+1),t=r.state.doc.resolve(t).after(d+1);let f=r.state.selection,p=O3(r,e,t),m=r.state.doc,v=m.slice(p.from,p.to),b,x;r.input.lastKeyCode===8&&Date.now()-100<r.input.lastKeyCodeTime?(b=r.state.selection.to,x="end"):(b=r.state.selection.from,x="start"),r.input.lastKeyCode=null;let w=z3(v.content,p.doc.content,p.from,b,x);if(w&&r.input.domChangeCount++,(Lu&&r.input.lastIOSEnter>Date.now()-225||ns)&&s.some(re=>re.nodeType==1&&!A3.test(re.nodeName))&&(!w||w.endA>=w.endB)&&r.someProp("handleKeyDown",re=>re(r,Qo(13,"Enter")))){r.input.lastIOSEnter=0;return}if(!w)if(i&&f instanceof it&&!f.empty&&f.$head.sameParent(f.$anchor)&&!r.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))w={start:f.from,endA:f.to,endB:f.to};else{if(p.sel){let re=xC(r,r.state.doc,p.sel);if(re&&!re.eq(r.state.selection)){let ve=r.state.tr.setSelection(re);o&&ve.setMeta("composition",o),r.dispatch(ve)}}return}r.state.selection.from<r.state.selection.to&&w.start==w.endB&&r.state.selection instanceof it&&(w.start>r.state.selection.from&&w.start<=r.state.selection.from+2&&r.state.selection.from>=p.from?w.start=r.state.selection.from:w.endA<r.state.selection.to&&w.endA>=r.state.selection.to-2&&r.state.selection.to<=p.to&&(w.endB+=r.state.selection.to-w.endA,w.endA=r.state.selection.to)),Qr&&Ks<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>p.from&&p.doc.textBetween(w.start-p.from-1,w.start-p.from+1)==" "&&(w.start--,w.endA--,w.endB--);let C=p.doc.resolveNoCache(w.start-p.from),_=p.doc.resolveNoCache(w.endB-p.from),O=m.resolve(w.start),A=C.sameParent(_)&&C.parent.inlineContent&&O.end()>=w.endA,F;if((Lu&&r.input.lastIOSEnter>Date.now()-225&&(!A||s.some(re=>re.nodeName=="DIV"||re.nodeName=="P"))||!A&&C.pos<p.doc.content.size&&!C.sameParent(_)&&(F=ct.findFrom(p.doc.resolve(C.pos+1),1,!0))&&F.head==_.pos)&&r.someProp("handleKeyDown",re=>re(r,Qo(13,"Enter")))){r.input.lastIOSEnter=0;return}if(r.state.selection.anchor>w.start&&L3(m,w.start,w.endA,C,_)&&r.someProp("handleKeyDown",re=>re(r,Qo(8,"Backspace")))){ns&&Cr&&r.domObserver.suppressSelectionUpdates();return}Cr&&w.endB==w.start&&(r.input.lastChromeDelete=Date.now()),ns&&!A&&C.start()!=_.start()&&_.parentOffset==0&&C.depth==_.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==w.endA&&(w.endB-=2,_=p.doc.resolveNoCache(w.endB-p.from),setTimeout(()=>{r.someProp("handleKeyDown",function(re){return re(r,Qo(13,"Enter"))})},20));let P=w.start,K=w.endA,le,L,ne;if(A){if(C.pos==_.pos)Qr&&Ks<=11&&C.parentOffset==0&&(r.domObserver.suppressSelectionUpdates(),setTimeout(()=>is(r),20)),le=r.state.tr.delete(P,K),L=m.resolve(w.start).marksAcross(m.resolve(w.endA));else if(w.endA==w.endB&&(ne=j3(C.parent.content.cut(C.parentOffset,_.parentOffset),O.parent.content.cut(O.parentOffset,w.endA-O.start()))))le=r.state.tr,ne.type=="add"?le.addMark(P,K,ne.mark):le.removeMark(P,K,ne.mark);else if(C.parent.child(C.index()).isText&&C.index()==_.index()-(_.textOffset?0:1)){let re=C.parent.textBetween(C.parentOffset,_.parentOffset);if(r.someProp("handleTextInput",ve=>ve(r,P,K,re)))return;le=r.state.tr.insertText(re,P,K)}}if(le||(le=r.state.tr.replace(P,K,p.doc.slice(w.start-p.from,w.endB-p.from))),p.sel){let re=xC(r,le.doc,p.sel);re&&!(Cr&&r.composing&&re.empty&&(w.start!=w.endB||r.input.lastChromeDelete<Date.now()-100)&&(re.head==P||re.head==le.mapping.map(K)-1)||Qr&&re.empty&&re.head==P)&&le.setSelection(re)}L&&le.ensureMarks(L),o&&le.setMeta("composition",o),r.dispatch(le.scrollIntoView())}function xC(r,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:vx(r,e.resolve(t.anchor),e.resolve(t.head))}function j3(r,e){let t=r.firstChild.marks,i=e.firstChild.marks,s=t,o=i,l,d,f;for(let m=0;m<i.length;m++)s=i[m].removeFromSet(s);for(let m=0;m<t.length;m++)o=t[m].removeFromSet(o);if(s.length==1&&o.length==0)d=s[0],l="add",f=m=>m.mark(d.addToSet(m.marks));else if(s.length==0&&o.length==1)d=o[0],l="remove",f=m=>m.mark(d.removeFromSet(m.marks));else return null;let p=[];for(let m=0;m<e.childCount;m++)p.push(f(e.child(m)));if(de.from(p).eq(r))return{mark:d,type:l}}function L3(r,e,t,i,s){if(t-e<=s.pos-i.pos||a0(i,!0,!1)<s.pos)return!1;let o=r.resolve(e);if(!i.parent.isTextblock){let d=o.nodeAfter;return d!=null&&t==e+d.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=r.resolve(a0(o,!0,!0));return!l.parent.isTextblock||l.pos>t||a0(l,!0,!1)<t?!1:i.parent.content.cut(i.parentOffset).eq(l.parent.content)}function a0(r,e,t){let i=r.depth,s=e?r.end():r.pos;for(;i>0&&(e||r.indexAfter(i)==r.node(i).childCount);)i--,s++,e=!1;if(t){let o=r.node(i).maybeChild(r.indexAfter(i));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function z3(r,e,t,i,s){let o=r.findDiffStart(e,t);if(o==null)return null;let{a:l,b:d}=r.findDiffEnd(e,t+r.size,t+e.size);if(s=="end"){let f=Math.max(0,o-Math.min(l,d));i-=l+f-o}if(l<o&&r.size<e.size){let f=i<=o&&i>=l?o-i:0;o-=f,o&&o<e.size&&wC(e.textBetween(o-1,o+1))&&(o+=f?1:-1),d=o+(d-l),l=o}else if(d<o){let f=i<=o&&i>=d?o-i:0;o-=f,o&&o<r.size&&wC(r.textBetween(o-1,o+1))&&(o+=f?1:-1),l=o+(l-d),d=o}return{start:o,endA:l,endB:d}}function wC(r){if(r.length!=2)return!1;let e=r.charCodeAt(0),t=r.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class V3{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new r3,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(CC),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=EC(this),NC(this),this.nodeViews=DC(this),this.docView=nC(this.state.doc,SC(this),i0(this),this.dom,this),this.domObserver=new _3(this,(i,s,o,l)=>U3(this,i,s,o,l)),this.domObserver.start(),i3(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&$0(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(CC),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let i in this._props)t[i]=this._props[i];t.state=this.state;for(let i in e)t[i]=e[i];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var i;let s=this.state,o=!1,l=!1;e.storedMarks&&this.composing&&($T(this),l=!0),this.state=e;let d=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(d||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let x=DC(this);I3(x,this.nodeViews)&&(this.nodeViews=x,o=!0)}(d||t.handleDOMEvents!=this._props.handleDOMEvents)&&$0(this),this.editable=EC(this),NC(this);let f=i0(this),p=SC(this),m=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",v=o||!this.docView.matchesNode(e.doc,p,f);(v||!e.selection.eq(s.selection))&&(l=!0);let b=m=="preserve"&&l&&this.dom.style.overflowAnchor==null&&y5(this);if(l){this.domObserver.stop();let x=v&&(Qr||Cr)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&P3(s.selection,e.selection);if(v){let w=Cr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=v3(this)),(o||!this.docView.update(e.doc,p,f,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=nC(e.doc,p,f,this.dom,this)),w&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&$5(this))?is(this,x):(RT(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((i=this.dragging)===null||i===void 0)&&i.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():b&&b5(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof We){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&YD(this,t.getBoundingClientRect(),e)}else YD(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let i=this.directPlugins[t];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let i=this.state.plugins[t];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let i=this.pluginViews[t];i.update&&i.update(this,e)}}updateDraggedNode(e,t){let i=e.node,s=-1;if(this.state.doc.nodeAt(i.from)==i.node)s=i.from;else{let o=i.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==i.node&&(s=o)}this.dragging=new HT(e.slice,e.move,s<0?void 0:We.create(this.state.doc,s))}someProp(e,t){let i=this._props&&this._props[e],s;if(i!=null&&(s=t?t(i):i))return s;for(let l=0;l<this.directPlugins.length;l++){let d=this.directPlugins[l].props[e];if(d!=null&&(s=t?t(d):d))return s}let o=this.state.plugins;if(o)for(let l=0;l<o.length;l++){let d=o[l].props[e];if(d!=null&&(s=t?t(d):d))return s}}hasFocus(){if(Qr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&x5(this.dom),is(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return D5(this,e)}coordsAtPos(e,t=1){return ST(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,i=-1){let s=this.docView.posFromDOM(e,t,i);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return R5(this,t||this.state,e)}pasteHTML(e,t){return ef(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return ef(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return yx(this,e)}destroy(){this.docView&&(a3(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],i0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,o5())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return o3(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Lr&&this.root.nodeType===11&&f5(this.dom.ownerDocument)==this.dom&&k3(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function SC(r){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(r.editable),r.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(r.state)),t)for(let i in t)i=="class"?e.class+=" "+t[i]:i=="style"?e.style=(e.style?e.style+";":"")+t[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(t[i]))}),e.translate||(e.translate="no"),[Oi.node(0,r.state.doc.content.size,e)]}function NC(r){if(r.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),r.cursorWrapper={dom:e,deco:Oi.widget(r.state.selection.from,e,{raw:!0,marks:r.markCursor})}}else r.cursorWrapper=null}function EC(r){return!r.someProp("editable",e=>e(r.state)===!1)}function P3(r,e){let t=Math.min(r.$anchor.sharedDepth(r.head),e.$anchor.sharedDepth(e.head));return r.$anchor.start(t)!=e.$anchor.start(t)}function DC(r){let e=Object.create(null);function t(i){for(let s in i)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=i[s])}return r.someProp("nodeViews",t),r.someProp("markViews",t),e}function I3(r,e){let t=0,i=0;for(let s in r){if(r[s]!=e[s])return!0;t++}for(let s in e)i++;return t!=i}function CC(r){if(r.spec.state||r.spec.filterTransaction||r.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var eo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},rm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},F3=typeof navigator<"u"&&/Mac/.test(navigator.platform),$3=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var vr=0;vr<10;vr++)eo[48+vr]=eo[96+vr]=String(vr);for(var vr=1;vr<=24;vr++)eo[vr+111]="F"+vr;for(var vr=65;vr<=90;vr++)eo[vr]=String.fromCharCode(vr+32),rm[vr]=String.fromCharCode(vr);for(var s0 in eo)rm.hasOwnProperty(s0)||(rm[s0]=eo[s0]);function B3(r){var e=F3&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||$3&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?rm:eo)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const H3=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function q3(r){let e=r.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let i,s,o,l;for(let d=0;d<e.length-1;d++){let f=e[d];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))H3?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(t="Alt-"+t),s&&(t="Ctrl-"+t),l&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function W3(r){let e=Object.create(null);for(let t in r)e[q3(t)]=r[t];return e}function o0(r,e,t=!0){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t&&e.shiftKey&&(r="Shift-"+r),r}function G3(r){return new Zr({props:{handleKeyDown:KT(r)}})}function KT(r){let e=W3(r);return function(t,i){let s=B3(i),o,l=e[o0(s,i)];if(l&&l(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(i.shiftKey){let d=e[o0(s,i,!1)];if(d&&d(t.state,t.dispatch,t))return!0}if((i.shiftKey||i.altKey||i.metaKey||s.charCodeAt(0)>127)&&(o=eo[i.keyCode])&&o!=s){let d=e[o0(o,i)];if(d&&d(t.state,t.dispatch,t))return!0}}return!1}}const Ex=(r,e)=>r.selection.empty?!1:(e&&e(r.tr.deleteSelection().scrollIntoView()),!0);function YT(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("backward",r):t.parentOffset>0)?null:t}const QT=(r,e,t)=>{let i=YT(r,t);if(!i)return!1;let s=Dx(i);if(!s){let l=i.blockRange(),d=l&&Hu(l);return d==null?!1:(e&&e(r.tr.lift(l,d).scrollIntoView()),!0)}let o=s.nodeBefore;if(sk(r,s,e,-1))return!0;if(i.parent.content.size==0&&(zu(o,"end")||We.isSelectable(o)))for(let l=i.depth;;l--){let d=bm(r.doc,i.before(l),i.after(l),Te.empty);if(d&&d.slice.size<d.to-d.from){if(e){let f=r.tr.step(d);f.setSelection(zu(o,"end")?ct.findFrom(f.doc.resolve(f.mapping.map(s.pos,-1)),-1):We.create(f.doc,s.pos-o.nodeSize)),e(f.scrollIntoView())}return!0}if(l==1||i.node(l-1).childCount>1)break}return o.isAtom&&s.depth==i.depth-1?(e&&e(r.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},J3=(r,e,t)=>{let i=YT(r,t);if(!i)return!1;let s=Dx(i);return s?XT(r,s,e):!1},K3=(r,e,t)=>{let i=ek(r,t);if(!i)return!1;let s=Cx(i);return s?XT(r,s,e):!1};function XT(r,e,t){let i=e.nodeBefore,s=i,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let m=s.lastChild;if(!m)return!1;s=m}let l=e.nodeAfter,d=l,f=e.pos+1;for(;!d.isTextblock;f++){if(d.type.spec.isolating)return!1;let m=d.firstChild;if(!m)return!1;d=m}let p=bm(r.doc,o,f,Te.empty);if(!p||p.from!=o||p instanceof Zn&&p.slice.size>=f-o)return!1;if(t){let m=r.tr.step(p);m.setSelection(it.create(m.doc,o)),t(m.scrollIntoView())}return!0}function zu(r,e,t=!1){for(let i=r;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(t&&i.childCount!=1)return!1}return!1}const ZT=(r,e,t)=>{let{$head:i,empty:s}=r.selection,o=i;if(!s)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("backward",r):i.parentOffset>0)return!1;o=Dx(i)}let l=o&&o.nodeBefore;return!l||!We.isSelectable(l)?!1:(e&&e(r.tr.setSelection(We.create(r.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function Dx(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){if(r.index(e)>0)return r.doc.resolve(r.before(e+1));if(r.node(e).type.spec.isolating)break}return null}function ek(r,e){let{$cursor:t}=r.selection;return!t||(e?!e.endOfTextblock("forward",r):t.parentOffset<t.parent.content.size)?null:t}const tk=(r,e,t)=>{let i=ek(r,t);if(!i)return!1;let s=Cx(i);if(!s)return!1;let o=s.nodeAfter;if(sk(r,s,e,1))return!0;if(i.parent.content.size==0&&(zu(o,"start")||We.isSelectable(o))){let l=bm(r.doc,i.before(),i.after(),Te.empty);if(l&&l.slice.size<l.to-l.from){if(e){let d=r.tr.step(l);d.setSelection(zu(o,"start")?ct.findFrom(d.doc.resolve(d.mapping.map(s.pos)),1):We.create(d.doc,d.mapping.map(s.pos))),e(d.scrollIntoView())}return!0}}return o.isAtom&&s.depth==i.depth-1?(e&&e(r.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},nk=(r,e,t)=>{let{$head:i,empty:s}=r.selection,o=i;if(!s)return!1;if(i.parent.isTextblock){if(t?!t.endOfTextblock("forward",r):i.parentOffset<i.parent.content.size)return!1;o=Cx(i)}let l=o&&o.nodeAfter;return!l||!We.isSelectable(l)?!1:(e&&e(r.tr.setSelection(We.create(r.doc,o.pos)).scrollIntoView()),!0)};function Cx(r){if(!r.parent.type.spec.isolating)for(let e=r.depth-1;e>=0;e--){let t=r.node(e);if(r.index(e)+1<t.childCount)return r.doc.resolve(r.after(e+1));if(t.type.spec.isolating)break}return null}const Y3=(r,e)=>{let t=r.selection,i=t instanceof We,s;if(i){if(t.node.isTextblock||!ro(r.doc,t.from))return!1;s=t.from}else if(s=ym(r.doc,t.from,-1),s==null)return!1;if(e){let o=r.tr.join(s);i&&o.setSelection(We.create(o.doc,s-r.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},Q3=(r,e)=>{let t=r.selection,i;if(t instanceof We){if(t.node.isTextblock||!ro(r.doc,t.to))return!1;i=t.to}else if(i=ym(r.doc,t.to,1),i==null)return!1;return e&&e(r.tr.join(i).scrollIntoView()),!0},X3=(r,e)=>{let{$from:t,$to:i}=r.selection,s=t.blockRange(i),o=s&&Hu(s);return o==null?!1:(e&&e(r.tr.lift(s,o).scrollIntoView()),!0)},rk=(r,e)=>{let{$head:t,$anchor:i}=r.selection;return!t.parent.type.spec.code||!t.sameParent(i)?!1:(e&&e(r.tr.insertText(`
`).scrollIntoView()),!0)};function _x(r){for(let e=0;e<r.edgeCount;e++){let{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const Z3=(r,e)=>{let{$head:t,$anchor:i}=r.selection;if(!t.parent.type.spec.code||!t.sameParent(i))return!1;let s=t.node(-1),o=t.indexAfter(-1),l=_x(s.contentMatchAt(o));if(!l||!s.canReplaceWith(o,o,l))return!1;if(e){let d=t.after(),f=r.tr.replaceWith(d,d,l.createAndFill());f.setSelection(ct.near(f.doc.resolve(d),1)),e(f.scrollIntoView())}return!0},ik=(r,e)=>{let t=r.selection,{$from:i,$to:s}=t;if(t instanceof gi||i.parent.inlineContent||s.parent.inlineContent)return!1;let o=_x(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let l=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,d=r.tr.insert(l,o.createAndFill());d.setSelection(it.create(d.doc,l+1)),e(d.scrollIntoView())}return!0},ak=(r,e)=>{let{$cursor:t}=r.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(rs(r.doc,o))return e&&e(r.tr.split(o).scrollIntoView()),!0}let i=t.blockRange(),s=i&&Hu(i);return s==null?!1:(e&&e(r.tr.lift(i,s).scrollIntoView()),!0)};function eH(r){return(e,t)=>{let{$from:i,$to:s}=e.selection;if(e.selection instanceof We&&e.selection.node.isBlock)return!i.parentOffset||!rs(e.doc,i.pos)?!1:(t&&t(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let o=[],l,d,f=!1,p=!1;for(let x=i.depth;;x--)if(i.node(x).isBlock){f=i.end(x)==i.pos+(i.depth-x),p=i.start(x)==i.pos-(i.depth-x),d=_x(i.node(x-1).contentMatchAt(i.indexAfter(x-1))),o.unshift(f&&d?{type:d}:null),l=x;break}else{if(x==1)return!1;o.unshift(null)}let m=e.tr;(e.selection instanceof it||e.selection instanceof gi)&&m.deleteSelection();let v=m.mapping.map(i.pos),b=rs(m.doc,v,o.length,o);if(b||(o[0]=d?{type:d}:null,b=rs(m.doc,v,o.length,o)),m.split(v,o.length,o),!f&&p&&i.node(l).type!=d){let x=m.mapping.map(i.before(l)),w=m.doc.resolve(x);d&&i.node(l-1).canReplaceWith(w.index(),w.index()+1,d)&&m.setNodeMarkup(m.mapping.map(i.before(l)),d)}return t&&t(m.scrollIntoView()),!0}}const tH=eH(),nH=(r,e)=>{let{$from:t,to:i}=r.selection,s,o=t.sharedDepth(i);return o==0?!1:(s=t.before(o),e&&e(r.tr.setSelection(We.create(r.doc,s))),!0)};function rH(r,e,t){let i=e.nodeBefore,s=e.nodeAfter,o=e.index();return!i||!s||!i.type.compatibleContent(s.type)?!1:!i.content.size&&e.parent.canReplace(o-1,o)?(t&&t(r.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||ro(r.doc,e.pos))?!1:(t&&t(r.tr.join(e.pos).scrollIntoView()),!0)}function sk(r,e,t,i){let s=e.nodeBefore,o=e.nodeAfter,l,d,f=s.type.spec.isolating||o.type.spec.isolating;if(!f&&rH(r,e,t))return!0;let p=!f&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(l=(d=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&d.matchType(l[0]||o.type).validEnd){if(t){let x=e.pos+o.nodeSize,w=de.empty;for(let O=l.length-1;O>=0;O--)w=de.from(l[O].create(null,w));w=de.from(s.copy(w));let C=r.tr.step(new tr(e.pos-1,x,e.pos,x,new Te(w,1,0),l.length,!0)),_=C.doc.resolve(x+2*l.length);_.nodeAfter&&_.nodeAfter.type==s.type&&ro(C.doc,_.pos)&&C.join(_.pos),t(C.scrollIntoView())}return!0}let m=o.type.spec.isolating||i>0&&f?null:ct.findFrom(e,1),v=m&&m.$from.blockRange(m.$to),b=v&&Hu(v);if(b!=null&&b>=e.depth)return t&&t(r.tr.lift(v,b).scrollIntoView()),!0;if(p&&zu(o,"start",!0)&&zu(s,"end")){let x=s,w=[];for(;w.push(x),!x.isTextblock;)x=x.lastChild;let C=o,_=1;for(;!C.isTextblock;C=C.firstChild)_++;if(x.canReplace(x.childCount,x.childCount,C.content)){if(t){let O=de.empty;for(let F=w.length-1;F>=0;F--)O=de.from(w[F].copy(O));let A=r.tr.step(new tr(e.pos-w.length,e.pos+o.nodeSize,e.pos+_,e.pos+o.nodeSize-_,new Te(O,w.length,0),0,!0));t(A.scrollIntoView())}return!0}}return!1}function ok(r){return function(e,t){let i=e.selection,s=r<0?i.$from:i.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(t&&t(e.tr.setSelection(it.create(e.doc,r<0?s.start(o):s.end(o)))),!0):!1}}const iH=ok(-1),aH=ok(1);function sH(r,e=null){return function(t,i){let{$from:s,$to:o}=t.selection,l=s.blockRange(o),d=l&&hx(l,r,e);return d?(i&&i(t.tr.wrap(l,d).scrollIntoView()),!0):!1}}function _C(r,e=null){return function(t,i){let s=!1;for(let o=0;o<t.selection.ranges.length&&!s;o++){let{$from:{pos:l},$to:{pos:d}}=t.selection.ranges[o];t.doc.nodesBetween(l,d,(f,p)=>{if(s)return!1;if(!(!f.isTextblock||f.hasMarkup(r,e)))if(f.type==r)s=!0;else{let m=t.doc.resolve(p),v=m.index();s=m.parent.canReplaceWith(v,v+1,r)}})}if(!s)return!1;if(i){let o=t.tr;for(let l=0;l<t.selection.ranges.length;l++){let{$from:{pos:d},$to:{pos:f}}=t.selection.ranges[l];o.setBlockType(d,f,r,e)}i(o.scrollIntoView())}return!0}}function Tx(...r){return function(e,t,i){for(let s=0;s<r.length;s++)if(r[s](e,t,i))return!0;return!1}}Tx(Ex,QT,ZT);Tx(Ex,tk,nk);Tx(rk,ik,ak,tH);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function oH(r,e=null){return function(t,i){let{$from:s,$to:o}=t.selection,l=s.blockRange(o);if(!l)return!1;let d=i?t.tr:null;return lH(d,l,r,e)?(i&&i(d.scrollIntoView()),!0):!1}}function lH(r,e,t,i=null){let s=!1,o=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=l.resolve(e.start-2);o=new Yp(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new Yp(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let d=hx(o,t,i,e);return d?(r&&uH(r,e,d,s,t),!0):!1}function uH(r,e,t,i,s){let o=de.empty;for(let m=t.length-1;m>=0;m--)o=de.from(t[m].type.create(t[m].attrs,o));r.step(new tr(e.start-(i?2:0),e.end,e.start,e.end,new Te(o,0,0),t.length,!0));let l=0;for(let m=0;m<t.length;m++)t[m].type==s&&(l=m+1);let d=t.length-l,f=e.start+t.length-(i?2:0),p=e.parent;for(let m=e.startIndex,v=e.endIndex,b=!0;m<v;m++,b=!1)!b&&rs(r.doc,f,d)&&(r.split(f,d),f+=2*d),f+=p.child(m).nodeSize;return r}function cH(r){return function(e,t){let{$from:i,$to:s}=e.selection,o=i.blockRange(s,l=>l.childCount>0&&l.firstChild.type==r);return o?t?i.node(o.depth-1).type==r?dH(e,t,r,o):fH(e,t,o):!0:!1}}function dH(r,e,t,i){let s=r.tr,o=i.end,l=i.$to.end(i.depth);o<l&&(s.step(new tr(o-1,l,o,l,new Te(de.from(t.create(null,i.parent.copy())),1,0),1,!0)),i=new Yp(s.doc.resolve(i.$from.pos),s.doc.resolve(l),i.depth));const d=Hu(i);if(d==null)return!1;s.lift(i,d);let f=s.doc.resolve(s.mapping.map(o,-1)-1);return ro(s.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&s.join(f.pos),e(s.scrollIntoView()),!0}function fH(r,e,t){let i=r.tr,s=t.parent;for(let x=t.end,w=t.endIndex-1,C=t.startIndex;w>C;w--)x-=s.child(w).nodeSize,i.delete(x-1,x+1);let o=i.doc.resolve(t.start),l=o.nodeAfter;if(i.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let d=t.startIndex==0,f=t.endIndex==s.childCount,p=o.node(-1),m=o.index(-1);if(!p.canReplace(m+(d?0:1),m+1,l.content.append(f?de.empty:de.from(s))))return!1;let v=o.pos,b=v+l.nodeSize;return i.step(new tr(v-(d?1:0),b+(f?1:0),v+1,b-1,new Te((d?de.empty:de.from(s.copy(de.empty))).append(f?de.empty:de.from(s.copy(de.empty))),d?0:1,f?0:1),d?0:1)),e(i.scrollIntoView()),!0}function hH(r){return function(e,t){let{$from:i,$to:s}=e.selection,o=i.blockRange(s,p=>p.childCount>0&&p.firstChild.type==r);if(!o)return!1;let l=o.startIndex;if(l==0)return!1;let d=o.parent,f=d.child(l-1);if(f.type!=r)return!1;if(t){let p=f.lastChild&&f.lastChild.type==d.type,m=de.from(p?r.create():null),v=new Te(de.from(r.create(null,de.from(d.type.create(null,m)))),p?3:1,0),b=o.start,x=o.end;t(e.tr.step(new tr(b-(p?3:1),x,b,x,v,1,!0)).scrollIntoView())}return!0}}function Em(r){const{state:e,transaction:t}=r;let{selection:i}=t,{doc:s}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return i},get doc(){return s},get tr(){return i=t.selection,s=t.doc,o=t.storedMarks,t}}}class Dm{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:i}=this,{view:s}=t,{tr:o}=i,l=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([d,f])=>[d,(...m)=>{const v=f(...m)(l);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(o),v}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:i,editor:s,state:o}=this,{view:l}=s,d=[],f=!!e,p=e||o.tr,m=()=>(!f&&t&&!p.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(p),d.every(b=>b===!0)),v={...Object.fromEntries(Object.entries(i).map(([b,x])=>[b,(...C)=>{const _=this.buildProps(p,t),O=x(...C)(_);return d.push(O),v}])),run:m};return v}createCan(e){const{rawCommands:t,state:i}=this,s=!1,o=e||i.tr,l=this.buildProps(o,s);return{...Object.fromEntries(Object.entries(t).map(([f,p])=>[f,(...m)=>p(...m)({...l,dispatch:void 0})])),chain:()=>this.createChain(o,s)}}buildProps(e,t=!0){const{rawCommands:i,editor:s,state:o}=this,{view:l}=s,d={tr:e,editor:s,view:l,state:Em({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(i).map(([f,p])=>[f,(...m)=>p(...m)(d)]))}};return d}}class pH{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const i=this.callbacks[e];return i&&i.forEach(s=>s.apply(this,t)),this}off(e,t){const i=this.callbacks[e];return i&&(t?this.callbacks[e]=i.filter(s=>s!==t):delete this.callbacks[e]),this}once(e,t){const i=(...s)=>{this.off(e,i),t.apply(this,s)};return this.on(e,i)}removeAllListeners(){this.callbacks={}}}function Ae(r,e,t){return r.config[e]===void 0&&r.parent?Ae(r.parent,e,t):typeof r.config[e]=="function"?r.config[e].bind({...t,parent:r.parent?Ae(r.parent,e,t):null}):r.config[e]}function Cm(r){const e=r.filter(s=>s.type==="extension"),t=r.filter(s=>s.type==="node"),i=r.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:i}}function lk(r){const e=[],{nodeExtensions:t,markExtensions:i}=Cm(r),s=[...t,...i],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return r.forEach(l=>{const d={name:l.name,options:l.options,storage:l.storage,extensions:s},f=Ae(l,"addGlobalAttributes",d);if(!f)return;f().forEach(m=>{m.types.forEach(v=>{Object.entries(m.attributes).forEach(([b,x])=>{e.push({type:v,name:b,attribute:{...o,...x}})})})})}),s.forEach(l=>{const d={name:l.name,options:l.options,storage:l.storage},f=Ae(l,"addAttributes",d);if(!f)return;const p=f();Object.entries(p).forEach(([m,v])=>{const b={...o,...v};typeof(b==null?void 0:b.default)=="function"&&(b.default=b.default()),b!=null&&b.isRequired&&(b==null?void 0:b.default)===void 0&&delete b.default,e.push({type:l.name,name:m,attribute:b})})}),e}function rr(r,e){if(typeof r=="string"){if(!e.nodes[r])throw Error(`There is no node type named '${r}'. Maybe you forgot to add the extension?`);return e.nodes[r]}return r}function Pr(...r){return r.filter(e=>!!e).reduce((e,t)=>{const i={...e};return Object.entries(t).forEach(([s,o])=>{if(!i[s]){i[s]=o;return}if(s==="class"){const d=o?String(o).split(" "):[],f=i[s]?i[s].split(" "):[],p=d.filter(m=>!f.includes(m));i[s]=[...f,...p].join(" ")}else if(s==="style"){const d=o?o.split(";").map(m=>m.trim()).filter(Boolean):[],f=i[s]?i[s].split(";").map(m=>m.trim()).filter(Boolean):[],p=new Map;f.forEach(m=>{const[v,b]=m.split(":").map(x=>x.trim());p.set(v,b)}),d.forEach(m=>{const[v,b]=m.split(":").map(x=>x.trim());p.set(v,b)}),i[s]=Array.from(p.entries()).map(([m,v])=>`${m}: ${v}`).join("; ")}else i[s]=o}),i},{})}function B0(r,e){return e.filter(t=>t.type===r.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(r.attrs)||{}:{[t.name]:r.attrs[t.name]}).reduce((t,i)=>Pr(t,i),{})}function uk(r){return typeof r=="function"}function pt(r,e=void 0,...t){return uk(r)?e?r.bind(e)(...t):r(...t):r}function mH(r={}){return Object.keys(r).length===0&&r.constructor===Object}function gH(r){return typeof r!="string"?r:r.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(r):r==="true"?!0:r==="false"?!1:r}function TC(r,e){return"style"in r?r:{...r,getAttrs:t=>{const i=r.getAttrs?r.getAttrs(t):r.attrs;if(i===!1)return!1;const s=e.reduce((o,l)=>{const d=l.attribute.parseHTML?l.attribute.parseHTML(t):gH(t.getAttribute(l.name));return d==null?o:{...o,[l.name]:d}},{});return{...i,...s}}}}function kC(r){return Object.fromEntries(Object.entries(r).filter(([e,t])=>e==="attrs"&&mH(t)?!1:t!=null))}function vH(r,e){var t;const i=lk(r),{nodeExtensions:s,markExtensions:o}=Cm(r),l=(t=s.find(p=>Ae(p,"topNode")))===null||t===void 0?void 0:t.name,d=Object.fromEntries(s.map(p=>{const m=i.filter(O=>O.type===p.name),v={name:p.name,options:p.options,storage:p.storage,editor:e},b=r.reduce((O,A)=>{const F=Ae(A,"extendNodeSchema",v);return{...O,...F?F(p):{}}},{}),x=kC({...b,content:pt(Ae(p,"content",v)),marks:pt(Ae(p,"marks",v)),group:pt(Ae(p,"group",v)),inline:pt(Ae(p,"inline",v)),atom:pt(Ae(p,"atom",v)),selectable:pt(Ae(p,"selectable",v)),draggable:pt(Ae(p,"draggable",v)),code:pt(Ae(p,"code",v)),whitespace:pt(Ae(p,"whitespace",v)),linebreakReplacement:pt(Ae(p,"linebreakReplacement",v)),defining:pt(Ae(p,"defining",v)),isolating:pt(Ae(p,"isolating",v)),attrs:Object.fromEntries(m.map(O=>{var A;return[O.name,{default:(A=O==null?void 0:O.attribute)===null||A===void 0?void 0:A.default}]}))}),w=pt(Ae(p,"parseHTML",v));w&&(x.parseDOM=w.map(O=>TC(O,m)));const C=Ae(p,"renderHTML",v);C&&(x.toDOM=O=>C({node:O,HTMLAttributes:B0(O,m)}));const _=Ae(p,"renderText",v);return _&&(x.toText=_),[p.name,x]})),f=Object.fromEntries(o.map(p=>{const m=i.filter(_=>_.type===p.name),v={name:p.name,options:p.options,storage:p.storage,editor:e},b=r.reduce((_,O)=>{const A=Ae(O,"extendMarkSchema",v);return{..._,...A?A(p):{}}},{}),x=kC({...b,inclusive:pt(Ae(p,"inclusive",v)),excludes:pt(Ae(p,"excludes",v)),group:pt(Ae(p,"group",v)),spanning:pt(Ae(p,"spanning",v)),code:pt(Ae(p,"code",v)),attrs:Object.fromEntries(m.map(_=>{var O;return[_.name,{default:(O=_==null?void 0:_.attribute)===null||O===void 0?void 0:O.default}]}))}),w=pt(Ae(p,"parseHTML",v));w&&(x.parseDOM=w.map(_=>TC(_,m)));const C=Ae(p,"renderHTML",v);return C&&(x.toDOM=_=>C({mark:_,HTMLAttributes:B0(_,m)})),[p.name,x]}));return new X_({topNode:l,nodes:d,marks:f})}function l0(r,e){return e.nodes[r]||e.marks[r]||null}function RC(r,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===r.name):e}function kx(r,e){const t=ml.fromSchema(e).serializeFragment(r),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}const yH=(r,e=500)=>{let t="";const i=r.parentOffset;return r.parent.nodesBetween(Math.max(0,i-e),i,(s,o,l,d)=>{var f,p;const m=((p=(f=s.type.spec).toText)===null||p===void 0?void 0:p.call(f,{node:s,pos:o,parent:l,index:d}))||s.textContent||"%leaf%";t+=s.isAtom&&!s.isText?m:m.slice(0,Math.max(0,i-o))}),t};function Rx(r){return Object.prototype.toString.call(r)==="[object RegExp]"}class _m{constructor(e){this.find=e.find,this.handler=e.handler}}const bH=(r,e)=>{if(Rx(e))return e.exec(r);const t=e(r);if(!t)return null;const i=[t.text];return i.index=t.index,i.input=r,i.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(t.replaceWith)),i};function _p(r){var e;const{editor:t,from:i,to:s,text:o,rules:l,plugin:d}=r,{view:f}=t;if(f.composing)return!1;const p=f.state.doc.resolve(i);if(p.parent.type.spec.code||!((e=p.nodeBefore||p.nodeAfter)===null||e===void 0)&&e.marks.find(b=>b.type.spec.code))return!1;let m=!1;const v=yH(p)+o;return l.forEach(b=>{if(m)return;const x=bH(v,b.find);if(!x)return;const w=f.state.tr,C=Em({state:f.state,transaction:w}),_={from:i-(x[0].length-o.length),to:s},{commands:O,chain:A,can:F}=new Dm({editor:t,state:C});b.handler({state:C,range:_,match:x,commands:O,chain:A,can:F})===null||!w.steps.length||(w.setMeta(d,{transform:w,from:i,to:s,text:o}),f.dispatch(w),m=!0)}),m}function xH(r){const{editor:e,rules:t}=r,i=new Zr({state:{init(){return null},apply(s,o,l){const d=s.getMeta(i);if(d)return d;const f=s.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:m}=f;typeof m=="string"?m=m:m=kx(de.from(m),l.schema);const{from:v}=f,b=v+m.length;_p({editor:e,from:v,to:b,text:m,rules:t,plugin:i})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,l,d){return _p({editor:e,from:o,to:l,text:d,rules:t,plugin:i})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&_p({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:i})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:l}=s.state.selection;return l?_p({editor:e,from:l.pos,to:l.pos,text:`
`,rules:t,plugin:i}):!1}},isInputRules:!0});return i}function wH(r){return Object.prototype.toString.call(r).slice(8,-1)}function Tp(r){return wH(r)!=="Object"?!1:r.constructor===Object&&Object.getPrototypeOf(r)===Object.prototype}function Tm(r,e){const t={...r};return Tp(r)&&Tp(e)&&Object.keys(e).forEach(i=>{Tp(e[i])&&Tp(r[i])?t[i]=Tm(r[i],e[i]):t[i]=e[i]}),t}class to{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=pt(Ae(this,"addOptions",{name:this.name}))),this.storage=pt(Ae(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new to(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Tm(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new to(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=pt(Ae(t,"addOptions",{name:t.name})),t.storage=pt(Ae(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:i}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const l=s.marks();if(!!!l.find(p=>(p==null?void 0:p.type.name)===t.name))return!1;const f=l.find(p=>(p==null?void 0:p.type.name)===t.name);return f&&i.removeStoredMark(f),i.insertText(" ",s.pos),e.view.dispatch(i),!0}return!1}}function SH(r){return typeof r=="number"}class NH{constructor(e){this.find=e.find,this.handler=e.handler}}const EH=(r,e,t)=>{if(Rx(e))return[...r.matchAll(e)];const i=e(r,t);return i?i.map(s=>{const o=[s.text];return o.index=s.index,o.input=r,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function DH(r){const{editor:e,state:t,from:i,to:s,rule:o,pasteEvent:l,dropEvent:d}=r,{commands:f,chain:p,can:m}=new Dm({editor:e,state:t}),v=[];return t.doc.nodesBetween(i,s,(x,w)=>{if(!x.isTextblock||x.type.spec.code)return;const C=Math.max(i,w),_=Math.min(s,w+x.content.size),O=x.textBetween(C-w,_-w,void 0,"");EH(O,o.find,l).forEach(F=>{if(F.index===void 0)return;const P=C+F.index+1,K=P+F[0].length,le={from:t.tr.mapping.map(P),to:t.tr.mapping.map(K)},L=o.handler({state:t,range:le,match:F,commands:f,chain:p,can:m,pasteEvent:l,dropEvent:d});v.push(L)})}),v.every(x=>x!==null)}let kp=null;const CH=r=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",r),t};function _H(r){const{editor:e,rules:t}=r;let i=null,s=!1,o=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,d;try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}const f=({state:m,from:v,to:b,rule:x,pasteEvt:w})=>{const C=m.tr,_=Em({state:m,transaction:C});if(!(!DH({editor:e,state:_,from:Math.max(v-1,0),to:b.b-1,rule:x,pasteEvent:w,dropEvent:d})||!C.steps.length)){try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,C}};return t.map(m=>new Zr({view(v){const b=w=>{var C;i=!((C=v.dom.parentElement)===null||C===void 0)&&C.contains(w.target)?v.dom.parentElement:null,i&&(kp=e)},x=()=>{kp&&(kp=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(v,b)=>{if(o=i===v.dom.parentElement,d=b,!o){const x=kp;x&&setTimeout(()=>{const w=x.state.selection;w&&x.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(v,b)=>{var x;const w=(x=b.clipboardData)===null||x===void 0?void 0:x.getData("text/html");return l=b,s=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(v,b,x)=>{const w=v[0],C=w.getMeta("uiEvent")==="paste"&&!s,_=w.getMeta("uiEvent")==="drop"&&!o,O=w.getMeta("applyPasteRules"),A=!!O;if(!C&&!_&&!A)return;if(A){let{text:K}=O;typeof K=="string"?K=K:K=kx(de.from(K),x.schema);const{from:le}=O,L=le+K.length,ne=CH(K);return f({rule:m,state:x,from:le,to:{b:L},pasteEvt:ne})}const F=b.doc.content.findDiffStart(x.doc.content),P=b.doc.content.findDiffEnd(x.doc.content);if(!(!SH(F)||!P||F===P.b))return f({rule:m,state:x,from:F,to:P,pasteEvt:l})}}))}function TH(r){const e=r.filter((t,i)=>r.indexOf(t)!==i);return Array.from(new Set(e))}class _u{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=_u.resolve(e),this.schema=vH(this.extensions,t),this.setupExtensions()}static resolve(e){const t=_u.sort(_u.flatten(e)),i=TH(t.map(s=>s.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const i={name:t.name,options:t.options,storage:t.storage},s=Ae(t,"addExtensions",i);return s?[t,...this.flatten(s())]:t}).flat(10)}static sort(e){return e.sort((i,s)=>{const o=Ae(i,"priority")||100,l=Ae(s,"priority")||100;return o>l?-1:o<l?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const i={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:l0(t.name,this.schema)},s=Ae(t,"addCommands",i);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,t=_u.sort([...this.extensions].reverse()),i=[],s=[],o=t.map(l=>{const d={name:l.name,options:l.options,storage:l.storage,editor:e,type:l0(l.name,this.schema)},f=[],p=Ae(l,"addKeyboardShortcuts",d);let m={};if(l.type==="mark"&&Ae(l,"exitable",d)&&(m.ArrowRight=()=>to.handleExit({editor:e,mark:l})),p){const C=Object.fromEntries(Object.entries(p()).map(([_,O])=>[_,()=>O({editor:e})]));m={...m,...C}}const v=G3(m);f.push(v);const b=Ae(l,"addInputRules",d);RC(l,e.options.enableInputRules)&&b&&i.push(...b());const x=Ae(l,"addPasteRules",d);RC(l,e.options.enablePasteRules)&&x&&s.push(...x());const w=Ae(l,"addProseMirrorPlugins",d);if(w){const C=w();f.push(...C)}return f}).flat();return[xH({editor:e,rules:i}),..._H({editor:e,rules:s}),...o]}get attributes(){return lk(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Cm(this.extensions);return Object.fromEntries(t.filter(i=>!!Ae(i,"addNodeView")).map(i=>{const s=this.attributes.filter(f=>f.type===i.name),o={name:i.name,options:i.options,storage:i.storage,editor:e,type:rr(i.name,this.schema)},l=Ae(i,"addNodeView",o);if(!l)return[];const d=(f,p,m,v,b)=>{const x=B0(f,s);return l()({node:f,view:p,getPos:m,decorations:v,innerDecorations:b,editor:e,extension:i,HTMLAttributes:x})};return[i.name,d]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const i={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:l0(e.name,this.schema)};e.type==="mark"&&(!((t=pt(Ae(e,"keepOnSplit",i)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const s=Ae(e,"onBeforeCreate",i),o=Ae(e,"onCreate",i),l=Ae(e,"onUpdate",i),d=Ae(e,"onSelectionUpdate",i),f=Ae(e,"onTransaction",i),p=Ae(e,"onFocus",i),m=Ae(e,"onBlur",i),v=Ae(e,"onDestroy",i);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),l&&this.editor.on("update",l),d&&this.editor.on("selectionUpdate",d),f&&this.editor.on("transaction",f),p&&this.editor.on("focus",p),m&&this.editor.on("blur",m),v&&this.editor.on("destroy",v)})}}class Ir{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=pt(Ae(this,"addOptions",{name:this.name}))),this.storage=pt(Ae(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ir(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Tm(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Ir({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=pt(Ae(t,"addOptions",{name:t.name})),t.storage=pt(Ae(t,"addStorage",{name:t.name,options:t.options})),t}}function ck(r,e,t){const{from:i,to:s}=e,{blockSeparator:o=`

`,textSerializers:l={}}=t||{};let d="";return r.nodesBetween(i,s,(f,p,m,v)=>{var b;f.isBlock&&p>i&&(d+=o);const x=l==null?void 0:l[f.type.name];if(x)return m&&(d+=x({node:f,pos:p,parent:m,index:v,range:e})),!1;f.isText&&(d+=(b=f==null?void 0:f.text)===null||b===void 0?void 0:b.slice(Math.max(i,p)-p,s-p))}),d}function dk(r){return Object.fromEntries(Object.entries(r.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const kH=Ir.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Zr({key:new Ta("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:r}=this,{state:e,schema:t}=r,{doc:i,selection:s}=e,{ranges:o}=s,l=Math.min(...o.map(m=>m.$from.pos)),d=Math.max(...o.map(m=>m.$to.pos)),f=dk(t);return ck(i,{from:l,to:d},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),RH=()=>({editor:r,view:e})=>(requestAnimationFrame(()=>{var t;r.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),OH=(r=!1)=>({commands:e})=>e.setContent("",r),MH=()=>({state:r,tr:e,dispatch:t})=>{const{selection:i}=e,{ranges:s}=i;return t&&s.forEach(({$from:o,$to:l})=>{r.doc.nodesBetween(o.pos,l.pos,(d,f)=>{if(d.type.isText)return;const{doc:p,mapping:m}=e,v=p.resolve(m.map(f)),b=p.resolve(m.map(f+d.nodeSize)),x=v.blockRange(b);if(!x)return;const w=Hu(x);if(d.type.isTextblock){const{defaultType:C}=v.parent.contentMatchAt(v.index());e.setNodeMarkup(x.start,C)}(w||w===0)&&e.lift(x,w)})}),!0},AH=r=>e=>r(e),UH=()=>({state:r,dispatch:e})=>ik(r,e),jH=(r,e)=>({editor:t,tr:i})=>{const{state:s}=t,o=s.doc.slice(r.from,r.to);i.deleteRange(r.from,r.to);const l=i.mapping.map(e);return i.insert(l,o.content),i.setSelection(new it(i.doc.resolve(l-1))),!0},LH=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,i=t.$anchor.node();if(i.content.size>0)return!1;const s=r.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i.type){if(e){const d=s.before(o),f=s.after(o);r.delete(d,f).scrollIntoView()}return!0}return!1},zH=r=>({tr:e,state:t,dispatch:i})=>{const s=rr(r,t.schema),o=e.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===s){if(i){const f=o.before(l),p=o.after(l);e.delete(f,p).scrollIntoView()}return!0}return!1},VH=r=>({tr:e,dispatch:t})=>{const{from:i,to:s}=r;return t&&e.delete(i,s),!0},PH=()=>({state:r,dispatch:e})=>Ex(r,e),IH=()=>({commands:r})=>r.keyboardShortcut("Enter"),FH=()=>({state:r,dispatch:e})=>Z3(r,e);function im(r,e,t={strict:!0}){const i=Object.keys(e);return i.length?i.every(s=>t.strict?e[s]===r[s]:Rx(e[s])?e[s].test(r[s]):e[s]===r[s]):!0}function fk(r,e,t={}){return r.find(i=>i.type===e&&im(Object.fromEntries(Object.keys(t).map(s=>[s,i.attrs[s]])),t))}function OC(r,e,t={}){return!!fk(r,e,t)}function Ox(r,e,t){var i;if(!r||!e)return;let s=r.parent.childAfter(r.parentOffset);if((!s.node||!s.node.marks.some(m=>m.type===e))&&(s=r.parent.childBefore(r.parentOffset)),!s.node||!s.node.marks.some(m=>m.type===e)||(t=t||((i=s.node.marks[0])===null||i===void 0?void 0:i.attrs),!fk([...s.node.marks],e,t)))return;let l=s.index,d=r.start()+s.offset,f=l+1,p=d+s.node.nodeSize;for(;l>0&&OC([...r.parent.child(l-1).marks],e,t);)l-=1,d-=r.parent.child(l).nodeSize;for(;f<r.parent.childCount&&OC([...r.parent.child(f).marks],e,t);)p+=r.parent.child(f).nodeSize,f+=1;return{from:d,to:p}}function ao(r,e){if(typeof r=="string"){if(!e.marks[r])throw Error(`There is no mark type named '${r}'. Maybe you forgot to add the extension?`);return e.marks[r]}return r}const $H=(r,e={})=>({tr:t,state:i,dispatch:s})=>{const o=ao(r,i.schema),{doc:l,selection:d}=t,{$from:f,from:p,to:m}=d;if(s){const v=Ox(f,o,e);if(v&&v.from<=p&&v.to>=m){const b=it.create(l,v.from,v.to);t.setSelection(b)}}return!0},BH=r=>e=>{const t=typeof r=="function"?r(e):r;for(let i=0;i<t.length;i+=1)if(t[i](e))return!0;return!1};function hk(r){return r instanceof it}function nl(r=0,e=0,t=0){return Math.min(Math.max(r,e),t)}function pk(r,e=null){if(!e)return null;const t=ct.atStart(r),i=ct.atEnd(r);if(e==="start"||e===!0)return t;if(e==="end")return i;const s=t.from,o=i.to;return e==="all"?it.create(r,nl(0,s,o),nl(r.content.size,s,o)):it.create(r,nl(e,s,o),nl(e,s,o))}function HH(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Mx(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const qH=(r=null,e={})=>({editor:t,view:i,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const l=()=>{(Mx()||HH())&&i.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(i.hasFocus()&&r===null||r===!1)return!0;if(o&&r===null&&!hk(t.state.selection))return l(),!0;const d=pk(s.doc,r)||t.state.selection,f=t.state.selection.eq(d);return o&&(f||s.setSelection(d),f&&s.storedMarks&&s.setStoredMarks(s.storedMarks),l()),!0},WH=(r,e)=>t=>r.every((i,s)=>e(i,{...t,index:s})),GH=(r,e)=>({tr:t,commands:i})=>i.insertContentAt({from:t.selection.from,to:t.selection.to},r,e),mk=r=>{const e=r.childNodes;for(let t=e.length-1;t>=0;t-=1){const i=e[t];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?r.removeChild(i):i.nodeType===1&&mk(i)}return r};function Rp(r){const e=`<body>${r}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return mk(t)}function am(r,e,t){if(r instanceof Gs||r instanceof de)return r;t={slice:!0,parseOptions:{},...t};const i=typeof r=="object"&&r!==null,s=typeof r=="string";if(i)try{if(Array.isArray(r)&&r.length>0)return de.fromArray(r.map(d=>e.nodeFromJSON(d)));const l=e.nodeFromJSON(r);return t.errorOnInvalidContent&&l.check(),l}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",r,"Error:",o),am("",e,t)}if(s){if(t.errorOnInvalidContent){let l=!1,d="";const f=new X_({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(l=!0,d=typeof p=="string"?p:p.outerHTML,null)}]}})});if(t.slice?Js.fromSchema(f).parseSlice(Rp(r),t.parseOptions):Js.fromSchema(f).parse(Rp(r),t.parseOptions),t.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${d}`)})}const o=Js.fromSchema(e);return t.slice?o.parseSlice(Rp(r),t.parseOptions).content:o.parse(Rp(r),t.parseOptions)}return am("",e,t)}function JH(r,e,t){const i=r.steps.length-1;if(i<e)return;const s=r.steps[i];if(!(s instanceof Zn||s instanceof tr))return;const o=r.mapping.maps[i];let l=0;o.forEach((d,f,p,m)=>{l===0&&(l=m)}),r.setSelection(ct.near(r.doc.resolve(l),t))}const KH=r=>!("type"in r),YH=(r,e,t)=>({tr:i,dispatch:s,editor:o})=>{var l;if(s){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let d;try{d=am(e,o.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(l=t.errorOnInvalidContent)!==null&&l!==void 0?l:o.options.enableContentCheck})}catch(w){return o.emit("contentError",{editor:o,error:w,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:f,to:p}=typeof r=="number"?{from:r,to:r}:{from:r.from,to:r.to},m=!0,v=!0;if((KH(d)?d:[d]).forEach(w=>{w.check(),m=m?w.isText&&w.marks.length===0:!1,v=v?w.isBlock:!1}),f===p&&v){const{parent:w}=i.doc.resolve(f);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(f-=1,p+=1)}let x;if(m){if(Array.isArray(e))x=e.map(w=>w.text||"").join("");else if(e instanceof de){let w="";e.forEach(C=>{C.text&&(w+=C.text)}),x=w}else typeof e=="object"&&e&&e.text?x=e.text:x=e;i.insertText(x,f,p)}else x=d,i.replaceWith(f,p,x);t.updateSelection&&JH(i,i.steps.length-1,-1),t.applyInputRules&&i.setMeta("applyInputRules",{from:f,text:x}),t.applyPasteRules&&i.setMeta("applyPasteRules",{from:f,text:x})}return!0},QH=()=>({state:r,dispatch:e})=>Y3(r,e),XH=()=>({state:r,dispatch:e})=>Q3(r,e),ZH=()=>({state:r,dispatch:e})=>QT(r,e),e4=()=>({state:r,dispatch:e})=>tk(r,e),t4=()=>({state:r,dispatch:e,tr:t})=>{try{const i=ym(r.doc,r.selection.$from.pos,-1);return i==null?!1:(t.join(i,2),e&&e(t),!0)}catch{return!1}},n4=()=>({state:r,dispatch:e,tr:t})=>{try{const i=ym(r.doc,r.selection.$from.pos,1);return i==null?!1:(t.join(i,2),e&&e(t),!0)}catch{return!1}},r4=()=>({state:r,dispatch:e})=>J3(r,e),i4=()=>({state:r,dispatch:e})=>K3(r,e);function gk(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function a4(r){const e=r.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let i,s,o,l;for(let d=0;d<e.length-1;d+=1){const f=e[d];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))Mx()||gk()?l=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return i&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),l&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}const s4=r=>({editor:e,view:t,tr:i,dispatch:s})=>{const o=a4(r).split(/-(?!$)/),l=o.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),d=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{t.someProp("handleKeyDown",p=>p(t,d))});return f==null||f.steps.forEach(p=>{const m=p.map(i.mapping);m&&s&&i.maybeStep(m)}),!0};function nf(r,e,t={}){const{from:i,to:s,empty:o}=r.selection,l=e?rr(e,r.schema):null,d=[];r.doc.nodesBetween(i,s,(v,b)=>{if(v.isText)return;const x=Math.max(i,b),w=Math.min(s,b+v.nodeSize);d.push({node:v,from:x,to:w})});const f=s-i,p=d.filter(v=>l?l.name===v.node.type.name:!0).filter(v=>im(v.node.attrs,t,{strict:!1}));return o?!!p.length:p.reduce((v,b)=>v+b.to-b.from,0)>=f}const o4=(r,e={})=>({state:t,dispatch:i})=>{const s=rr(r,t.schema);return nf(t,s,e)?X3(t,i):!1},l4=()=>({state:r,dispatch:e})=>ak(r,e),u4=r=>({state:e,dispatch:t})=>{const i=rr(r,e.schema);return cH(i)(e,t)},c4=()=>({state:r,dispatch:e})=>rk(r,e);function km(r,e){return e.nodes[r]?"node":e.marks[r]?"mark":null}function MC(r,e){const t=typeof e=="string"?[e]:e;return Object.keys(r).reduce((i,s)=>(t.includes(s)||(i[s]=r[s]),i),{})}const d4=(r,e)=>({tr:t,state:i,dispatch:s})=>{let o=null,l=null;const d=km(typeof r=="string"?r:r.name,i.schema);return d?(d==="node"&&(o=rr(r,i.schema)),d==="mark"&&(l=ao(r,i.schema)),s&&t.selection.ranges.forEach(f=>{i.doc.nodesBetween(f.$from.pos,f.$to.pos,(p,m)=>{o&&o===p.type&&t.setNodeMarkup(m,void 0,MC(p.attrs,e)),l&&p.marks.length&&p.marks.forEach(v=>{l===v.type&&t.addMark(m,m+p.nodeSize,l.create(MC(v.attrs,e)))})})}),!0):!1},f4=()=>({tr:r,dispatch:e})=>(e&&r.scrollIntoView(),!0),h4=()=>({tr:r,dispatch:e})=>{if(e){const t=new gi(r.doc);r.setSelection(t)}return!0},p4=()=>({state:r,dispatch:e})=>ZT(r,e),m4=()=>({state:r,dispatch:e})=>nk(r,e),g4=()=>({state:r,dispatch:e})=>nH(r,e),v4=()=>({state:r,dispatch:e})=>aH(r,e),y4=()=>({state:r,dispatch:e})=>iH(r,e);function H0(r,e,t={},i={}){return am(r,e,{slice:!1,parseOptions:t,errorOnInvalidContent:i.errorOnInvalidContent})}const b4=(r,e=!1,t={},i={})=>({editor:s,tr:o,dispatch:l,commands:d})=>{var f,p;const{doc:m}=o;if(t.preserveWhitespace!=="full"){const v=H0(r,s.schema,t,{errorOnInvalidContent:(f=i.errorOnInvalidContent)!==null&&f!==void 0?f:s.options.enableContentCheck});return l&&o.replaceWith(0,m.content.size,v).setMeta("preventUpdate",!e),!0}return l&&o.setMeta("preventUpdate",!e),d.insertContentAt({from:0,to:m.content.size},r,{parseOptions:t,errorOnInvalidContent:(p=i.errorOnInvalidContent)!==null&&p!==void 0?p:s.options.enableContentCheck})};function vk(r,e){const t=ao(e,r.schema),{from:i,to:s,empty:o}=r.selection,l=[];o?(r.storedMarks&&l.push(...r.storedMarks),l.push(...r.selection.$head.marks())):r.doc.nodesBetween(i,s,f=>{l.push(...f.marks)});const d=l.find(f=>f.type.name===t.name);return d?{...d.attrs}:{}}function x4(r){for(let e=0;e<r.edgeCount;e+=1){const{type:t}=r.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function w4(r,e){for(let t=r.depth;t>0;t-=1){const i=r.node(t);if(e(i))return{pos:t>0?r.before(t):0,start:r.start(t),depth:t,node:i}}}function Ax(r){return e=>w4(e.$from,r)}function S4(r,e){const t={from:0,to:r.content.size};return ck(r,t,e)}function N4(r,e){const t=rr(e,r.schema),{from:i,to:s}=r.selection,o=[];r.doc.nodesBetween(i,s,d=>{o.push(d)});const l=o.reverse().find(d=>d.type.name===t.name);return l?{...l.attrs}:{}}function E4(r,e){const t=km(typeof e=="string"?e:e.name,r.schema);return t==="node"?N4(r,e):t==="mark"?vk(r,e):{}}function yk(r,e,t){const i=[];return r===e?t.resolve(r).marks().forEach(s=>{const o=t.resolve(r),l=Ox(o,s.type);l&&i.push({mark:s,...l})}):t.nodesBetween(r,e,(s,o)=>{!s||(s==null?void 0:s.nodeSize)===void 0||i.push(...s.marks.map(l=>({from:o,to:o+s.nodeSize,mark:l})))}),i}function Vp(r,e,t){return Object.fromEntries(Object.entries(t).filter(([i])=>{const s=r.find(o=>o.type===e&&o.name===i);return s?s.attribute.keepOnSplit:!1}))}function q0(r,e,t={}){const{empty:i,ranges:s}=r.selection,o=e?ao(e,r.schema):null;if(i)return!!(r.storedMarks||r.selection.$from.marks()).filter(v=>o?o.name===v.type.name:!0).find(v=>im(v.attrs,t,{strict:!1}));let l=0;const d=[];if(s.forEach(({$from:v,$to:b})=>{const x=v.pos,w=b.pos;r.doc.nodesBetween(x,w,(C,_)=>{if(!C.isText&&!C.marks.length)return;const O=Math.max(x,_),A=Math.min(w,_+C.nodeSize),F=A-O;l+=F,d.push(...C.marks.map(P=>({mark:P,from:O,to:A})))})}),l===0)return!1;const f=d.filter(v=>o?o.name===v.mark.type.name:!0).filter(v=>im(v.mark.attrs,t,{strict:!1})).reduce((v,b)=>v+b.to-b.from,0),p=d.filter(v=>o?v.mark.type!==o&&v.mark.type.excludes(o):!0).reduce((v,b)=>v+b.to-b.from,0);return(f>0?f+p:f)>=l}function D4(r,e,t={}){if(!e)return nf(r,null,t)||q0(r,null,t);const i=km(e,r.schema);return i==="node"?nf(r,e,t):i==="mark"?q0(r,e,t):!1}function AC(r,e){const{nodeExtensions:t}=Cm(e),i=t.find(l=>l.name===r);if(!i)return!1;const s={name:i.name,options:i.options,storage:i.storage},o=pt(Ae(i,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function Ux(r,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var i;if(t){if(r.type.name==="hardBreak")return!0;if(r.isText)return/^\s*$/m.test((i=r.text)!==null&&i!==void 0?i:"")}if(r.isText)return!r.text;if(r.isAtom||r.isLeaf)return!1;if(r.content.childCount===0)return!0;if(e){let s=!0;return r.content.forEach(o=>{s!==!1&&(Ux(o,{ignoreWhitespace:t,checkChildren:e})||(s=!1))}),s}return!1}function C4(r){return r instanceof We}function _4(r,e,t){var i;const{selection:s}=e;let o=null;if(hk(s)&&(o=s.$cursor),o){const d=(i=r.storedMarks)!==null&&i!==void 0?i:o.marks();return!!t.isInSet(d)||!d.some(f=>f.type.excludes(t))}const{ranges:l}=s;return l.some(({$from:d,$to:f})=>{let p=d.depth===0?r.doc.inlineContent&&r.doc.type.allowsMarkType(t):!1;return r.doc.nodesBetween(d.pos,f.pos,(m,v,b)=>{if(p)return!1;if(m.isInline){const x=!b||b.type.allowsMarkType(t),w=!!t.isInSet(m.marks)||!m.marks.some(C=>C.type.excludes(t));p=x&&w}return!p}),p})}const T4=(r,e={})=>({tr:t,state:i,dispatch:s})=>{const{selection:o}=t,{empty:l,ranges:d}=o,f=ao(r,i.schema);if(s)if(l){const p=vk(i,f);t.addStoredMark(f.create({...p,...e}))}else d.forEach(p=>{const m=p.$from.pos,v=p.$to.pos;i.doc.nodesBetween(m,v,(b,x)=>{const w=Math.max(x,m),C=Math.min(x+b.nodeSize,v);b.marks.find(O=>O.type===f)?b.marks.forEach(O=>{f===O.type&&t.addMark(w,C,f.create({...O.attrs,...e}))}):t.addMark(w,C,f.create(e))})});return _4(i,t,f)},k4=(r,e)=>({tr:t})=>(t.setMeta(r,e),!0),R4=(r,e={})=>({state:t,dispatch:i,chain:s})=>{const o=rr(r,t.schema);let l;return t.selection.$anchor.sameParent(t.selection.$head)&&(l=t.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:d})=>_C(o,{...l,...e})(t)?!0:d.clearNodes()).command(({state:d})=>_C(o,{...l,...e})(d,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},O4=r=>({tr:e,dispatch:t})=>{if(t){const{doc:i}=e,s=nl(r,0,i.content.size),o=We.create(i,s);e.setSelection(o)}return!0},M4=r=>({tr:e,dispatch:t})=>{if(t){const{doc:i}=e,{from:s,to:o}=typeof r=="number"?{from:r,to:r}:r,l=it.atStart(i).from,d=it.atEnd(i).to,f=nl(s,l,d),p=nl(o,l,d),m=it.create(i,f,p);e.setSelection(m)}return!0},A4=r=>({state:e,dispatch:t})=>{const i=rr(r,e.schema);return hH(i)(e,t)};function UC(r,e){const t=r.storedMarks||r.selection.$to.parentOffset&&r.selection.$from.marks();if(t){const i=t.filter(s=>e==null?void 0:e.includes(s.type.name));r.tr.ensureMarks(i)}}const U4=({keepMarks:r=!0}={})=>({tr:e,state:t,dispatch:i,editor:s})=>{const{selection:o,doc:l}=e,{$from:d,$to:f}=o,p=s.extensionManager.attributes,m=Vp(p,d.node().type.name,d.node().attrs);if(o instanceof We&&o.node.isBlock)return!d.parentOffset||!rs(l,d.pos)?!1:(i&&(r&&UC(t,s.extensionManager.splittableMarks),e.split(d.pos).scrollIntoView()),!0);if(!d.parent.isBlock)return!1;const v=f.parentOffset===f.parent.content.size,b=d.depth===0?void 0:x4(d.node(-1).contentMatchAt(d.indexAfter(-1)));let x=v&&b?[{type:b,attrs:m}]:void 0,w=rs(e.doc,e.mapping.map(d.pos),1,x);if(!x&&!w&&rs(e.doc,e.mapping.map(d.pos),1,b?[{type:b}]:void 0)&&(w=!0,x=b?[{type:b,attrs:m}]:void 0),i){if(w&&(o instanceof it&&e.deleteSelection(),e.split(e.mapping.map(d.pos),1,x),b&&!v&&!d.parentOffset&&d.parent.type!==b)){const C=e.mapping.map(d.before()),_=e.doc.resolve(C);d.node(-1).canReplaceWith(_.index(),_.index()+1,b)&&e.setNodeMarkup(e.mapping.map(d.before()),b)}r&&UC(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return w},j4=(r,e={})=>({tr:t,state:i,dispatch:s,editor:o})=>{var l;const d=rr(r,i.schema),{$from:f,$to:p}=i.selection,m=i.selection.node;if(m&&m.isBlock||f.depth<2||!f.sameParent(p))return!1;const v=f.node(-1);if(v.type!==d)return!1;const b=o.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==d||f.index(-2)!==f.node(-2).childCount-1)return!1;if(s){let O=de.empty;const A=f.index(-1)?1:f.index(-2)?2:3;for(let ne=f.depth-A;ne>=f.depth-3;ne-=1)O=de.from(f.node(ne).copy(O));const F=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,P={...Vp(b,f.node().type.name,f.node().attrs),...e},K=((l=d.contentMatch.defaultType)===null||l===void 0?void 0:l.createAndFill(P))||void 0;O=O.append(de.from(d.createAndFill(null,K)||void 0));const le=f.before(f.depth-(A-1));t.replace(le,f.after(-F),new Te(O,4-A,0));let L=-1;t.doc.nodesBetween(le,t.doc.content.size,(ne,re)=>{if(L>-1)return!1;ne.isTextblock&&ne.content.size===0&&(L=re+1)}),L>-1&&t.setSelection(it.near(t.doc.resolve(L))),t.scrollIntoView()}return!0}const x=p.pos===f.end()?v.contentMatchAt(0).defaultType:null,w={...Vp(b,v.type.name,v.attrs),...e},C={...Vp(b,f.node().type.name,f.node().attrs),...e};t.delete(f.pos,p.pos);const _=x?[{type:d,attrs:w},{type:x,attrs:C}]:[{type:d,attrs:w}];if(!rs(t.doc,f.pos,2))return!1;if(s){const{selection:O,storedMarks:A}=i,{splittableMarks:F}=o.extensionManager,P=A||O.$to.parentOffset&&O.$from.marks();if(t.split(f.pos,2,_).scrollIntoView(),!P||!s)return!0;const K=P.filter(le=>F.includes(le.type.name));t.ensureMarks(K)}return!0},u0=(r,e)=>{const t=Ax(l=>l.type===e)(r.selection);if(!t)return!0;const i=r.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(i===void 0)return!0;const s=r.doc.nodeAt(i);return t.node.type===(s==null?void 0:s.type)&&ro(r.doc,t.pos)&&r.join(t.pos),!0},c0=(r,e)=>{const t=Ax(l=>l.type===e)(r.selection);if(!t)return!0;const i=r.doc.resolve(t.start).after(t.depth);if(i===void 0)return!0;const s=r.doc.nodeAt(i);return t.node.type===(s==null?void 0:s.type)&&ro(r.doc,i)&&r.join(i),!0},L4=(r,e,t,i={})=>({editor:s,tr:o,state:l,dispatch:d,chain:f,commands:p,can:m})=>{const{extensions:v,splittableMarks:b}=s.extensionManager,x=rr(r,l.schema),w=rr(e,l.schema),{selection:C,storedMarks:_}=l,{$from:O,$to:A}=C,F=O.blockRange(A),P=_||C.$to.parentOffset&&C.$from.marks();if(!F)return!1;const K=Ax(le=>AC(le.type.name,v))(C);if(F.depth>=1&&K&&F.depth-K.depth<=1){if(K.node.type===x)return p.liftListItem(w);if(AC(K.node.type.name,v)&&x.validContent(K.node.content)&&d)return f().command(()=>(o.setNodeMarkup(K.pos,x),!0)).command(()=>u0(o,x)).command(()=>c0(o,x)).run()}return!t||!P||!d?f().command(()=>m().wrapInList(x,i)?!0:p.clearNodes()).wrapInList(x,i).command(()=>u0(o,x)).command(()=>c0(o,x)).run():f().command(()=>{const le=m().wrapInList(x,i),L=P.filter(ne=>b.includes(ne.type.name));return o.ensureMarks(L),le?!0:p.clearNodes()}).wrapInList(x,i).command(()=>u0(o,x)).command(()=>c0(o,x)).run()},z4=(r,e={},t={})=>({state:i,commands:s})=>{const{extendEmptyMarkRange:o=!1}=t,l=ao(r,i.schema);return q0(i,l,e)?s.unsetMark(l,{extendEmptyMarkRange:o}):s.setMark(l,e)},V4=(r,e,t={})=>({state:i,commands:s})=>{const o=rr(r,i.schema),l=rr(e,i.schema),d=nf(i,o,t);let f;return i.selection.$anchor.sameParent(i.selection.$head)&&(f=i.selection.$anchor.parent.attrs),d?s.setNode(l,f):s.setNode(o,{...f,...t})},P4=(r,e={})=>({state:t,commands:i})=>{const s=rr(r,t.schema);return nf(t,s,e)?i.lift(s):i.wrapIn(s,e)},I4=()=>({state:r,dispatch:e})=>{const t=r.plugins;for(let i=0;i<t.length;i+=1){const s=t[i];let o;if(s.spec.isInputRules&&(o=s.getState(r))){if(e){const l=r.tr,d=o.transform;for(let f=d.steps.length-1;f>=0;f-=1)l.step(d.steps[f].invert(d.docs[f]));if(o.text){const f=l.doc.resolve(o.from).marks();l.replaceWith(o.from,o.to,r.schema.text(o.text,f))}else l.delete(o.from,o.to)}return!0}}return!1},F4=()=>({tr:r,dispatch:e})=>{const{selection:t}=r,{empty:i,ranges:s}=t;return i||e&&s.forEach(o=>{r.removeMark(o.$from.pos,o.$to.pos)}),!0},$4=(r,e={})=>({tr:t,state:i,dispatch:s})=>{var o;const{extendEmptyMarkRange:l=!1}=e,{selection:d}=t,f=ao(r,i.schema),{$from:p,empty:m,ranges:v}=d;if(!s)return!0;if(m&&l){let{from:b,to:x}=d;const w=(o=p.marks().find(_=>_.type===f))===null||o===void 0?void 0:o.attrs,C=Ox(p,f,w);C&&(b=C.from,x=C.to),t.removeMark(b,x,f)}else v.forEach(b=>{t.removeMark(b.$from.pos,b.$to.pos,f)});return t.removeStoredMark(f),!0},B4=(r,e={})=>({tr:t,state:i,dispatch:s})=>{let o=null,l=null;const d=km(typeof r=="string"?r:r.name,i.schema);return d?(d==="node"&&(o=rr(r,i.schema)),d==="mark"&&(l=ao(r,i.schema)),s&&t.selection.ranges.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;let v,b,x,w;t.selection.empty?i.doc.nodesBetween(p,m,(C,_)=>{o&&o===C.type&&(x=Math.max(_,p),w=Math.min(_+C.nodeSize,m),v=_,b=C)}):i.doc.nodesBetween(p,m,(C,_)=>{_<p&&o&&o===C.type&&(x=Math.max(_,p),w=Math.min(_+C.nodeSize,m),v=_,b=C),_>=p&&_<=m&&(o&&o===C.type&&t.setNodeMarkup(_,void 0,{...C.attrs,...e}),l&&C.marks.length&&C.marks.forEach(O=>{if(l===O.type){const A=Math.max(_,p),F=Math.min(_+C.nodeSize,m);t.addMark(A,F,l.create({...O.attrs,...e}))}}))}),b&&(v!==void 0&&t.setNodeMarkup(v,void 0,{...b.attrs,...e}),l&&b.marks.length&&b.marks.forEach(C=>{l===C.type&&t.addMark(x,w,l.create({...C.attrs,...e}))}))}),!0):!1},H4=(r,e={})=>({state:t,dispatch:i})=>{const s=rr(r,t.schema);return sH(s,e)(t,i)},q4=(r,e={})=>({state:t,dispatch:i})=>{const s=rr(r,t.schema);return oH(s,e)(t,i)};var W4=Object.freeze({__proto__:null,blur:RH,clearContent:OH,clearNodes:MH,command:AH,createParagraphNear:UH,cut:jH,deleteCurrentNode:LH,deleteNode:zH,deleteRange:VH,deleteSelection:PH,enter:IH,exitCode:FH,extendMarkRange:$H,first:BH,focus:qH,forEach:WH,insertContent:GH,insertContentAt:YH,joinBackward:ZH,joinDown:XH,joinForward:e4,joinItemBackward:t4,joinItemForward:n4,joinTextblockBackward:r4,joinTextblockForward:i4,joinUp:QH,keyboardShortcut:s4,lift:o4,liftEmptyBlock:l4,liftListItem:u4,newlineInCode:c4,resetAttributes:d4,scrollIntoView:f4,selectAll:h4,selectNodeBackward:p4,selectNodeForward:m4,selectParentNode:g4,selectTextblockEnd:v4,selectTextblockStart:y4,setContent:b4,setMark:T4,setMeta:k4,setNode:R4,setNodeSelection:O4,setTextSelection:M4,sinkListItem:A4,splitBlock:U4,splitListItem:j4,toggleList:L4,toggleMark:z4,toggleNode:V4,toggleWrap:P4,undoInputRule:I4,unsetAllMarks:F4,unsetMark:$4,updateAttributes:B4,wrapIn:H4,wrapInList:q4});const G4=Ir.create({name:"commands",addCommands(){return{...W4}}}),J4=Ir.create({name:"drop",addProseMirrorPlugins(){return[new Zr({key:new Ta("tiptapDrop"),props:{handleDrop:(r,e,t,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:i})}}})]}}),K4=Ir.create({name:"editable",addProseMirrorPlugins(){return[new Zr({key:new Ta("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Y4=Ir.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:r}=this;return[new Zr({key:new Ta("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{r.isFocused=!0;const i=r.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,t)=>{r.isFocused=!1;const i=r.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),Q4=Ir.create({name:"keymap",addKeyboardShortcuts(){const r=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:d})=>{const{selection:f,doc:p}=d,{empty:m,$anchor:v}=f,{pos:b,parent:x}=v,w=v.parent.isTextblock&&b>0?d.doc.resolve(b-1):v,C=w.parent.type.spec.isolating,_=v.pos-v.parentOffset,O=C&&w.parent.childCount===1?_===v.pos:ct.atStart(p).from===b;return!m||!x.type.isTextblock||x.textContent.length||!O||O&&v.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:r,"Mod-Backspace":r,"Shift-Backspace":r,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...i},o={...i,"Ctrl-h":r,"Alt-Backspace":r,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Mx()||gk()?o:s},addProseMirrorPlugins(){return[new Zr({key:new Ta("clearDocument"),appendTransaction:(r,e,t)=>{if(r.some(C=>C.getMeta("composition")))return;const i=r.some(C=>C.docChanged)&&!e.doc.eq(t.doc),s=r.some(C=>C.getMeta("preventClearDocument"));if(!i||s)return;const{empty:o,from:l,to:d}=e.selection,f=ct.atStart(e.doc).from,p=ct.atEnd(e.doc).to;if(o||!(l===f&&d===p)||!Ux(t.doc))return;const b=t.tr,x=Em({state:t,transaction:b}),{commands:w}=new Dm({editor:this.editor,state:x});if(w.clearNodes(),!!b.steps.length)return b}})]}}),X4=Ir.create({name:"paste",addProseMirrorPlugins(){return[new Zr({key:new Ta("tiptapPaste"),props:{handlePaste:(r,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),Z4=Ir.create({name:"tabindex",addProseMirrorPlugins(){return[new Zr({key:new Ta("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Xo{get name(){return this.node.type.name}constructor(e,t,i=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=t,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:t,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Xo(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Xo(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Xo(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,i)=>{const s=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,l=this.pos+i+(o?0:1),d=this.resolvedPos.doc.resolve(l);if(!s&&d.depth<=this.depth)return;const f=new Xo(d,this.editor,s,s?t:null);s&&(f.actualDepth=this.depth+1),e.push(new Xo(d,this.editor,s,s?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let i=null,s=this.parent;for(;s&&!i;){if(s.node.type.name===e)if(Object.keys(t).length>0){const o=s.node.attrs,l=Object.keys(t);for(let d=0;d<l.length;d+=1){const f=l[d];if(o[f]!==t[f])break}}else i=s;s=s.parent}return i}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},i=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(t);return this.children.forEach(l=>{i&&s.length>0||(l.node.type.name===e&&o.every(f=>t[f]===l.node.attrs[f])&&s.push(l),!(i&&s.length>0)&&(s=s.concat(l.querySelectorAll(e,t,i))))}),s}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const e7=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function t7(r,e,t){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=r,document.getElementsByTagName("head")[0].appendChild(s),s}class n7 extends pH{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:i,moved:s})=>this.options.onDrop(t,i,s)),this.on("paste",({event:t,slice:i})=>this.options.onPaste(t,i)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=t7(e7,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const i=uk(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:i});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let i=t;if([].concat(e).forEach(o=>{const l=typeof o=="string"?`${o}$`:o.key;i=t.filter(d=>!d.key.startsWith(l))}),t.length===i.length)return;const s=this.state.reconfigure({plugins:i});return this.view.updateState(s),s}createExtensionManager(){var e,t;const s=[...this.options.enableCoreExtensions?[K4,kH.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),G4,Y4,Q4,Z4,J4,X4].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new _u(s,this)}createCommandManager(){this.commandManager=new Dm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=H0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(l){if(!(l instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(l.message))throw l;this.emit("contentError",{editor:this,error:l,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(d=>d.name!=="collaboration"),this.createExtensionManager()}}),t=H0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const i=pk(t,this.options.autofocus);this.view=new V3(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Cu.create({doc:t,selection:i||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(l=>{var d;return(d=this.capturedTransaction)===null||d===void 0?void 0:d.step(l)});return}const t=this.state.apply(e),i=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),o=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return E4(this.state,e)}isActive(e,t){const i=typeof e=="string"?e:null,s=typeof e=="string"?t:e;return D4(this.state,i,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return kx(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:i={}}=e||{};return S4(this.state.doc,{blockSeparator:t,textSerializers:{...dk(this.schema),...i}})}get isEmpty(){return Ux(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelector(e,t))||null}$nodes(e,t){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Xo(t,this)}get $doc(){return this.$pos(0)}}function Vu(r){return new _m({find:r.find,handler:({state:e,range:t,match:i})=>{const s=pt(r.getAttributes,void 0,i);if(s===!1||s===null)return null;const{tr:o}=e,l=i[i.length-1],d=i[0];if(l){const f=d.search(/\S/),p=t.from+d.indexOf(l),m=p+l.length;if(yk(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(C=>C===r.type&&C!==x.mark.type)).filter(x=>x.to>p).length)return null;m<t.to&&o.delete(m,t.to),p>t.from&&o.delete(t.from+f,p);const b=t.from+f+l.length;o.addMark(t.from+f,b,r.type.create(s||{})),o.removeStoredMark(r.type)}}})}function r7(r){return new _m({find:r.find,handler:({state:e,range:t,match:i})=>{const s=pt(r.getAttributes,void 0,i)||{},{tr:o}=e,l=t.from;let d=t.to;const f=r.type.create(s);if(i[1]){const p=i[0].lastIndexOf(i[1]);let m=l+p;m>d?m=d:d=m+i[1].length;const v=i[0][i[0].length-1];o.insertText(v,l+i[0].length-1),o.replaceWith(m,d,f)}else if(i[0]){const p=r.type.isInline?l:l-1;o.insert(p,r.type.create(s)).delete(o.mapping.map(l),o.mapping.map(d))}o.scrollIntoView()}})}function W0(r){return new _m({find:r.find,handler:({state:e,range:t,match:i})=>{const s=e.doc.resolve(t.from),o=pt(r.getAttributes,void 0,i)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),r.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,r.type,o)}})}function rf(r){return new _m({find:r.find,handler:({state:e,range:t,match:i,chain:s})=>{const o=pt(r.getAttributes,void 0,i)||{},l=e.tr.delete(t.from,t.to),f=l.doc.resolve(t.from).blockRange(),p=f&&hx(f,r.type,o);if(!p)return null;if(l.wrap(f,p),r.keepMarks&&r.editor){const{selection:v,storedMarks:b}=e,{splittableMarks:x}=r.editor.extensionManager,w=b||v.$to.parentOffset&&v.$from.marks();if(w){const C=w.filter(_=>x.includes(_.type.name));l.ensureMarks(C)}}if(r.keepAttributes){const v=r.type.name==="bulletList"||r.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(v,o).run()}const m=l.doc.resolve(t.from-1).nodeBefore;m&&m.type===r.type&&ro(l.doc,t.from-1)&&(!r.joinPredicate||r.joinPredicate(i,m))&&l.join(t.from-1)}})}class Xr{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=pt(Ae(this,"addOptions",{name:this.name}))),this.storage=pt(Ae(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Xr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Tm(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Xr(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=pt(Ae(t,"addOptions",{name:t.name})),t.storage=pt(Ae(t,"addStorage",{name:t.name,options:t.options})),t}}function Pu(r){return new NH({find:r.find,handler:({state:e,range:t,match:i,pasteEvent:s})=>{const o=pt(r.getAttributes,void 0,i,s);if(o===!1||o===null)return null;const{tr:l}=e,d=i[i.length-1],f=i[0];let p=t.to;if(d){const m=f.search(/\S/),v=t.from+f.indexOf(d),b=v+d.length;if(yk(t.from,t.to,e.doc).filter(w=>w.mark.type.excluded.find(_=>_===r.type&&_!==w.mark.type)).filter(w=>w.to>v).length)return null;b<t.to&&l.delete(b,t.to),v>t.from&&l.delete(t.from+m,v),p=t.from+m+d.length,l.addMark(t.from+m,p,r.type.create(o||{})),l.removeStoredMark(r.type)}}})}function i7(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bk={exports:{}},d0={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC;function a7(){return jC||(jC=1,function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var r=Xn,e=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function t(F){{for(var P=arguments.length,K=new Array(P>1?P-1:0),le=1;le<P;le++)K[le-1]=arguments[le];i("error",F,K)}}function i(F,P,K){{var le=e.ReactDebugCurrentFrame,L=le.getStackAddendum();L!==""&&(P+="%s",K=K.concat([L]));var ne=K.map(function(re){return String(re)});ne.unshift("Warning: "+P),Function.prototype.apply.call(console[F],console,ne)}}function s(F,P){return F===P&&(F!==0||1/F===1/P)||F!==F&&P!==P}var o=typeof Object.is=="function"?Object.is:s,l=r.useState,d=r.useEffect,f=r.useLayoutEffect,p=r.useDebugValue,m=!1,v=!1;function b(F,P,K){m||r.startTransition!==void 0&&(m=!0,t("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var le=P();if(!v){var L=P();o(le,L)||(t("The result of getSnapshot should be cached to avoid an infinite loop"),v=!0)}var ne=l({inst:{value:le,getSnapshot:P}}),re=ne[0].inst,ve=ne[1];return f(function(){re.value=le,re.getSnapshot=P,x(re)&&ve({inst:re})},[F,le,P]),d(function(){x(re)&&ve({inst:re});var Le=function(){x(re)&&ve({inst:re})};return F(Le)},[F]),p(le),le}function x(F){var P=F.getSnapshot,K=F.value;try{var le=P();return!o(K,le)}catch{return!0}}function w(F,P,K){return P()}var C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_=!C,O=_?w:b,A=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:O;d0.useSyncExternalStore=A,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),d0}bk.exports=a7();var jx=bk.exports;const s7=(...r)=>e=>{r.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},o7=({contentComponent:r})=>{const e=jx.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return Xn.createElement(Xn.Fragment,null,Object.values(e))};function l7(){const r=new Set;let e={};return{subscribe(t){return r.add(t),()=>{r.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,i){e={...e,[t]:YC.createPortal(i.reactElement,i.element,t)},r.forEach(s=>s())},removeRenderer(t){const i={...e};delete i[t],e=i,r.forEach(s=>s())}}}class u7 extends Xn.Component{constructor(e){var t;super(e),this.editorContentRef=Xn.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=l7(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(i=>i.hasContentComponentInitialized?i:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...i}=this.props;return Xn.createElement(Xn.Fragment,null,Xn.createElement("div",{ref:s7(t,this.editorContentRef),...i}),(e==null?void 0:e.contentComponent)&&Xn.createElement(o7,{contentComponent:e.contentComponent}))}}const c7=U.forwardRef((r,e)=>{const t=Xn.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[r.editor]);return Xn.createElement(u7,{key:t,innerRef:e,...r})}),d7=Xn.memo(c7);var f7=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,s,o;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(s=i;s--!==0;)if(!r(e[s],t[s]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;for(s of e.entries())if(!r(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(i=e.length,i!=t.length)return!1;for(s=i;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),i=o.length,i!==Object.keys(t).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[s]))return!1;for(s=i;s--!==0;){var l=o[s];if(!(l==="_owner"&&e.$$typeof)&&!r(e[l],t[l]))return!1}return!0}return e!==e&&t!==t},h7=i7(f7),xk={exports:{}},f0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC;function p7(){return LC||(LC=1,function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var r=Xn,e=jx;function t(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var i=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,o=r.useRef,l=r.useEffect,d=r.useMemo,f=r.useDebugValue;function p(m,v,b,x,w){var C=o(null),_;C.current===null?(_={hasValue:!1,value:null},C.current=_):_=C.current;var O=d(function(){var K=!1,le,L,ne=function(ze){if(!K){K=!0,le=ze;var Re=x(ze);if(w!==void 0&&_.hasValue){var be=_.value;if(w(be,Re))return L=be,be}return L=Re,Re}var ye=le,$e=L;if(i(ye,ze))return $e;var Ee=x(ze);return w!==void 0&&w($e,Ee)?$e:(le=ze,L=Ee,Ee)},re=b===void 0?null:b,ve=function(){return ne(v())},Le=re===null?void 0:function(){return ne(re())};return[ve,Le]},[v,b,x,w]),A=O[0],F=O[1],P=s(m,A,F);return l(function(){_.hasValue=!0,_.value=P},[P]),f(P),P}f0.useSyncExternalStoreWithSelector=p,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),f0}xk.exports=p7();var m7=xk.exports;const g7=typeof window<"u"?U.useLayoutEffect:U.useEffect;class v7{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},i=this.editor;return i.on("transaction",t),()=>{i.off("transaction",t)}}}}function y7(r){var e;const[t]=U.useState(()=>new v7(r.editor)),i=m7.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,r.selector,(e=r.equalityFn)!==null&&e!==void 0?e:h7);return g7(()=>t.watch(r.editor),[r.editor,t]),U.useDebugValue(i),i}const b7=!0,G0=typeof window>"u",x7=G0||!!(typeof window<"u"&&window.next);class Lx{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return G0||x7?(console.warn("Tiptap Error: SSR has been detected, please set `immediatelyRender` explicitly to `false` to avoid hydration mismatches."),null):this.createEditor();if(this.options.current.immediatelyRender&&G0&&b7)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...i)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(s,...i)},onBlur:(...i)=>{var s,o;return(o=(s=this.options.current).onBlur)===null||o===void 0?void 0:o.call(s,...i)},onCreate:(...i)=>{var s,o;return(o=(s=this.options.current).onCreate)===null||o===void 0?void 0:o.call(s,...i)},onDestroy:(...i)=>{var s,o;return(o=(s=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(s,...i)},onFocus:(...i)=>{var s,o;return(o=(s=this.options.current).onFocus)===null||o===void 0?void 0:o.call(s,...i)},onSelectionUpdate:(...i)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(s,...i)},onTransaction:(...i)=>{var s,o;return(o=(s=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(s,...i)},onUpdate:(...i)=>{var s,o;return(o=(s=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(s,...i)},onContentError:(...i)=>{var s,o;return(o=(s=this.options.current).onContentError)===null||o===void 0?void 0:o.call(s,...i)},onDrop:(...i)=>{var s,o;return(o=(s=this.options.current).onDrop)===null||o===void 0?void 0:o.call(s,...i)},onPaste:(...i)=>{var s,o;return(o=(s=this.options.current).onPaste)===null||o===void 0?void 0:o.call(s,...i)}};return new n7(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((s,o)=>{var l;return s===((l=t.extensions)===null||l===void 0?void 0:l[o])}):e[i]===t[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Lx.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((i,s)=>i===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function w7(r={},e=[]){const t=U.useRef(r);t.current=r;const[i]=U.useState(()=>new Lx(t)),s=jx.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return U.useDebugValue(s),U.useEffect(i.onRender(e)),y7({editor:s,selector:({transactionNumber:o})=>r.shouldRerenderOnTransaction===!1?null:r.immediatelyRender&&o===0?0:o+1}),s}const S7=U.createContext({editor:null});S7.Consumer;const N7=U.createContext({onDragStart:void 0}),E7=()=>U.useContext(N7);Xn.forwardRef((r,e)=>{const{onDragStart:t}=E7(),i=r.as||"div";return Xn.createElement(i,{...r,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...r.style}})});const D7=/^\s*>\s$/,C7=Xr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:r}){return["blockquote",Pr(this.options.HTMLAttributes,r),0]},addCommands(){return{setBlockquote:()=>({commands:r})=>r.wrapIn(this.name),toggleBlockquote:()=>({commands:r})=>r.toggleWrap(this.name),unsetBlockquote:()=>({commands:r})=>r.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[rf({find:D7,type:this.type})]}}),_7=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,T7=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,k7=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,R7=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,O7=to.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:r=>r.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:r=>r.type.name===this.name},{style:"font-weight",getAttrs:r=>/^(bold(er)?|[5-9]\d{2,})$/.test(r)&&null}]},renderHTML({HTMLAttributes:r}){return["strong",Pr(this.options.HTMLAttributes,r),0]},addCommands(){return{setBold:()=>({commands:r})=>r.setMark(this.name),toggleBold:()=>({commands:r})=>r.toggleMark(this.name),unsetBold:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Vu({find:_7,type:this.type}),Vu({find:k7,type:this.type})]},addPasteRules(){return[Pu({find:T7,type:this.type}),Pu({find:R7,type:this.type})]}}),M7="listItem",zC="textStyle",VC=/^\s*([-+*])\s$/,A7=Xr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:r}){return["ul",Pr(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleBulletList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(M7,this.editor.getAttributes(zC)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let r=rf({find:VC,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(r=rf({find:VC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(zC),editor:this.editor})),[r]}}),U7=/(^|[^`])`([^`]+)`(?!`)/,j7=/(^|[^`])`([^`]+)`(?!`)/g,L7=to.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:r}){return["code",Pr(this.options.HTMLAttributes,r),0]},addCommands(){return{setCode:()=>({commands:r})=>r.setMark(this.name),toggleCode:()=>({commands:r})=>r.toggleMark(this.name),unsetCode:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Vu({find:U7,type:this.type})]},addPasteRules(){return[Pu({find:j7,type:this.type})]}}),z7=/^```([a-z]+)?[\s\n]$/,V7=/^~~~([a-z]+)?[\s\n]$/,P7=Xr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:r=>{var e;const{languageClassPrefix:t}=this.options,o=[...((e=r.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(l=>l.startsWith(t)).map(l=>l.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:r,HTMLAttributes:e}){return["pre",Pr(this.options.HTMLAttributes,e),["code",{class:r.attrs.language?this.options.languageClassPrefix+r.attrs.language:null},0]]},addCommands(){return{setCodeBlock:r=>({commands:e})=>e.setNode(this.name,r),toggleCodeBlock:r=>({commands:e})=>e.toggleNode(this.name,"paragraph",r)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:r,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!r||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:r})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=r,{selection:t}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type)return!1;const o=i.parentOffset===i.parent.nodeSize-2,l=i.parent.textContent.endsWith(`

`);return!o||!l?!1:r.chain().command(({tr:d})=>(d.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:r})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=r,{selection:t,doc:i}=e,{$from:s,empty:o}=t;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const d=s.after();return d===void 0?!1:i.nodeAt(d)?r.commands.command(({tr:p})=>(p.setSelection(ct.near(i.resolve(d))),!0)):r.commands.exitCode()}}},addInputRules(){return[W0({find:z7,type:this.type,getAttributes:r=>({language:r[1]})}),W0({find:V7,type:this.type,getAttributes:r=>({language:r[1]})})]},addProseMirrorPlugins(){return[new Zr({key:new Ta("codeBlockVSCodeHandler"),props:{handlePaste:(r,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),s=i?JSON.parse(i):void 0,o=s==null?void 0:s.mode;if(!t||!o)return!1;const{tr:l,schema:d}=r.state,f=d.text(t.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:o},f)),l.selection.$from.parent.type!==this.type&&l.setSelection(it.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),r.dispatch(l),!0}}})]}}),I7=Xr.create({name:"doc",topNode:!0,content:"block+"});function F7(r={}){return new Zr({view(e){return new $7(e,r)}})}class $7{constructor(e,t){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=t.width)!==null&&i!==void 0?i:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=l=>{this[s](l)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,i;if(t){let d=e.nodeBefore,f=e.nodeAfter;if(d||f){let p=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(p){let m=p.getBoundingClientRect(),v=d?m.bottom:m.top;d&&f&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),i={left:m.left,right:m.right,top:v-this.width/2,bottom:v+this.width/2}}}}if(!i){let d=this.editorView.coordsAtPos(this.cursorPos);i={left:d.left-this.width/2,right:d.left+this.width/2,top:d.top,bottom:d.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let o,l;if(!s||s==document.body&&getComputedStyle(s).position=="static")o=-pageXOffset,l=-pageYOffset;else{let d=s.getBoundingClientRect();o=d.left-s.scrollLeft,l=d.top-s.scrollTop}this.element.style.left=i.left-o+"px",this.element.style.top=i.top-l+"px",this.element.style.width=i.right-i.left+"px",this.element.style.height=i.bottom-i.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=i&&i.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!o){let l=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let d=uT(this.editorView.state.doc,l,this.editorView.dragging.slice);d!=null&&(l=d)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const B7=Ir.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[F7(this.options)]}});class bn extends ct{constructor(e){super(e,e)}map(e,t){let i=e.resolve(t.map(this.head));return bn.valid(i)?new bn(i):ct.near(i)}content(){return Te.empty}eq(e){return e instanceof bn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new bn(e.resolve(t.pos))}getBookmark(){return new zx(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!H7(e)||!q7(e))return!1;let i=t.type.spec.allowGapCursor;if(i!=null)return i;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,i=!1){e:for(;;){if(!i&&bn.valid(e))return e;let s=e.pos,o=null;for(let l=e.depth;;l--){let d=e.node(l);if(t>0?e.indexAfter(l)<d.childCount:e.index(l)>0){o=d.child(t>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;s+=t;let f=e.doc.resolve(s);if(bn.valid(f))return f}for(;;){let l=t>0?o.firstChild:o.lastChild;if(!l){if(o.isAtom&&!o.isText&&!We.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*t),i=!1;continue e}break}o=l,s+=t;let d=e.doc.resolve(s);if(bn.valid(d))return d}return null}}}bn.prototype.visible=!1;bn.findFrom=bn.findGapCursorFrom;ct.jsonID("gapcursor",bn);class zx{constructor(e){this.pos=e}map(e){return new zx(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return bn.valid(t)?new bn(t):ct.near(t)}}function H7(r){for(let e=r.depth;e>=0;e--){let t=r.index(e),i=r.node(e);if(t==0){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function q7(r){for(let e=r.depth;e>=0;e--){let t=r.indexAfter(e),i=r.node(e);if(t==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function W7(){return new Zr({props:{decorations:Y7,createSelectionBetween(r,e,t){return e.pos==t.pos&&bn.valid(t)?new bn(t):null},handleClick:J7,handleKeyDown:G7,handleDOMEvents:{beforeinput:K7}}})}const G7=KT({ArrowLeft:Op("horiz",-1),ArrowRight:Op("horiz",1),ArrowUp:Op("vert",-1),ArrowDown:Op("vert",1)});function Op(r,e){const t=r=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,s,o){let l=i.selection,d=e>0?l.$to:l.$from,f=l.empty;if(l instanceof it){if(!o.endOfTextblock(t)||d.depth==0)return!1;f=!1,d=i.doc.resolve(e>0?d.after():d.before())}let p=bn.findGapCursorFrom(d,e,f);return p?(s&&s(i.tr.setSelection(new bn(p))),!0):!1}}function J7(r,e,t){if(!r||!r.editable)return!1;let i=r.state.doc.resolve(e);if(!bn.valid(i))return!1;let s=r.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&We.isSelectable(r.state.doc.nodeAt(s.inside))?!1:(r.dispatch(r.state.tr.setSelection(new bn(i))),!0)}function K7(r,e){if(e.inputType!="insertCompositionText"||!(r.state.selection instanceof bn))return!1;let{$from:t}=r.state.selection,i=t.parent.contentMatchAt(t.index()).findWrapping(r.state.schema.nodes.text);if(!i)return!1;let s=de.empty;for(let l=i.length-1;l>=0;l--)s=de.from(i[l].createAndFill(null,s));let o=r.state.tr.replace(t.pos,t.pos,new Te(s,0,0));return o.setSelection(it.near(o.doc.resolve(t.pos+1))),r.dispatch(o),!1}function Y7(r){if(!(r.selection instanceof bn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",In.create(r.doc,[Oi.widget(r.selection.head,e,{key:"gapcursor"})])}const Q7=Ir.create({name:"gapCursor",addProseMirrorPlugins(){return[W7()]},extendNodeSchema(r){var e;const t={name:r.name,options:r.options,storage:r.storage};return{allowGapCursor:(e=pt(Ae(r,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),X7=Xr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:r}){return["br",Pr(this.options.HTMLAttributes,r)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:r,chain:e,state:t,editor:i})=>r.first([()=>r.exitCode(),()=>r.command(()=>{const{selection:s,storedMarks:o}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:d}=i.extensionManager,f=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:m})=>{if(m&&f&&l){const v=f.filter(b=>d.includes(b.type.name));p.ensureMarks(v)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Z7=Xr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(r=>({tag:`h${r}`,attrs:{level:r}}))},renderHTML({node:r,HTMLAttributes:e}){return[`h${this.options.levels.includes(r.attrs.level)?r.attrs.level:this.options.levels[0]}`,Pr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.setNode(this.name,r):!1,toggleHeading:r=>({commands:e})=>this.options.levels.includes(r.level)?e.toggleNode(this.name,"paragraph",r):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((r,e)=>({...r,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(r=>W0({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${r}})\\s$`),type:this.type,getAttributes:{level:r}}))}});var sm=200,nr=function(){};nr.prototype.append=function(e){return e.length?(e=nr.from(e),!this.length&&e||e.length<sm&&this.leafAppend(e)||this.length<sm&&e.leafPrepend(this)||this.appendInner(e)):this};nr.prototype.prepend=function(e){return e.length?nr.from(e).append(this):this};nr.prototype.appendInner=function(e){return new e6(this,e)};nr.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?nr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};nr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};nr.prototype.forEach=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=this.length),t<=i?this.forEachInner(e,t,i,0):this.forEachInvertedInner(e,t,i,0)};nr.prototype.map=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=this.length);var s=[];return this.forEach(function(o,l){return s.push(e(o,l))},t,i),s};nr.from=function(e){return e instanceof nr?e:e&&e.length?new wk(e):nr.empty};var wk=function(r){function e(i){r.call(this),this.values=i}r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,l,d){for(var f=o;f<l;f++)if(s(this.values[f],d+f)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,l,d){for(var f=o-1;f>=l;f--)if(s(this.values[f],d+f)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=sm)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=sm)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(nr);nr.empty=new wk([]);var e6=function(r){function e(t,i){r.call(this),this.left=t,this.right=i,this.length=t.length+i.length,this.depth=Math.max(t.depth,i.depth)+1}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,s,o,l){var d=this.left.length;if(s<d&&this.left.forEachInner(i,s,Math.min(o,d),l)===!1||o>d&&this.right.forEachInner(i,Math.max(s-d,0),Math.min(this.length,o)-d,l+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,l){var d=this.left.length;if(s>d&&this.right.forEachInvertedInner(i,s-d,Math.max(o,d)-d,l+d)===!1||o<d&&this.left.forEachInvertedInner(i,Math.min(s,d),o,l)===!1)return!1},e.prototype.sliceInner=function(i,s){if(i==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(i,s):i>=o?this.right.slice(i-o,s-o):this.left.slice(i,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(i){var s=this.right.leafAppend(i);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(i){var s=this.left.leafPrepend(i);if(s)return new e(s,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}(nr);const t6=500;class ta{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let s,o;t&&(s=this.remapping(i,this.items.length),o=s.maps.length);let l=e.tr,d,f,p=[],m=[];return this.items.forEach((v,b)=>{if(!v.step){s||(s=this.remapping(i,b+1),o=s.maps.length),o--,m.push(v);return}if(s){m.push(new Sa(v.map));let x=v.step.map(s.slice(o)),w;x&&l.maybeStep(x).doc&&(w=l.mapping.maps[l.mapping.maps.length-1],p.push(new Sa(w,void 0,void 0,p.length+m.length))),o--,w&&s.appendMap(w,o)}else l.maybeStep(v.step);if(v.selection)return d=s?v.selection.map(s.slice(o)):v.selection,f=new ta(this.items.slice(0,i).append(m.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:l,selection:d}}addTransform(e,t,i,s){let o=[],l=this.eventCount,d=this.items,f=!s&&d.length?d.get(d.length-1):null;for(let m=0;m<e.steps.length;m++){let v=e.steps[m].invert(e.docs[m]),b=new Sa(e.mapping.maps[m],v,t),x;(x=f&&f.merge(b))&&(b=x,m?o.pop():d=d.slice(0,d.length-1)),o.push(b),t&&(l++,t=void 0),s||(f=b)}let p=l-i.depth;return p>r6&&(d=n6(d,p),l-=p),new ta(d.append(o),l)}remapping(e,t){let i=new Qd;return this.items.forEach((s,o)=>{let l=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?i.maps.length-s.mirrorOffset:void 0;i.appendMap(s.map,l)},e,t),i}addMaps(e){return this.eventCount==0?this:new ta(this.items.append(e.map(t=>new Sa(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let i=[],s=Math.max(0,this.items.length-t),o=e.mapping,l=e.steps.length,d=this.eventCount;this.items.forEach(b=>{b.selection&&d--},s);let f=t;this.items.forEach(b=>{let x=o.getMirror(--f);if(x==null)return;l=Math.min(l,x);let w=o.maps[x];if(b.step){let C=e.steps[x].invert(e.docs[x]),_=b.selection&&b.selection.map(o.slice(f+1,x));_&&d++,i.push(new Sa(w,C,_))}else i.push(new Sa(w))},s);let p=[];for(let b=t;b<l;b++)p.push(new Sa(o.maps[b]));let m=this.items.slice(0,s).append(p).append(i),v=new ta(m,d);return v.emptyItemCount()>t6&&(v=v.compress(this.items.length-i.length)),v}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),i=t.maps.length,s=[],o=0;return this.items.forEach((l,d)=>{if(d>=e)s.push(l),l.selection&&o++;else if(l.step){let f=l.step.map(t.slice(i)),p=f&&f.getMap();if(i--,p&&t.appendMap(p,i),f){let m=l.selection&&l.selection.map(t.slice(i));m&&o++;let v=new Sa(p.invert(),f,m),b,x=s.length-1;(b=s.length&&s[x].merge(v))?s[x]=b:s.push(v)}}else l.map&&i--},this.items.length,0),new ta(nr.from(s.reverse()),o)}}ta.empty=new ta(nr.empty,0);function n6(r,e){let t;return r.forEach((i,s)=>{if(i.selection&&e--==0)return t=s,!1}),r.slice(t)}class Sa{constructor(e,t,i,s){this.map=e,this.step=t,this.selection=i,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Sa(t.getMap().invert(),t,this.selection)}}}class Is{constructor(e,t,i,s,o){this.done=e,this.undone=t,this.prevRanges=i,this.prevTime=s,this.prevComposition=o}}const r6=20;function i6(r,e,t,i){let s=t.getMeta(ol),o;if(s)return s.historyState;t.getMeta(o6)&&(r=new Is(r.done,r.undone,null,0,-1));let l=t.getMeta("appendedTransaction");if(t.steps.length==0)return r;if(l&&l.getMeta(ol))return l.getMeta(ol).redo?new Is(r.done.addTransform(t,void 0,i,Pp(e)),r.undone,PC(t.mapping.maps),r.prevTime,r.prevComposition):new Is(r.done,r.undone.addTransform(t,void 0,i,Pp(e)),null,r.prevTime,r.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let d=t.getMeta("composition"),f=r.prevTime==0||!l&&r.prevComposition!=d&&(r.prevTime<(t.time||0)-i.newGroupDelay||!a6(t,r.prevRanges)),p=l?h0(r.prevRanges,t.mapping):PC(t.mapping.maps);return new Is(r.done.addTransform(t,f?e.selection.getBookmark():void 0,i,Pp(e)),ta.empty,p,t.time,d??r.prevComposition)}else return(o=t.getMeta("rebased"))?new Is(r.done.rebased(t,o),r.undone.rebased(t,o),h0(r.prevRanges,t.mapping),r.prevTime,r.prevComposition):new Is(r.done.addMaps(t.mapping.maps),r.undone.addMaps(t.mapping.maps),h0(r.prevRanges,t.mapping),r.prevTime,r.prevComposition)}function a6(r,e){if(!e)return!1;if(!r.docChanged)return!0;let t=!1;return r.mapping.maps[0].forEach((i,s)=>{for(let o=0;o<e.length;o+=2)i<=e[o+1]&&s>=e[o]&&(t=!0)}),t}function PC(r){let e=[];for(let t=r.length-1;t>=0&&e.length==0;t--)r[t].forEach((i,s,o,l)=>e.push(o,l));return e}function h0(r,e){if(!r)return null;let t=[];for(let i=0;i<r.length;i+=2){let s=e.map(r[i],1),o=e.map(r[i+1],-1);s<=o&&t.push(s,o)}return t}function s6(r,e,t){let i=Pp(e),s=ol.get(e).spec.config,o=(t?r.undone:r.done).popEvent(e,i);if(!o)return null;let l=o.selection.resolve(o.transform.doc),d=(t?r.done:r.undone).addTransform(o.transform,e.selection.getBookmark(),s,i),f=new Is(t?d:o.remaining,t?o.remaining:d,null,0,-1);return o.transform.setSelection(l).setMeta(ol,{redo:t,historyState:f})}let p0=!1,IC=null;function Pp(r){let e=r.plugins;if(IC!=e){p0=!1,IC=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){p0=!0;break}}return p0}const ol=new Ta("history"),o6=new Ta("closeHistory");function l6(r={}){return r={depth:r.depth||100,newGroupDelay:r.newGroupDelay||500},new Zr({key:ol,state:{init(){return new Is(ta.empty,ta.empty,null,0,-1)},apply(e,t,i){return i6(t,i,e,r)}},config:r,props:{handleDOMEvents:{beforeinput(e,t){let i=t.inputType,s=i=="historyUndo"?Nk:i=="historyRedo"?Ek:null;return s?(t.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function Sk(r,e){return(t,i)=>{let s=ol.getState(t);if(!s||(r?s.undone:s.done).eventCount==0)return!1;if(i){let o=s6(s,t,r);o&&i(e?o.scrollIntoView():o)}return!0}}const Nk=Sk(!1,!0),Ek=Sk(!0,!0),u6=Ir.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:r,dispatch:e})=>Nk(r,e),redo:()=>({state:r,dispatch:e})=>Ek(r,e)}},addProseMirrorPlugins(){return[l6(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),c6=Xr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:r}){return["hr",Pr(this.options.HTMLAttributes,r)]},addCommands(){return{setHorizontalRule:()=>({chain:r,state:e})=>{const{selection:t}=e,{$from:i,$to:s}=t,o=r();return i.parentOffset===0?o.insertContentAt({from:Math.max(i.pos-1,0),to:s.pos},{type:this.name}):C4(t)?o.insertContentAt(s.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:l,dispatch:d})=>{var f;if(d){const{$to:p}=l.selection,m=p.end();if(p.nodeAfter)p.nodeAfter.isTextblock?l.setSelection(it.create(l.doc,p.pos+1)):p.nodeAfter.isBlock?l.setSelection(We.create(l.doc,p.pos)):l.setSelection(it.create(l.doc,p.pos));else{const v=(f=p.parent.type.contentMatch.defaultType)===null||f===void 0?void 0:f.create();v&&(l.insert(m,v),l.setSelection(it.create(l.doc,m+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[r7({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),d6=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,f6=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,h6=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,p6=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,m6=to.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:r=>r.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:r=>r.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:r}){return["em",Pr(this.options.HTMLAttributes,r),0]},addCommands(){return{setItalic:()=>({commands:r})=>r.setMark(this.name),toggleItalic:()=>({commands:r})=>r.toggleMark(this.name),unsetItalic:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Vu({find:d6,type:this.type}),Vu({find:h6,type:this.type})]},addPasteRules(){return[Pu({find:f6,type:this.type}),Pu({find:p6,type:this.type})]}}),g6=Xr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:r}){return["li",Pr(this.options.HTMLAttributes,r),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),v6="listItem",FC="textStyle",$C=/^(\d+)\.\s$/,y6=Xr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:r=>r.hasAttribute("start")?parseInt(r.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:r=>r.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:r}){const{start:e,...t}=r;return e===1?["ol",Pr(this.options.HTMLAttributes,t),0]:["ol",Pr(this.options.HTMLAttributes,r),0]},addCommands(){return{toggleOrderedList:()=>({commands:r,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(v6,this.editor.getAttributes(FC)).run():r.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let r=rf({find:$C,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(r=rf({find:$C,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(FC)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[r]}}),b6=Xr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:r}){return["p",Pr(this.options.HTMLAttributes,r),0]},addCommands(){return{setParagraph:()=>({commands:r})=>r.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),x6=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,w6=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,S6=to.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:r=>r.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:r}){return["s",Pr(this.options.HTMLAttributes,r),0]},addCommands(){return{setStrike:()=>({commands:r})=>r.setMark(this.name),toggleStrike:()=>({commands:r})=>r.toggleMark(this.name),unsetStrike:()=>({commands:r})=>r.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Vu({find:x6,type:this.type})]},addPasteRules(){return[Pu({find:w6,type:this.type})]}}),N6=Xr.create({name:"text",group:"inline"}),E6=Ir.create({name:"starterKit",addExtensions(){var r,e,t,i,s,o,l,d,f,p,m,v,b,x,w,C,_,O;const A=[];return this.options.bold!==!1&&A.push(O7.configure((r=this.options)===null||r===void 0?void 0:r.bold)),this.options.blockquote!==!1&&A.push(C7.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&A.push(A7.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&A.push(L7.configure((i=this.options)===null||i===void 0?void 0:i.code)),this.options.codeBlock!==!1&&A.push(P7.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&A.push(I7.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&A.push(B7.configure((l=this.options)===null||l===void 0?void 0:l.dropcursor)),this.options.gapcursor!==!1&&A.push(Q7.configure((d=this.options)===null||d===void 0?void 0:d.gapcursor)),this.options.hardBreak!==!1&&A.push(X7.configure((f=this.options)===null||f===void 0?void 0:f.hardBreak)),this.options.heading!==!1&&A.push(Z7.configure((p=this.options)===null||p===void 0?void 0:p.heading)),this.options.history!==!1&&A.push(u6.configure((m=this.options)===null||m===void 0?void 0:m.history)),this.options.horizontalRule!==!1&&A.push(c6.configure((v=this.options)===null||v===void 0?void 0:v.horizontalRule)),this.options.italic!==!1&&A.push(m6.configure((b=this.options)===null||b===void 0?void 0:b.italic)),this.options.listItem!==!1&&A.push(g6.configure((x=this.options)===null||x===void 0?void 0:x.listItem)),this.options.orderedList!==!1&&A.push(y6.configure((w=this.options)===null||w===void 0?void 0:w.orderedList)),this.options.paragraph!==!1&&A.push(b6.configure((C=this.options)===null||C===void 0?void 0:C.paragraph)),this.options.strike!==!1&&A.push(S6.configure((_=this.options)===null||_===void 0?void 0:_.strike)),this.options.text!==!1&&A.push(N6.configure((O=this.options)===null||O===void 0?void 0:O.text)),A}});function D6({content:r,onChange:e}){const t=w7({extensions:[E6],content:r,editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none"}},onUpdate:({editor:i})=>{e(i.getHTML())}});return t?N.jsxDEV("div",{className:"border rounded-lg overflow-hidden",children:[N.jsxDEV("div",{className:"border-b bg-gray-50 px-4 py-2 flex space-x-2",children:[N.jsxDEV("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("bold")?"bg-gray-200":""}`,title:"Bold",children:N.jsxDEV("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[N.jsxDEV("path",{fill:"none",d:"M0 0h24v24H0z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:36,columnNumber:13},this),N.jsxDEV("path",{d:"M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5zM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:37,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:35,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:30,columnNumber:9},this),N.jsxDEV("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("italic")?"bg-gray-200":""}`,title:"Italic",children:N.jsxDEV("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[N.jsxDEV("path",{fill:"none",d:"M0 0h24v24H0z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:46,columnNumber:13},this),N.jsxDEV("path",{d:"M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:47,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:45,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:40,columnNumber:9},this),N.jsxDEV("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("heading",{level:2})?"bg-gray-200":""}`,title:"Heading",children:N.jsxDEV("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[N.jsxDEV("path",{fill:"none",d:"M0 0h24v24H0z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:56,columnNumber:13},this),N.jsxDEV("path",{d:"M17 11V4h2v17h-2v-8H7v8H5V4h2v7z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:57,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:55,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:50,columnNumber:9},this),N.jsxDEV("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("bulletList")?"bg-gray-200":""}`,title:"Bullet List",children:N.jsxDEV("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[N.jsxDEV("path",{fill:"none",d:"M0 0h24v24H0z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:66,columnNumber:13},this),N.jsxDEV("path",{d:"M8 4h13v2H8V4zM4.5 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 6.9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM8 11h13v2H8v-2zm0 7h13v2H8v-2z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:67,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:65,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:60,columnNumber:9},this),N.jsxDEV("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 ${t.isActive("orderedList")?"bg-gray-200":""}`,title:"Numbered List",children:N.jsxDEV("svg",{className:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[N.jsxDEV("path",{fill:"none",d:"M0 0h24v24H0z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:76,columnNumber:13},this),N.jsxDEV("path",{d:"M8 4h13v2H8V4zM5 3v3h1v1H3V6h1V4H3V3h2zm2 8h13v2H7v-2zm-2-1v3h1v1H3v-1h1v-1H3v-2h2zm2 8h13v2H7v-2zm-2-1v3h1v1H3v-1h1v-1H3v-2h2z"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:77,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:75,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:70,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:29,columnNumber:7},this),N.jsxDEV(d7,{editor:t,className:"p-4"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:81,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/RichTextEditor.tsx",lineNumber:28,columnNumber:5},this):null}function C6({sectionId:r}){const e=fl(),t=U.useRef(null),[i,s]=U.useState(null),[o,l]=U.useState(null),[d,f]=U.useState([]),[p,m]=U.useState(!0),[v,b]=U.useState(!0),[x,w]=U.useState(null),[C,_]=U.useState(!1),[O,A]=U.useState([]),[F,P]=U.useState(!1),[K,le]=U.useState([]),[L,ne]=U.useState(!1),[re,ve]=U.useState([]),[Le,ze]=U.useState("default"),[Re,be]=U.useState(!1),[ye,$e]=U.useState({isOpen:!1,mode:"add",prompt:{name:"",description:"",prompt_text:"",is_active:!0}}),[Ee,Ie]=U.useState(!1),[jt,Lt]=U.useState(!1),[Dt,gt]=U.useState(!1),[rn,Ut]=U.useState(null),[Nt,ln]=U.useState(null),[zt,pn]=U.useState(1),[xn,mn]=U.useState(!0),an=10;U.useEffect(()=>{async function ue(){try{const{data:me,error:Ue}=await ke.from("grant_application_section").select(`
            id,
            grant_application_id,
            grant_section_id,
            is_completed,
            created_at,
            updated_at,
            flow_order,
            grant_section:grant_section_id(
              id,
              name,
              instructions,
              ai_generator_prompt,
              ai_visualizations_prompt
            )
          `).eq("id",r).maybeSingle();if(Ue)throw Ue;if(!me)throw new Error(`No section found with ID: ${r}`);if(!me.grant_section||Array.isArray(me.grant_section))throw new Error("Invalid section data: grant_section is missing or malformed");s(me);const{data:Ve,error:ae}=await ke.from("grant_application_section_fields").select("*").eq("grant_application_section_id",r).order("created_at",{ascending:!1}).range(0,an-1);if(ae)throw ae;f(Ve||[]),mn((Ve==null?void 0:Ve.length)===an),Ve&&Ve.length>0?l(Ve[0]):l({id:"new",user_instructions:"",created_at:new Date().toISOString()});const{data:we,error:Pe}=await ke.from("grant_application_section_documents").select("*").eq("grant_application_section_id",r);if(Pe)throw Pe;A(we||[])}catch(me){console.error("Error loading section:",me),w(me instanceof Error?me.message:"Failed to load section data")}finally{b(!1)}}ue()},[r]),U.useEffect(()=>{async function ue(){if(i!=null&&i.grant_section.ai_generator_prompt){be(!0);try{const{data:me,error:Ue}=await ke.from("user_ai_prompts").select("*").eq("is_active",!0).is("deleted_at",null).order("name");if(Ue)throw Ue;ve(me||[])}catch(me){console.error("Error loading prompts:",me),w("Failed to load prompts")}finally{be(!1)}}}ue()},[i==null?void 0:i.grant_section.ai_generator_prompt]);const Ot=async ue=>{var Ue;const me=(Ue=ue.target.files)==null?void 0:Ue[0];if(!(!me||!i)){P(!0);try{const Ve=me.name.split(".").pop(),ae=`${crypto.randomUUID()}.${Ve}`,we=`${i.grant_application_id}/${ae}`,{error:Pe}=await ke.storage.from("grant-attachments").upload(we,me);if(Pe)throw Pe;const{error:Ge}=await ke.from("grant_application_section_documents").insert({grant_application_section_id:r,file_name:me.name,file_type:(Ve==null?void 0:Ve.toLowerCase())||"other",file_path:we});if(Ge)throw Ge;const{data:ut,error:Ye}=await ke.from("grant_application_section_documents").select("*").eq("grant_application_section_id",r);if(Ye)throw Ye;A(ut||[])}catch(Ve){console.error("Error uploading file:",Ve),w("Failed to upload file")}finally{P(!1),t.current&&(t.current.value="")}}},Gt=async ue=>{try{const{data:me,error:Ue}=await ke.storage.from("grant-attachments").download(ue.file_path);if(Ue)throw Ue;const Ve=URL.createObjectURL(me),ae=document.createElement("a");ae.href=Ve,ae.download=ue.file_name,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL(Ve)}catch(me){console.error("Error downloading file:",me),w("Failed to download file")}},Nn=async ue=>{try{const{error:me}=await ke.storage.from("grant-attachments").remove([ue.file_path]);if(me)throw me;const{error:Ue}=await ke.from("grant_application_section_documents").delete().eq("id",ue.id);if(Ue)throw Ue;A(Ve=>Ve.filter(ae=>ae.id!==ue.id))}catch(me){console.error("Error deleting attachment:",me),w("Failed to delete attachment")}},fn=async(ue=!1)=>{if(!(!o||!i)){_(!0);try{const{error:me}=await ke.from("grant_application_section_fields").insert({grant_application_section_id:r,user_instructions:o.user_instructions,user_comments_on_ai_output:o.user_comments_on_ai_output,ai_output:o.ai_output,ai_model:void 0});if(me)throw me;const{error:Ue}=await ke.from("grant_application_section").update({is_completed:i.is_completed}).eq("id",r);if(Ue)throw Ue;const{data:Ve,error:ae}=await ke.from("grant_application_section_fields").select("*").eq("grant_application_section_id",r).order("created_at",{ascending:!1}).limit(10);if(ae)throw ae;f(Ve||[]),ue&&e(`/dashboard/applications/${i.grant_application_id}`)}catch(me){console.error("Error saving:",me),w("Failed to save changes")}finally{_(!1)}}},Ht=async ue=>{const me=d.find(Ue=>Ue.id===ue);me&&(ln(ue),l(me))},yr=()=>{$e({isOpen:!0,mode:"add",prompt:{name:"",description:"",prompt_text:(i==null?void 0:i.grant_section.ai_generator_prompt)||"",is_active:!0}})},ei=()=>{const ue=re.find(me=>me.id===Le);ue&&$e({isOpen:!0,mode:"edit",prompt:{id:ue.id,name:ue.name,description:ue.description||"",prompt_text:ue.prompt_text,is_active:ue.is_active}})},Fn=()=>{$e(ue=>({...ue,isOpen:!1}))},$n=async()=>{try{const{data:{user:ue}}=await ke.auth.getUser();if(!ue)throw new Error("No user found");if(ye.mode==="add"){const{error:Ve}=await ke.from("user_ai_prompts").insert({user_id:ue.id,name:ye.prompt.name,description:ye.prompt.description||null,prompt_text:ye.prompt.prompt_text,is_active:ye.prompt.is_active,prompt_type:"generator"});if(Ve)throw Ve}else{const{error:Ve}=await ke.from("user_ai_prompts").update({name:ye.prompt.name,description:ye.prompt.description||null,prompt_text:ye.prompt.prompt_text,is_active:ye.prompt.is_active,updated_at:new Date().toISOString()}).eq("id",ye.prompt.id);if(Ve)throw Ve}const{data:me,error:Ue}=await ke.from("user_ai_prompts").select("*").eq("is_active",!0).is("deleted_at",null).order("name");if(Ue)throw Ue;ve(me||[]),Fn()}catch(ue){console.error("Error saving prompt:",ue),w("Failed to save prompt")}},En=async()=>{var ue,me;if(!(!i||!o)){Ie(!0),Ut("initial");try{if(o.ai_output&&o.id!=="new"){const{error:Ye}=await ke.from("grant_application_section_fields").insert({grant_application_section_id:r,user_instructions:o.user_instructions,user_comments_on_ai_output:o.user_comments_on_ai_output,ai_output:o.ai_output,ai_model:void 0});if(Ye)throw Ye}const{data:Ue,error:Ve}=await ke.from("grant_application_section_fields").insert({grant_application_section_id:r,user_instructions:o.user_instructions,user_comments_on_ai_output:o.user_comments_on_ai_output,ai_output:null,ai_model:void 0}).select().single();if(Ve)throw Ve;if(!Ue)throw new Error("Failed to create new field record");if(!(Le==="default"?i.grant_section.ai_generator_prompt:(ue=re.find(Ye=>Ye.id===Le))==null?void 0:ue.prompt_text))throw new Error("No prompt text available");const{data:{session:we}}=await ke.auth.getSession();if(!we)throw new Error("No active session");console.log("=== AI Request Details ==="),console.log("URL:","https://lzzqttfkqbskoqxwpair.supabase.co/functions/v1/prompt-ai"),console.log("Headers:",{Authorization:`Bearer ${we.access_token}`,"Content-Type":"application/json"});const Pe={section_id:r,field_id:Ue.id,prompt_id:Le==="default"?void 0:Le};console.log("Request Body:",JSON.stringify(Pe,null,2));const Ge=ke.channel("field-updates").on("postgres_changes",{event:"UPDATE",schema:"public",table:"grant_application_section_fields",filter:`id=eq.${Ue.id}`},Ye=>{var Kt,Vt,vt,qt;console.log("Received field update:",Ye);const ot=Ye.new;l(ot),(Kt=ot.ai_model)!=null&&Kt.includes("initial")?(console.log("Initial stage complete"),Ut("spelling")):(Vt=ot.ai_model)!=null&&Vt.includes("spelling")?(console.log("Spelling stage complete"),Ut("logic")):(vt=ot.ai_model)!=null&&vt.includes("logic")?(console.log("Logic stage complete"),Ut("requirements")):(qt=ot.ai_model)!=null&&qt.includes("requirements")&&(console.log("Requirements stage complete"),Ut("complete"),ke.from("grant_application_section_fields").select("*").eq("grant_application_section_id",r).order("created_at",{ascending:!1}).limit(10).then(({data:Bn,error:ir})=>{!ir&&Bn&&f(Bn)}))}).subscribe(),ut=()=>{console.log("Cleaning up subscription"),Ge.unsubscribe()};try{const Ye=await fetch("https://lzzqttfkqbskoqxwpair.supabase.co/functions/v1/prompt-ai",{method:"POST",headers:{Authorization:`Bearer ${we.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(Pe)});if(console.log("=== AI Response Details ==="),console.log("Status:",Ye.status),console.log("Status Text:",Ye.statusText),console.log("Headers:",Object.fromEntries(Ye.headers.entries())),!Ye.ok){const Kt=await Ye.json();throw console.log("Error Response:",Kt),ut(),new Error(((me=Kt.error)==null?void 0:me.message)||"Failed to generate text")}const ot=await Ye.json();if(console.log("Success Response:",ot),!ot.success)throw ut(),new Error("Failed to generate text")}catch(Ye){console.error("Error generating text:",Ye),w(Ye instanceof Error?Ye.message:"Failed to generate text"),Ut(null),ut()}finally{Ie(!1)}}catch(Ue){console.error("Error generating text:",Ue),w(Ue instanceof Error?Ue.message:"Failed to generate text"),Ut(null)}}},wn=()=>{if(!Ee)return"Generate";switch(rn){case"initial":return"Generating...";case"spelling":return"Checking Spelling & Grammar...";case"logic":return"Checking Logic...";case"requirements":return"Verifying Requirements...";case"complete":return"Complete!";default:return"Generating..."}},On=async()=>{var ue,me;if(!(!i||!(o!=null&&o.ai_output))){Lt(!0);try{const{data:{session:Ue}}=await ke.auth.getSession();if(!Ue)throw new Error("No active session");const{data:Ve,error:ae}=await ke.from("grant_application_section_fields").insert({grant_application_section_id:r,user_instructions:o.user_instructions,user_comments_on_ai_output:o.user_comments_on_ai_output,ai_output:o.ai_output,ai_model:void 0}).select().single();if(ae)throw ae;if(!Ve)throw new Error("Failed to save current edits");const we=await fetch("https://lzzqttfkqbskoqxwpair.supabase.co/functions/v1/review-edits",{method:"POST",headers:{Authorization:`Bearer ${Ue.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({section_id:r,field_id:Ve.id})});if(!we.ok){const Ge=await we.json();throw new Error(((ue=Ge.error)==null?void 0:ue.message)||"Failed to review text")}const Pe=await we.json();if((me=Pe.data)!=null&&me.ai_output){const{data:Ge,error:ut}=await ke.from("grant_application_section_fields").select("*").eq("id",Pe.data.field_id).single();if(ut)throw ut;if(!Ge)throw new Error("Failed to fetch reviewed text");l(Ge);const{data:Ye,error:ot}=await ke.from("grant_application_section_fields").select("*").eq("grant_application_section_id",r).order("created_at",{ascending:!1}).limit(10);if(ot)throw ot;f(Ye||[])}else throw new Error("No reviewed text received")}catch(Ue){console.error("Error reviewing text:",Ue),w(Ue instanceof Error?Ue.message:"Failed to review text")}finally{Lt(!1)}}},Dn=async()=>{var ue;if(!(!i||!(o!=null&&o.user_instructions))){gt(!0);try{const{data:me,error:Ue}=await ke.from("grant_application_section_fields").insert({grant_application_section_id:r,user_instructions:o.user_instructions,ai_model:"create-visuals"}).select().single();if(Ue)throw Ue;if(!me)throw new Error("Failed to save field record");const Ve=o.user_instructions.match(/([a-zA-Z0-9-]+\.(?:png|jpg|jpeg|gif))/i);if(!Ve)throw new Error("No image filename found in instructions");const ae=Ve[1],{data:we,error:Pe}=await ke.from("grant_application_section_documents").select("*").eq("grant_application_section_id",r).eq("file_name",ae).single();if(Pe)throw Pe;if(!we)throw new Error(`Image "${ae}" not found in attachments`);const{data:{session:Ge}}=await ke.auth.getSession();if(!Ge)throw new Error("No active session");const ut=await fetch("https://lzzqttfkqbskoqxwpair.supabase.co/functions/v1/create-visuals",{method:"POST",headers:{Authorization:`Bearer ${Ge.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({section_id:r,field_id:me.id,image_path:we.file_path})});if(!ut.ok){const ot=await ut.json();throw new Error(((ue=ot.error)==null?void 0:ue.message)||"Failed to create visual")}if((await ut.json()).success){const{data:ot,error:Kt}=await ke.from("grant_application_section_documents").select("*").eq("grant_application_section_id",r);if(Kt)throw Kt;A(ot||[]);const{data:Vt,error:vt}=await ke.from("grant_application_section_fields").select("*").eq("grant_application_section_id",r).order("created_at",{ascending:!1}).limit(10);if(vt)throw vt;f(Vt||[])}else throw new Error("Failed to create visual")}catch(me){console.error("Error creating visual:",me),w(me instanceof Error?me.message:"Failed to create visual")}finally{gt(!1)}}},Jt=async()=>{try{const ue=zt*an,me=ue+an-1,{data:Ue,error:Ve}=await ke.from("grant_application_section_fields").select("*").eq("grant_application_section_id",r).order("created_at",{ascending:!1}).range(ue,me);if(Ve)throw Ve;Ue&&(f(ae=>[...ae,...Ue]),mn(Ue.length===an),pn(ae=>ae+1))}catch(ue){console.error("Error loading more history:",ue),w("Failed to load more history")}};return v?N.jsxDEV("div",{children:"Loading..."},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:868,columnNumber:23},this):x?N.jsxDEV("div",{children:["Error: ",x]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:869,columnNumber:21},this):!i||!o?N.jsxDEV("div",{children:"No section data found"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:870,columnNumber:41},this):N.jsxDEV("div",{className:"flex h-full flex-col",children:N.jsxDEV("div",{className:"flex flex-1",children:[N.jsxDEV("div",{className:"flex flex-1",children:[N.jsxDEV("div",{className:"flex-1 p-6 border-r",children:[N.jsxDEV("div",{className:"mb-6",children:[N.jsxDEV("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Instructions"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:880,columnNumber:15},this),N.jsxDEV("p",{className:"text-gray-600",children:i.grant_section.instructions},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:881,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:879,columnNumber:13},this),N.jsxDEV("div",{className:"mb-6",children:[N.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Instructions"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:885,columnNumber:15},this),N.jsxDEV("textarea",{value:(o==null?void 0:o.user_instructions)??"",onChange:ue=>l(me=>me?{...me,user_instructions:ue.target.value}:null),className:"w-full h-32 rounded-md border-2 border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 overflow-y-auto resize-y min-h-[8rem] max-h-[24rem]"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:888,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:884,columnNumber:13},this),i.grant_section.ai_generator_prompt&&N.jsxDEV("div",{className:"mb-6",children:[N.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments on AI Output"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:899,columnNumber:17},this),N.jsxDEV("textarea",{value:(o==null?void 0:o.user_comments_on_ai_output)??"",onChange:ue=>l(me=>me?{...me,user_comments_on_ai_output:ue.target.value}:null),className:"w-full h-32 rounded-md border-2 border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 overflow-y-auto resize-y min-h-[8rem] max-h-[24rem]"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:902,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:898,columnNumber:15},this),i.grant_section.ai_generator_prompt&&N.jsxDEV("div",{className:"mb-6",children:[N.jsxDEV("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"AI Prompts"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:914,columnNumber:17},this),N.jsxDEV("div",{className:"flex items-center space-x-2",children:[N.jsxDEV("select",{value:Le,onChange:ue=>ze(ue.target.value),className:"flex-1 block rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",disabled:Re,children:[N.jsxDEV("option",{value:"default",children:"Default Section Prompt"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:922,columnNumber:21},this),re.map(ue=>N.jsxDEV("option",{value:ue.id,children:ue.name},ue.id,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:924,columnNumber:23},this))]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:916,columnNumber:19},this),N.jsxDEV("button",{onClick:yr,className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:929,columnNumber:19},this),N.jsxDEV("button",{onClick:ei,disabled:Le==="default",className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Edit"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:935,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:915,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:913,columnNumber:15},this),ye.isOpen&&N.jsxDEV("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:N.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 p-6",children:[N.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[N.jsxDEV("h3",{className:"text-lg font-medium text-gray-900",children:ye.mode==="add"?"Add New Prompt":"Edit Prompt"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:951,columnNumber:21},this),N.jsxDEV("button",{onClick:Fn,className:"text-gray-400 hover:text-gray-500",children:[N.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:958,columnNumber:23},this),""]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:954,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:950,columnNumber:19},this),N.jsxDEV("div",{className:"space-y-4",children:[N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"prompt-name",className:"block text-sm font-medium text-gray-700",children:"Name"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:965,columnNumber:23},this),N.jsxDEV("input",{type:"text",id:"prompt-name",value:ye.prompt.name,onChange:ue=>$e(me=>({...me,prompt:{...me.prompt,name:ue.target.value}})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:968,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:964,columnNumber:21},this),N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"prompt-description",className:"block text-sm font-medium text-gray-700",children:"Description (Optional)"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:981,columnNumber:23},this),N.jsxDEV("input",{type:"text",id:"prompt-description",value:ye.prompt.description,onChange:ue=>$e(me=>({...me,prompt:{...me.prompt,description:ue.target.value}})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:984,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:980,columnNumber:21},this),N.jsxDEV("div",{children:[N.jsxDEV("label",{htmlFor:"prompt-text",className:"block text-sm font-medium text-gray-700",children:"Prompt Text"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:997,columnNumber:23},this),N.jsxDEV("textarea",{id:"prompt-text",rows:6,value:ye.prompt.prompt_text,onChange:ue=>$e(me=>({...me,prompt:{...me.prompt,prompt_text:ue.target.value}})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1e3,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:996,columnNumber:21},this),N.jsxDEV("div",{className:"flex items-center",children:[N.jsxDEV("input",{type:"checkbox",id:"prompt-active",checked:ye.prompt.is_active,onChange:ue=>$e(me=>({...me,prompt:{...me.prompt,is_active:ue.target.checked}})),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1013,columnNumber:23},this),N.jsxDEV("label",{htmlFor:"prompt-active",className:"ml-2 block text-sm text-gray-900",children:"Active"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1023,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1012,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:963,columnNumber:19},this),N.jsxDEV("div",{className:"mt-6 flex justify-end space-x-3",children:[N.jsxDEV("button",{onClick:Fn,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1030,columnNumber:21},this),N.jsxDEV("button",{onClick:$n,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:ye.mode==="add"?"Add Prompt":"Save Changes"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1036,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1029,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:949,columnNumber:17},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:948,columnNumber:15},this),N.jsxDEV("div",{className:"flex justify-end space-x-4 mb-6",children:[i.grant_section.ai_visualizations_prompt&&N.jsxDEV("button",{type:"button",onClick:Dn,disabled:Dt||!(o!=null&&o.user_instructions)||O.length===0,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:Dt?"Creating...":"Create Visuals"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1049,columnNumber:17},this),i.grant_section.ai_generator_prompt&&N.jsxDEV("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",onClick:En,disabled:Ee,children:wn()},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1059,columnNumber:17},this),N.jsxDEV("button",{onClick:()=>fn(!0),disabled:C,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:C?"Saving...":"Save & Close"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1068,columnNumber:15},this),N.jsxDEV("button",{onClick:()=>{s(ue=>ue?{...ue,is_completed:!0}:null),fn(!0)},disabled:C,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Save & Complete"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1075,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1047,columnNumber:13},this),N.jsxDEV("div",{className:"mb-6",children:[N.jsxDEV("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Attachments"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1089,columnNumber:15},this),N.jsxDEV("div",{className:"space-y-4",children:[N.jsxDEV("div",{className:"space-y-2",children:O.map(ue=>N.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[N.jsxDEV("div",{className:"flex items-center",children:N.jsxDEV("span",{className:"text-sm text-gray-600",children:ue.file_name},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1096,columnNumber:25},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1095,columnNumber:23},this),N.jsxDEV("div",{className:"flex items-center space-x-3",children:[N.jsxDEV("button",{onClick:()=>Gt(ue),className:"text-sm text-indigo-600 hover:text-indigo-800",children:"Download"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1099,columnNumber:25},this),N.jsxDEV("button",{onClick:()=>Nn(ue),className:"text-sm text-red-600 hover:text-red-800",children:"Delete"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1105,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1098,columnNumber:23},this)]},ue.id,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1094,columnNumber:21},this))},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1092,columnNumber:17},this),N.jsxDEV("div",{children:[N.jsxDEV("input",{type:"file",ref:t,onChange:Ot,className:"hidden"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1118,columnNumber:19},this),N.jsxDEV("button",{onClick:()=>{var ue;return(ue=t.current)==null?void 0:ue.click()},disabled:F,className:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:F?"Uploading...":"Upload Attachment"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1124,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1117,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1090,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1088,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:878,columnNumber:11},this),N.jsxDEV("div",{className:"flex-1 p-6 border-r",children:[N.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[N.jsxDEV("h2",{className:"text-lg font-medium text-gray-900",children:"Content"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1139,columnNumber:15},this),N.jsxDEV("button",{title:"Send manual edits to AI for review and error correction",className:"px-3 py-1 text-sm font-medium text-black bg-yellow-200 hover:bg-yellow-300 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",onClick:On,disabled:jt||!(o!=null&&o.ai_output),children:jt?"Reviewing...":"Review Edits"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1140,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1138,columnNumber:13},this),N.jsxDEV("div",{className:"h-[calc(100vh-12rem)] overflow-y-auto resize-y min-h-[24rem] max-h-[calc(100vh-8rem)] border rounded-md",children:N.jsxDEV(D6,{content:(o==null?void 0:o.ai_output)||"",onChange:ue=>l(me=>me?{...me,ai_output:ue}:null)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1150,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1149,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1137,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:876,columnNumber:9},this),N.jsxDEV("div",{className:`${p?"w-64":"w-12"} transition-all duration-300 border-l bg-gray-50 flex`,children:N.jsxDEV("div",{className:"flex flex-col min-w-full",children:[N.jsxDEV("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-100 border-b",onClick:()=>m(!p),children:[N.jsxDEV("h3",{className:`text-sm font-medium text-gray-900 ${!p&&"sr-only"}`,children:"Version History"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1167,columnNumber:15},this),N.jsxDEV("button",{className:"text-gray-400 hover:text-gray-600",children:p?"":""},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1168,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1163,columnNumber:13},this),N.jsxDEV("div",{className:`${p?"opacity-100":"opacity-0 hidden"} overflow-y-auto transition-opacity duration-300`,style:{height:"calc(100vh - 4rem)"},children:N.jsxDEV("div",{className:"p-4 space-y-2",children:[d.map(ue=>N.jsxDEV("button",{onClick:()=>Ht(ue.id),className:`w-full text-left px-3 py-2 text-sm ${Nt===ue.id?"bg-indigo-50 text-indigo-700 border border-indigo-200":"text-gray-700 hover:bg-gray-100"} rounded-md`,children:new Date(ue.created_at).toLocaleString()},ue.id,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1176,columnNumber:19},this)),xn&&N.jsxDEV("button",{onClick:Jt,className:"w-full text-center text-sm text-indigo-600 hover:text-indigo-700 py-2",children:"Load More"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1189,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1174,columnNumber:15},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1173,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1162,columnNumber:11},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:1161,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:874,columnNumber:7},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/components/grant-wizard/SectionEditor.tsx",lineNumber:873,columnNumber:5},this)}function _6(){const{sectionId:r}=tx();return fl(),r?N.jsxDEV("div",{className:"h-full",children:N.jsxDEV(C6,{sectionId:r},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.sections.$sectionId.tsx",lineNumber:16,columnNumber:7},this)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.sections.$sectionId.tsx",lineNumber:15,columnNumber:5},this):N.jsxDEV("div",{children:"No section ID provided"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/routes/dashboard.applications.$id.sections.$sectionId.tsx",lineNumber:11,columnNumber:12},this)}const T6=bI([{path:"/",element:N.jsxDEV(X$,{},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:21,columnNumber:14},void 0)},{path:"/auth",element:N.jsxDEV(Z$,{},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:25,columnNumber:14},void 0)},{path:"/dashboard",element:N.jsxDEV(eB,{},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:29,columnNumber:14},void 0),children:[{index:!0,element:N.jsxDEV(tB,{},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:33,columnNumber:18},void 0)},{path:"profile",element:N.jsxDEV(nB,{},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:37,columnNumber:18},void 0)},{path:"new",element:N.jsxDEV(oB,{},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:41,columnNumber:18},void 0)},{path:"applications",element:N.jsxDEV(lB,{},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:45,columnNumber:18},void 0),errorElement:N.jsxDEV("div",{children:"Error loading applications"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:46,columnNumber:23},void 0)},{path:"applications/:id",element:N.jsxDEV(cB,{},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:50,columnNumber:18},void 0),errorElement:N.jsxDEV("div",{children:"Error loading application"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:51,columnNumber:23},void 0)},{path:"applications/:id/sections/:sectionId",element:N.jsxDEV(_6,{},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:55,columnNumber:18},void 0),errorElement:N.jsxDEV("div",{children:"Error loading section"},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:56,columnNumber:23},void 0)}]}]),k6=QC(document.getElementById("root"));k6.render(N.jsxDEV(Xn.StrictMode,{children:N.jsxDEV(Q$,{children:N.jsxDEV(CI,{router:T6},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:67,columnNumber:7},void 0)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:66,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/marcbreneiser/Documents/gauntletai/fundflowai/app/main.tsx",lineNumber:65,columnNumber:3},void 0));export{HC as g};
